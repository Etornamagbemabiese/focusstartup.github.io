var fD=tt=>{throw TypeError(tt)};var t1=(tt,Et,Jt)=>Et.has(tt)||fD("Cannot "+Jt);var R=(tt,Et,Jt)=>(t1(tt,Et,"read from private field"),Jt?Jt.call(tt):Et.get(tt)),ge=(tt,Et,Jt)=>Et.has(tt)?fD("Cannot add the same private member more than once"):Et instanceof WeakSet?Et.add(tt):Et.set(tt,Jt),ie=(tt,Et,Jt,Di)=>(t1(tt,Et,"write to private field"),Di?Di.call(tt,Jt):Et.set(tt,Jt),Jt),Te=(tt,Et,Jt)=>(t1(tt,Et,"access private method"),Jt);var pg=(tt,Et,Jt,Di)=>({set _(Ka){ie(tt,Et,Ka,Jt)},get _(){return R(tt,Et,Di)}});(function(){"use strict";var Ia,ki,Ac,nD,Ic,Si,Dc,sD,Da,oD,Lc,La,In,$a,vr,vh,Fa,as,vo,iD,Rs,aD,Ms,Rr,za,Os,Ii,lD,fo,ls,yh,cD,ut,Ni,Ci,$c,Fc,ji,zc,Bc,dD,Hr,De,xh,Mr,Ba,Uc,Ei,_i,wh,Vc,Wc,Ua,Va,Ti,Hc,ze,jh,r1,n1,s1,o1,i1,a1,l1,pD,uD,Ri,Mi,qr,po,mo,mg,c1,hD;var tt=document.createElement("style");tt.textContent=`@import"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&display=swap";*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Plus Jakarta Sans,system-ui,sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}:root{--background: 224 50% 5%;--foreground: 210 30% 98%;--card: 224 45% 7%;--card-foreground: 210 30% 98%;--popover: 224 45% 9%;--popover-foreground: 210 30% 98%;--primary: 166 76% 48%;--primary-foreground: 224 50% 5%;--primary-glow: 166 76% 55%;--secondary: 224 35% 12%;--secondary-foreground: 210 25% 92%;--muted: 224 35% 10%;--muted-foreground: 215 18% 58%;--accent: 166 50% 18%;--accent-foreground: 166 76% 72%;--destructive: 0 72% 51%;--destructive-foreground: 210 30% 98%;--border: 224 30% 14%;--input: 224 30% 12%;--ring: 166 76% 48%;--radius: .875rem;--calendar-today: 166 76% 48%;--calendar-event: 166 45% 22%;--calendar-event-hover: 166 50% 28%;--success: 142 71% 45%;--warning: 38 92% 50%;--info: 199 89% 48%;--shadow-sm: 0 1px 3px 0 rgb(0 0 0 / .25);--shadow-md: 0 4px 12px -2px rgb(0 0 0 / .3), 0 2px 6px -2px rgb(0 0 0 / .2);--shadow-lg: 0 12px 24px -4px rgb(0 0 0 / .4), 0 4px 8px -4px rgb(0 0 0 / .3);--shadow-glow: 0 0 24px hsl(166 76% 48% / .2);--sidebar-background: 224 48% 6%;--sidebar-foreground: 210 25% 92%;--sidebar-primary: 166 76% 48%;--sidebar-primary-foreground: 224 50% 5%;--sidebar-accent: 224 35% 11%;--sidebar-accent-foreground: 210 25% 92%;--sidebar-border: 224 30% 13%;--sidebar-ring: 166 76% 48%}.light{--background: 40 20% 99%;--foreground: 224 40% 12%;--card: 0 0% 100%;--card-foreground: 224 40% 12%;--popover: 0 0% 100%;--popover-foreground: 224 40% 12%;--primary: 166 72% 38%;--primary-foreground: 0 0% 100%;--primary-glow: 166 72% 45%;--secondary: 40 15% 96%;--secondary-foreground: 224 40% 12%;--muted: 40 12% 95%;--muted-foreground: 224 15% 45%;--accent: 166 35% 93%;--accent-foreground: 166 72% 28%;--destructive: 0 84% 60%;--destructive-foreground: 0 0% 100%;--border: 40 12% 90%;--input: 40 12% 92%;--ring: 166 72% 38%;--calendar-today: 166 72% 38%;--calendar-event: 166 40% 92%;--calendar-event-hover: 166 45% 88%;--sidebar-background: 0 0% 99%;--sidebar-foreground: 224 40% 12%;--sidebar-primary: 166 72% 38%;--sidebar-primary-foreground: 0 0% 100%;--sidebar-accent: 40 15% 96%;--sidebar-accent-foreground: 224 40% 12%;--sidebar-border: 40 12% 92%;--sidebar-ring: 166 72% 38%}*{border-color:hsl(var(--border))}body{background-color:hsl(var(--background));font-family:Plus Jakarta Sans,system-ui,sans-serif;color:hsl(var(--foreground));-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Plus Jakarta Sans,system-ui,sans-serif;letter-spacing:-.01em}.safe-top{padding-top:env(safe-area-inset-top)}.safe-bottom{padding-bottom:env(safe-area-inset-bottom)}.overflow-y-auto,.overflow-y-scroll{-webkit-overflow-scrolling:touch}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background-color:hsl(var(--background))}::-webkit-scrollbar-thumb{border-radius:9999px;background-color:hsl(var(--muted))}::-webkit-scrollbar-thumb:hover{background-color:hsl(var(--muted-foreground) / .3)}.container{width:100%;margin-right:auto;margin-left:auto;padding-right:2rem;padding-left:2rem}@media (min-width: 1400px){.container{max-width:1400px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.inset-x-0{left:0;right:0}.inset-y-0{top:0;bottom:0}.-bottom-12{bottom:-3rem}.-left-1{left:-.25rem}.-left-12{left:-3rem}.-left-20{left:-5rem}.-right-12{right:-3rem}.-right-20{right:-5rem}.-top-1\\.5{top:-.375rem}.-top-12{top:-3rem}.-top-2{top:-.5rem}.-top-20{top:-5rem}.bottom-0{bottom:0}.left-0{left:0}.left-1{left:.25rem}.left-1\\/2{left:50%}.left-2{left:.5rem}.left-3{left:.75rem}.left-\\[50\\%\\]{left:50%}.right-0{right:0}.right-1{right:.25rem}.right-12{right:3rem}.right-2{right:.5rem}.right-3{right:.75rem}.right-4{right:1rem}.top-0{top:0}.top-1\\.5{top:.375rem}.top-1\\/2{top:50%}.top-2{top:.5rem}.top-24{top:6rem}.top-3{top:.75rem}.top-3\\.5{top:.875rem}.top-4{top:1rem}.top-\\[1px\\]{top:1px}.top-\\[50\\%\\]{top:50%}.top-\\[60\\%\\]{top:60%}.top-full{top:100%}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.z-\\[100\\]{z-index:100}.z-\\[1\\]{z-index:1}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-3\\.5{margin-left:.875rem;margin-right:.875rem}.mx-auto{margin-left:auto;margin-right:auto}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.-ml-4{margin-left:-1rem}.-mt-4{margin-top:-1rem}.mb-1{margin-bottom:.25rem}.mb-10{margin-bottom:2.5rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-0{margin-left:0}.ml-1{margin-left:.25rem}.ml-1\\.5{margin-left:.375rem}.ml-16{margin-left:4rem}.ml-2{margin-left:.5rem}.ml-64{margin-left:16rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mt-0{margin-top:0}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-1\\.5{margin-top:.375rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-auto{margin-top:auto}.line-clamp-2{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.line-clamp-3{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.block{display:block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.aspect-video{aspect-ratio:16 / 9}.size-4{width:1rem;height:1rem}.h-0\\.5{height:.125rem}.h-1{height:.25rem}.h-1\\.5{height:.375rem}.h-10{height:2.5rem}.h-11{height:2.75rem}.h-12{height:3rem}.h-14{height:3.5rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-20{height:5rem}.h-24{height:6rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-60{height:15rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-80{height:20rem}.h-9{height:2.25rem}.h-\\[1px\\]{height:1px}.h-\\[250px\\]{height:250px}.h-\\[280px\\]{height:280px}.h-\\[350px\\]{height:350px}.h-\\[400px\\]{height:400px}.h-\\[500px\\]{height:500px}.h-\\[60px\\]{height:60px}.h-\\[90vh\\]{height:90vh}.h-\\[calc\\(100vh-200px\\)\\]{height:calc(100vh - 200px)}.h-\\[calc\\(100vh-400px\\)\\]{height:calc(100vh - 400px)}.h-\\[calc\\(100vh-450px\\)\\]{height:calc(100vh - 450px)}.h-\\[var\\(--radix-navigation-menu-viewport-height\\)\\]{height:var(--radix-navigation-menu-viewport-height)}.h-\\[var\\(--radix-select-trigger-height\\)\\]{height:var(--radix-select-trigger-height)}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.h-svh{height:100svh}.max-h-96{max-height:24rem}.max-h-\\[100dvh\\]{max-height:100dvh}.max-h-\\[300px\\]{max-height:300px}.max-h-\\[60vh\\]{max-height:60vh}.max-h-\\[85vh\\]{max-height:85vh}.max-h-\\[90vh\\]{max-height:90vh}.max-h-screen{max-height:100vh}.min-h-0{min-height:0px}.min-h-\\[100px\\]{min-height:100px}.min-h-\\[200px\\]{min-height:200px}.min-h-\\[250px\\]{min-height:250px}.min-h-\\[280px\\]{min-height:280px}.min-h-\\[300px\\]{min-height:300px}.min-h-\\[320px\\]{min-height:320px}.min-h-\\[360px\\]{min-height:360px}.min-h-\\[44px\\]{min-height:44px}.min-h-\\[48px\\]{min-height:48px}.min-h-\\[80px\\]{min-height:80px}.min-h-screen{min-height:100vh}.min-h-svh{min-height:100svh}.w-0{width:0px}.w-1{width:.25rem}.w-1\\/2{width:50%}.w-1\\/3{width:33.333333%}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-12{width:3rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\\.5{width:.625rem}.w-20{width:5rem}.w-24{width:6rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-3\\/4{width:75%}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-60{width:15rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-72{width:18rem}.w-8{width:2rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-\\[--sidebar-width\\]{width:var(--sidebar-width)}.w-\\[100px\\]{width:100px}.w-\\[1px\\]{width:1px}.w-\\[300px\\]{width:300px}.w-\\[calc\\(100\\%-2rem\\)\\]{width:calc(100% - 2rem)}.w-\\[min\\(280px\\,85vw\\)\\]{width:min(280px,85vw)}.w-auto{width:auto}.w-fit{width:-moz-fit-content;width:fit-content}.w-full{width:100%}.w-max{width:-moz-max-content;width:max-content}.w-px{width:1px}.min-w-0{min-width:0px}.min-w-4{min-width:1rem}.min-w-5{min-width:1.25rem}.min-w-\\[120px\\]{min-width:120px}.min-w-\\[12rem\\]{min-width:12rem}.min-w-\\[300px\\]{min-width:300px}.min-w-\\[50px\\]{min-width:50px}.min-w-\\[800px\\]{min-width:800px}.min-w-\\[8rem\\]{min-width:8rem}.min-w-\\[var\\(--radix-select-trigger-width\\)\\]{min-width:var(--radix-select-trigger-width)}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-4xl{max-width:56rem}.max-w-5xl{max-width:64rem}.max-w-6xl{max-width:72rem}.max-w-7xl{max-width:80rem}.max-w-\\[--skeleton-width\\]{max-width:var(--skeleton-width)}.max-w-\\[180px\\]{max-width:180px}.max-w-lg{max-width:32rem}.max-w-max{max-width:-moz-max-content;max-width:max-content}.max-w-md{max-width:28rem}.max-w-none{max-width:none}.max-w-xl{max-width:36rem}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.grow{flex-grow:1}.grow-0{flex-grow:0}.basis-full{flex-basis:100%}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-full{--tw-translate-x: -100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-px{--tw-translate-x: -1px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\\[-50\\%\\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-px{--tw-translate-x: 1px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-\\[-50\\%\\]{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-90{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in{animation:fade-in .3s ease-out}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes slide-up{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.animate-slide-up{animation:slide-up .4s ease-out}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-crosshair{cursor:crosshair}.cursor-default{cursor:default}.cursor-grab{cursor:grab}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.list-none{list-style-type:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-0>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(0px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0px * var(--tw-space-y-reverse))}.space-y-0\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.125rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.125rem * var(--tw-space-y-reverse))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.self-stretch{align-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overscroll-contain{overscroll-behavior:contain}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.break-words{overflow-wrap:break-word}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-\\[2px\\]{border-radius:2px}.rounded-\\[inherit\\]{border-radius:inherit}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-sm{border-radius:calc(var(--radius) - 4px)}.rounded-xl{border-radius:.75rem}.rounded-t-\\[10px\\]{border-top-left-radius:10px;border-top-right-radius:10px}.rounded-tl-sm{border-top-left-radius:calc(var(--radius) - 4px)}.border{border-width:1px}.border-2{border-width:2px}.border-\\[1\\.5px\\]{border-width:1.5px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-b-0{border-bottom-width:0px}.border-l{border-left-width:1px}.border-l-2{border-left-width:2px}.border-r{border-right-width:1px}.border-r-0{border-right-width:0px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-none{border-style:none}.border-\\[--color-border\\]{border-color:var(--color-border)}.border-border{border-color:hsl(var(--border))}.border-border\\/50{border-color:hsl(var(--border) / .5)}.border-current{border-color:currentColor}.border-destructive{border-color:hsl(var(--destructive))}.border-destructive\\/20{border-color:hsl(var(--destructive) / .2)}.border-destructive\\/50{border-color:hsl(var(--destructive) / .5)}.border-foreground{border-color:hsl(var(--foreground))}.border-green-500\\/50{border-color:#22c55e80}.border-info\\/30{border-color:hsl(var(--info) / .3)}.border-input{border-color:hsl(var(--input))}.border-muted-foreground\\/20{border-color:hsl(var(--muted-foreground) / .2)}.border-primary{border-color:hsl(var(--primary))}.border-primary\\/20{border-color:hsl(var(--primary) / .2)}.border-primary\\/30{border-color:hsl(var(--primary) / .3)}.border-primary\\/40{border-color:hsl(var(--primary) / .4)}.border-primary\\/50{border-color:hsl(var(--primary) / .5)}.border-secondary-foreground\\/20{border-color:hsl(var(--secondary-foreground) / .2)}.border-sidebar-border{border-color:hsl(var(--sidebar-border))}.border-success\\/30{border-color:hsl(var(--success) / .3)}.border-transparent{border-color:transparent}.border-warning\\/20{border-color:hsl(var(--warning) / .2)}.border-warning\\/30{border-color:hsl(var(--warning) / .3)}.border-warning\\/50{border-color:hsl(var(--warning) / .5)}.border-l-primary{border-left-color:hsl(var(--primary))}.border-l-transparent{border-left-color:transparent}.border-t-transparent{border-top-color:transparent}.bg-\\[--color-bg\\]{background-color:var(--color-bg)}.bg-accent{background-color:hsl(var(--accent))}.bg-background{background-color:hsl(var(--background))}.bg-background\\/80{background-color:hsl(var(--background) / .8)}.bg-background\\/95{background-color:hsl(var(--background) / .95)}.bg-black\\/80{background-color:#000c}.bg-border{background-color:hsl(var(--border))}.bg-card{background-color:hsl(var(--card))}.bg-card\\/30{background-color:hsl(var(--card) / .3)}.bg-card\\/80{background-color:hsl(var(--card) / .8)}.bg-destructive{background-color:hsl(var(--destructive))}.bg-destructive\\/10{background-color:hsl(var(--destructive) / .1)}.bg-destructive\\/20{background-color:hsl(var(--destructive) / .2)}.bg-destructive\\/5{background-color:hsl(var(--destructive) / .05)}.bg-foreground{background-color:hsl(var(--foreground))}.bg-green-500\\/10{background-color:#22c55e1a}.bg-info\\/20{background-color:hsl(var(--info) / .2)}.bg-muted{background-color:hsl(var(--muted))}.bg-muted\\/30{background-color:hsl(var(--muted) / .3)}.bg-muted\\/50{background-color:hsl(var(--muted) / .5)}.bg-popover{background-color:hsl(var(--popover))}.bg-primary{background-color:hsl(var(--primary))}.bg-primary\\/10{background-color:hsl(var(--primary) / .1)}.bg-primary\\/15{background-color:hsl(var(--primary) / .15)}.bg-primary\\/5{background-color:hsl(var(--primary) / .05)}.bg-red-500\\/10{background-color:#ef44441a}.bg-secondary{background-color:hsl(var(--secondary))}.bg-secondary\\/30{background-color:hsl(var(--secondary) / .3)}.bg-secondary\\/50{background-color:hsl(var(--secondary) / .5)}.bg-secondary\\/80{background-color:hsl(var(--secondary) / .8)}.bg-sidebar{background-color:hsl(var(--sidebar-background))}.bg-sidebar-border{background-color:hsl(var(--sidebar-border))}.bg-success{background-color:hsl(var(--success))}.bg-success\\/10{background-color:hsl(var(--success) / .1)}.bg-success\\/20{background-color:hsl(var(--success) / .2)}.bg-transparent{background-color:transparent}.bg-warning\\/10{background-color:hsl(var(--warning) / .1)}.bg-warning\\/20{background-color:hsl(var(--warning) / .2)}.bg-warning\\/5{background-color:hsl(var(--warning) / .05)}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-500\\/10{background-color:#eab3081a}.bg-\\[linear-gradient\\(to_right\\,hsl\\(var\\(--border\\)\\/0\\.03\\)_1px\\,transparent_1px\\)\\,linear-gradient\\(to_bottom\\,hsl\\(var\\(--border\\)\\/0\\.03\\)_1px\\,transparent_1px\\)\\]{background-image:linear-gradient(to right,hsl(var(--border)/.03) 1px,transparent 1px),linear-gradient(to bottom,hsl(var(--border)/.03) 1px,transparent 1px)}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.bg-gradient-to-t{background-image:linear-gradient(to top,var(--tw-gradient-stops))}.from-black\\/70{--tw-gradient-from: rgb(0 0 0 / .7) var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary\\/10{--tw-gradient-from: hsl(var(--primary) / .1) var(--tw-gradient-from-position);--tw-gradient-to: hsl(var(--primary) / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.to-accent\\/10{--tw-gradient-to: hsl(var(--accent) / .1) var(--tw-gradient-to-position)}.to-transparent{--tw-gradient-to: transparent var(--tw-gradient-to-position)}.bg-\\[size\\:4rem_4rem\\]{background-size:4rem 4rem}.fill-current{fill:currentColor}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-1{padding:.25rem}.p-1\\.5{padding:.375rem}.p-12{padding:3rem}.p-2{padding:.5rem}.p-2\\.5{padding:.625rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.p-\\[1px\\]{padding:1px}.px-0{padding-left:0;padding-right:0}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-20{padding-top:5rem;padding-bottom:5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-5{padding-top:1.25rem;padding-bottom:1.25rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-16{padding-bottom:4rem}.pb-2{padding-bottom:.5rem}.pb-3{padding-bottom:.75rem}.pb-4{padding-bottom:1rem}.pb-6{padding-bottom:1.5rem}.pl-2\\.5{padding-left:.625rem}.pl-4{padding-left:1rem}.pl-8{padding-left:2rem}.pl-9{padding-left:2.25rem}.pr-2{padding-right:.5rem}.pr-2\\.5{padding-right:.625rem}.pr-4{padding-right:1rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.pt-24{padding-top:6rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.align-middle{vertical-align:middle}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-\\[0\\.8rem\\]{font-size:.8rem}.text-\\[10px\\]{font-size:10px}.text-\\[11px\\]{font-size:11px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.capitalize{text-transform:capitalize}.italic{font-style:italic}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-\\[1\\.15\\]{line-height:1.15}.leading-none{line-height:1}.leading-relaxed{line-height:1.625}.tracking-tight{letter-spacing:-.025em}.tracking-wider{letter-spacing:.05em}.tracking-widest{letter-spacing:.1em}.text-accent-foreground{color:hsl(var(--accent-foreground))}.text-amber-500{--tw-text-opacity: 1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-card-foreground{color:hsl(var(--card-foreground))}.text-current{color:currentColor}.text-destructive{color:hsl(var(--destructive))}.text-destructive-foreground{color:hsl(var(--destructive-foreground))}.text-foreground{color:hsl(var(--foreground))}.text-foreground\\/50{color:hsl(var(--foreground) / .5)}.text-foreground\\/80{color:hsl(var(--foreground) / .8)}.text-foreground\\/90{color:hsl(var(--foreground) / .9)}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-info{color:hsl(var(--info))}.text-muted-foreground{color:hsl(var(--muted-foreground))}.text-muted-foreground\\/30{color:hsl(var(--muted-foreground) / .3)}.text-muted-foreground\\/40{color:hsl(var(--muted-foreground) / .4)}.text-muted-foreground\\/60{color:hsl(var(--muted-foreground) / .6)}.text-popover-foreground{color:hsl(var(--popover-foreground))}.text-primary{color:hsl(var(--primary))}.text-primary-foreground{color:hsl(var(--primary-foreground))}.text-primary\\/50{color:hsl(var(--primary) / .5)}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-secondary-foreground{color:hsl(var(--secondary-foreground))}.text-sidebar-foreground{color:hsl(var(--sidebar-foreground))}.text-sidebar-foreground\\/70{color:hsl(var(--sidebar-foreground) / .7)}.text-success{color:hsl(var(--success))}.text-success\\/40{color:hsl(var(--success) / .4)}.text-warning{color:hsl(var(--warning))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\\/60{color:#fff9}.text-white\\/80{color:#fffc}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.line-through{text-decoration-line:line-through}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-30{opacity:.3}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.opacity-90{opacity:.9}.shadow-\\[0_0_0_1px_hsl\\(var\\(--sidebar-border\\)\\)\\]{--tw-shadow: 0 0 0 1px hsl(var(--sidebar-border));--tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-\\[0_4px_14px_-2px_hsl\\(var\\(--primary\\)\\/0\\.4\\)\\]{--tw-shadow: 0 4px 14px -2px hsl(var(--primary)/.4);--tw-shadow-colored: 0 4px 14px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-primary\\/20{--tw-shadow-color: hsl(var(--primary) / .2);--tw-shadow: var(--tw-shadow-colored)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-2{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-primary{--tw-ring-color: hsl(var(--primary))}.ring-primary\\/20{--tw-ring-color: hsl(var(--primary) / .2)}.ring-ring{--tw-ring-color: hsl(var(--ring))}.ring-sidebar-ring{--tw-ring-color: hsl(var(--sidebar-ring))}.ring-offset-2{--tw-ring-offset-width: 2px}.ring-offset-background{--tw-ring-offset-color: hsl(var(--background))}.blur-\\[60px\\]{--tw-blur: blur(60px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-\\[80px\\]{--tw-blur: blur(80px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-xl{--tw-backdrop-blur: blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[left\\,right\\,width\\]{transition-property:left,right,width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[margin\\,opa\\]{transition-property:margin,opa;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[width\\,height\\,padding\\]{transition-property:width,height,padding;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[width\\]{transition-property:width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-1000{transition-duration:1s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-linear{transition-timing-function:linear}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}.animate-in{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.fade-in-0{--tw-enter-opacity: 0}.fade-in-80{--tw-enter-opacity: .8}.zoom-in-95{--tw-enter-scale: .95}.duration-1000{animation-duration:1s}.duration-200{animation-duration:.2s}.duration-300{animation-duration:.3s}.duration-500{animation-duration:.5s}.ease-in-out{animation-timing-function:cubic-bezier(.4,0,.2,1)}.ease-linear{animation-timing-function:linear}.running{animation-play-state:running}.gradient-primary{background:linear-gradient(135deg,hsl(var(--primary)),hsl(var(--primary-glow)));box-shadow:0 2px 12px -2px hsl(var(--primary) / .4)}.text-gradient{-webkit-background-clip:text;background-clip:text;color:transparent;background-image:linear-gradient(135deg,hsl(var(--primary)),hsl(var(--primary-glow)))}.animate-fade-in{animation:fadeIn .3s ease-out}.animate-slide-up{animation:slideUp .4s ease-out}.glass{border-width:1px;border-color:hsl(var(--border) / .5);background-color:hsl(var(--card) / .8);--tw-backdrop-blur: blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);box-shadow:0 1px hsl(var(--border) / .5)}.btn-glow{box-shadow:0 4px 14px -2px hsl(var(--primary) / .4),0 0 0 1px hsl(var(--primary) / .1)}.btn-glow:hover{box-shadow:0 6px 20px -4px hsl(var(--primary) / .5),0 0 0 1px hsl(var(--primary) / .15)}.\\[perspective\\:1000px\\]{perspective:1000px}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes pulseSoft{0%,to{opacity:1}50%{opacity:.7}}.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:1px}.calendar-day{min-height:100px;border-width:1px;border-color:hsl(var(--border) / .5);background-color:hsl(var(--card));padding:.5rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;animation-duration:.2s}.calendar-day:hover{border-color:hsl(var(--primary) / .3);background-color:hsl(var(--secondary) / .5)}.calendar-day.today{border-color:hsl(var(--primary) / .5);background-color:hsl(var(--primary) / .05)}.calendar-event{cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:calc(var(--radius) - 2px);padding:.25rem .5rem;font-size:.75rem;line-height:1rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;animation-duration:.15s;background-color:hsl(var(--calendar-event));color:hsl(var(--accent-foreground))}.calendar-event:hover{background-color:hsl(var(--calendar-event-hover))}.recording-indicator{height:.75rem;width:.75rem;border-radius:9999px;background-color:hsl(var(--destructive));animation:recordingPulse 1.5s ease-in-out infinite}@keyframes recordingPulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}body.focus-mode-active [data-sonner-toaster]{display:none!important}body.focus-mode-active:before{content:"";position:fixed;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,hsl(var(--primary)),hsl(var(--primary-glow)));z-index:9999;animation:focusPulse 3s ease-in-out infinite}@keyframes focusPulse{0%,to{opacity:.6}50%{opacity:1}}.tiptap{outline:none}.tiptap p.is-editor-empty:first-child:before{content:attr(data-placeholder);float:left;color:hsl(var(--muted-foreground));pointer-events:none;height:0}.tiptap h1{margin-bottom:1rem;font-size:1.5rem;line-height:2rem;font-weight:700}.tiptap h2{margin-bottom:.75rem;font-size:1.25rem;line-height:1.75rem;font-weight:600}.tiptap h3{margin-bottom:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:500}.tiptap ul,.tiptap ol{margin-bottom:1rem;padding-left:1.5rem}.tiptap ul{list-style-type:disc}.tiptap ol{list-style-type:decimal}.tiptap blockquote{margin-top:1rem;margin-bottom:1rem;border-left-width:4px;border-color:hsl(var(--primary));padding-left:1rem;font-style:italic;color:hsl(var(--muted-foreground))}.tiptap code{border-radius:.25rem;background-color:hsl(var(--secondary));padding:.125rem .375rem;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:.875rem;line-height:1.25rem}.tiptap pre{margin-top:1rem;margin-bottom:1rem;overflow-x:auto;border-radius:var(--radius);background-color:hsl(var(--secondary));padding:1rem}.tiptap pre code{background-color:transparent;padding:0}.file\\:border-0::file-selector-button{border-width:0px}.file\\:bg-transparent::file-selector-button{background-color:transparent}.file\\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\\:font-medium::file-selector-button{font-weight:500}.file\\:text-foreground::file-selector-button{color:hsl(var(--foreground))}.placeholder\\:text-muted-foreground::-moz-placeholder{color:hsl(var(--muted-foreground))}.placeholder\\:text-muted-foreground::placeholder{color:hsl(var(--muted-foreground))}.after\\:absolute:after{content:var(--tw-content);position:absolute}.after\\:-inset-2:after{content:var(--tw-content);top:-.5rem;right:-.5rem;bottom:-.5rem;left:-.5rem}.after\\:inset-y-0:after{content:var(--tw-content);top:0;bottom:0}.after\\:left-1\\/2:after{content:var(--tw-content);left:50%}.after\\:w-1:after{content:var(--tw-content);width:.25rem}.after\\:w-\\[2px\\]:after{content:var(--tw-content);width:2px}.after\\:-translate-x-1\\/2:after{content:var(--tw-content);--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.first\\:rounded-l-md:first-child{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.first\\:border-l:first-child{border-left-width:1px}.last\\:rounded-r-md:last-child{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.focus-within\\:relative:focus-within{position:relative}.focus-within\\:z-20:focus-within{z-index:20}.hover\\:z-10:hover{z-index:10}.hover\\:-translate-y-0\\.5:hover{--tw-translate-y: -.125rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:border-border:hover{border-color:hsl(var(--border))}.hover\\:border-primary\\/20:hover{border-color:hsl(var(--primary) / .2)}.hover\\:border-primary\\/25:hover{border-color:hsl(var(--primary) / .25)}.hover\\:border-primary\\/30:hover{border-color:hsl(var(--primary) / .3)}.hover\\:border-primary\\/50:hover{border-color:hsl(var(--primary) / .5)}.hover\\:bg-accent:hover{background-color:hsl(var(--accent))}.hover\\:bg-accent\\/80:hover{background-color:hsl(var(--accent) / .8)}.hover\\:bg-card:hover{background-color:hsl(var(--card))}.hover\\:bg-destructive\\/10:hover{background-color:hsl(var(--destructive) / .1)}.hover\\:bg-destructive\\/80:hover{background-color:hsl(var(--destructive) / .8)}.hover\\:bg-destructive\\/90:hover{background-color:hsl(var(--destructive) / .9)}.hover\\:bg-muted:hover{background-color:hsl(var(--muted))}.hover\\:bg-muted\\/50:hover{background-color:hsl(var(--muted) / .5)}.hover\\:bg-primary:hover{background-color:hsl(var(--primary))}.hover\\:bg-primary\\/10:hover{background-color:hsl(var(--primary) / .1)}.hover\\:bg-primary\\/15:hover{background-color:hsl(var(--primary) / .15)}.hover\\:bg-primary\\/5:hover{background-color:hsl(var(--primary) / .05)}.hover\\:bg-primary\\/80:hover{background-color:hsl(var(--primary) / .8)}.hover\\:bg-primary\\/90:hover{background-color:hsl(var(--primary) / .9)}.hover\\:bg-secondary:hover{background-color:hsl(var(--secondary))}.hover\\:bg-secondary\\/30:hover{background-color:hsl(var(--secondary) / .3)}.hover\\:bg-secondary\\/50:hover{background-color:hsl(var(--secondary) / .5)}.hover\\:bg-secondary\\/80:hover{background-color:hsl(var(--secondary) / .8)}.hover\\:bg-sidebar-accent:hover{background-color:hsl(var(--sidebar-accent))}.hover\\:from-primary\\/20:hover{--tw-gradient-from: hsl(var(--primary) / .2) var(--tw-gradient-from-position);--tw-gradient-to: hsl(var(--primary) / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:to-accent\\/20:hover{--tw-gradient-to: hsl(var(--accent) / .2) var(--tw-gradient-to-position)}.hover\\:text-accent-foreground:hover{color:hsl(var(--accent-foreground))}.hover\\:text-destructive:hover{color:hsl(var(--destructive))}.hover\\:text-foreground:hover{color:hsl(var(--foreground))}.hover\\:text-muted-foreground:hover{color:hsl(var(--muted-foreground))}.hover\\:text-primary:hover{color:hsl(var(--primary))}.hover\\:text-primary-foreground:hover{color:hsl(var(--primary-foreground))}.hover\\:text-primary\\/90:hover{color:hsl(var(--primary) / .9)}.hover\\:text-sidebar-accent-foreground:hover{color:hsl(var(--sidebar-accent-foreground))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.hover\\:opacity-90:hover{opacity:.9}.hover\\:shadow-\\[0_0_0_1px_hsl\\(var\\(--sidebar-accent\\)\\)\\]:hover{--tw-shadow: 0 0 0 1px hsl(var(--sidebar-accent));--tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-\\[0_6px_20px_-4px_hsl\\(var\\(--primary\\)\\/0\\.5\\)\\]:hover{--tw-shadow: 0 6px 20px -4px hsl(var(--primary)/.5);--tw-shadow-colored: 0 6px 20px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-lg:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-md:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-xl:hover{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-primary\\/5:hover{--tw-shadow-color: hsl(var(--primary) / .05);--tw-shadow: var(--tw-shadow-colored)}.hover\\:after\\:bg-sidebar-border:hover:after{content:var(--tw-content);background-color:hsl(var(--sidebar-border))}.focus\\:bg-accent:focus{background-color:hsl(var(--accent))}.focus\\:bg-primary:focus{background-color:hsl(var(--primary))}.focus\\:text-accent-foreground:focus{color:hsl(var(--accent-foreground))}.focus\\:text-primary-foreground:focus{color:hsl(var(--primary-foreground))}.focus\\:opacity-100:focus{opacity:1}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-ring:focus{--tw-ring-color: hsl(var(--ring))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus-visible\\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\\:ring-0:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-1:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-ring:focus-visible{--tw-ring-color: hsl(var(--ring))}.focus-visible\\:ring-sidebar-ring:focus-visible{--tw-ring-color: hsl(var(--sidebar-ring))}.focus-visible\\:ring-offset-1:focus-visible{--tw-ring-offset-width: 1px}.focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.focus-visible\\:ring-offset-background:focus-visible{--tw-ring-offset-color: hsl(var(--background))}.active\\:scale-\\[0\\.98\\]:active{--tw-scale-x: .98;--tw-scale-y: .98;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\\:scale-\\[0\\.99\\]:active{--tw-scale-x: .99;--tw-scale-y: .99;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\\:cursor-grabbing:active{cursor:grabbing}.active\\:bg-sidebar-accent:active{background-color:hsl(var(--sidebar-accent))}.active\\:text-sidebar-accent-foreground:active{color:hsl(var(--sidebar-accent-foreground))}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group\\/menu-item:focus-within .group-focus-within\\/menu-item\\:opacity-100{opacity:1}.group:hover .group-hover\\:translate-x-1{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:scale-105{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:bg-primary\\/15{background-color:hsl(var(--primary) / .15)}.group:hover .group-hover\\:text-primary{color:hsl(var(--primary))}.group\\/menu-item:hover .group-hover\\/menu-item\\:opacity-100,.group:hover .group-hover\\:opacity-100{opacity:1}.group.destructive .group-\\[\\.destructive\\]\\:border-muted\\/40{border-color:hsl(var(--muted) / .4)}.group.toaster .group-\\[\\.toaster\\]\\:border-border{border-color:hsl(var(--border))}.group.toast .group-\\[\\.toast\\]\\:bg-muted{background-color:hsl(var(--muted))}.group.toast .group-\\[\\.toast\\]\\:bg-primary{background-color:hsl(var(--primary))}.group.toaster .group-\\[\\.toaster\\]\\:bg-background{background-color:hsl(var(--background))}.group.destructive .group-\\[\\.destructive\\]\\:text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.group.toast .group-\\[\\.toast\\]\\:text-muted-foreground{color:hsl(var(--muted-foreground))}.group.toast .group-\\[\\.toast\\]\\:text-primary-foreground{color:hsl(var(--primary-foreground))}.group.toaster .group-\\[\\.toaster\\]\\:text-foreground{color:hsl(var(--foreground))}.group.toaster .group-\\[\\.toaster\\]\\:shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:border-destructive\\/30:hover{border-color:hsl(var(--destructive) / .3)}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:bg-destructive:hover{background-color:hsl(var(--destructive))}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:text-destructive-foreground:hover{color:hsl(var(--destructive-foreground))}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:text-red-50:hover{--tw-text-opacity: 1;color:rgb(254 242 242 / var(--tw-text-opacity, 1))}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-destructive:focus{--tw-ring-color: hsl(var(--destructive))}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-red-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(248 113 113 / var(--tw-ring-opacity, 1))}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-offset-red-600:focus{--tw-ring-offset-color: #dc2626}.peer\\/menu-button:hover~.peer-hover\\/menu-button\\:text-sidebar-accent-foreground{color:hsl(var(--sidebar-accent-foreground))}.peer:disabled~.peer-disabled\\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\\:opacity-70{opacity:.7}.has-\\[\\[data-variant\\=inset\\]\\]\\:bg-sidebar:has([data-variant=inset]){background-color:hsl(var(--sidebar-background))}.has-\\[\\:disabled\\]\\:opacity-50:has(:disabled){opacity:.5}.group\\/menu-item:has([data-sidebar=menu-action]) .group-has-\\[\\[data-sidebar\\=menu-action\\]\\]\\/menu-item\\:pr-8{padding-right:2rem}.aria-disabled\\:pointer-events-none[aria-disabled=true]{pointer-events:none}.aria-disabled\\:opacity-50[aria-disabled=true]{opacity:.5}.aria-selected\\:bg-accent[aria-selected=true]{background-color:hsl(var(--accent))}.aria-selected\\:bg-accent\\/50[aria-selected=true]{background-color:hsl(var(--accent) / .5)}.aria-selected\\:text-accent-foreground[aria-selected=true]{color:hsl(var(--accent-foreground))}.aria-selected\\:text-muted-foreground[aria-selected=true]{color:hsl(var(--muted-foreground))}.aria-selected\\:opacity-100[aria-selected=true]{opacity:1}.aria-selected\\:opacity-30[aria-selected=true]{opacity:.3}.data-\\[disabled\\=true\\]\\:pointer-events-none[data-disabled=true],.data-\\[disabled\\]\\:pointer-events-none[data-disabled]{pointer-events:none}.data-\\[panel-group-direction\\=vertical\\]\\:h-px[data-panel-group-direction=vertical]{height:1px}.data-\\[panel-group-direction\\=vertical\\]\\:w-full[data-panel-group-direction=vertical]{width:100%}.data-\\[side\\=bottom\\]\\:translate-y-1[data-side=bottom]{--tw-translate-y: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=left\\]\\:-translate-x-1[data-side=left]{--tw-translate-x: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=right\\]\\:translate-x-1[data-side=right]{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=top\\]\\:-translate-y-1[data-side=top]{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=checked\\]\\:translate-x-5[data-state=checked]{--tw-translate-x: 1.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=unchecked\\]\\:translate-x-0[data-state=unchecked],.data-\\[swipe\\=cancel\\]\\:translate-x-0[data-swipe=cancel]{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[swipe\\=end\\]\\:translate-x-\\[var\\(--radix-toast-swipe-end-x\\)\\][data-swipe=end]{--tw-translate-x: var(--radix-toast-swipe-end-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[swipe\\=move\\]\\:translate-x-\\[var\\(--radix-toast-swipe-move-x\\)\\][data-swipe=move]{--tw-translate-x: var(--radix-toast-swipe-move-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes accordion-up{0%{height:var(--radix-accordion-content-height)}to{height:0}}.data-\\[state\\=closed\\]\\:animate-accordion-up[data-state=closed]{animation:accordion-up .2s ease-out}@keyframes accordion-down{0%{height:0}to{height:var(--radix-accordion-content-height)}}.data-\\[state\\=open\\]\\:animate-accordion-down[data-state=open]{animation:accordion-down .2s ease-out}.data-\\[panel-group-direction\\=vertical\\]\\:flex-col[data-panel-group-direction=vertical]{flex-direction:column}.data-\\[active\\=true\\]\\:bg-sidebar-accent[data-active=true]{background-color:hsl(var(--sidebar-accent))}.data-\\[active\\]\\:bg-accent\\/50[data-active]{background-color:hsl(var(--accent) / .5)}.data-\\[selected\\=\\'true\\'\\]\\:bg-accent[data-selected=true]{background-color:hsl(var(--accent))}.data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:hsl(var(--background))}.data-\\[state\\=checked\\]\\:bg-primary[data-state=checked]{background-color:hsl(var(--primary))}.data-\\[state\\=on\\]\\:bg-accent[data-state=on],.data-\\[state\\=open\\]\\:bg-accent[data-state=open]{background-color:hsl(var(--accent))}.data-\\[state\\=open\\]\\:bg-accent\\/50[data-state=open]{background-color:hsl(var(--accent) / .5)}.data-\\[state\\=open\\]\\:bg-secondary[data-state=open]{background-color:hsl(var(--secondary))}.data-\\[state\\=selected\\]\\:bg-muted[data-state=selected]{background-color:hsl(var(--muted))}.data-\\[state\\=unchecked\\]\\:bg-input[data-state=unchecked]{background-color:hsl(var(--input))}.data-\\[active\\=true\\]\\:font-medium[data-active=true]{font-weight:500}.data-\\[active\\=true\\]\\:text-sidebar-accent-foreground[data-active=true]{color:hsl(var(--sidebar-accent-foreground))}.data-\\[selected\\=true\\]\\:text-accent-foreground[data-selected=true]{color:hsl(var(--accent-foreground))}.data-\\[state\\=active\\]\\:text-foreground[data-state=active]{color:hsl(var(--foreground))}.data-\\[state\\=checked\\]\\:text-primary-foreground[data-state=checked]{color:hsl(var(--primary-foreground))}.data-\\[state\\=on\\]\\:text-accent-foreground[data-state=on],.data-\\[state\\=open\\]\\:text-accent-foreground[data-state=open]{color:hsl(var(--accent-foreground))}.data-\\[state\\=open\\]\\:text-muted-foreground[data-state=open]{color:hsl(var(--muted-foreground))}.data-\\[disabled\\=true\\]\\:opacity-50[data-disabled=true],.data-\\[disabled\\]\\:opacity-50[data-disabled]{opacity:.5}.data-\\[state\\=open\\]\\:opacity-100[data-state=open]{opacity:1}.data-\\[state\\=active\\]\\:shadow-sm[data-state=active]{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.data-\\[swipe\\=move\\]\\:transition-none[data-swipe=move]{transition-property:none}.data-\\[state\\=closed\\]\\:duration-300[data-state=closed]{transition-duration:.3s}.data-\\[state\\=open\\]\\:duration-500[data-state=open]{transition-duration:.5s}.data-\\[motion\\^\\=from-\\]\\:animate-in[data-motion^=from-],.data-\\[state\\=open\\]\\:animate-in[data-state=open],.data-\\[state\\=visible\\]\\:animate-in[data-state=visible]{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.data-\\[motion\\^\\=to-\\]\\:animate-out[data-motion^=to-],.data-\\[state\\=closed\\]\\:animate-out[data-state=closed],.data-\\[state\\=hidden\\]\\:animate-out[data-state=hidden],.data-\\[swipe\\=end\\]\\:animate-out[data-swipe=end]{animation-name:exit;animation-duration:.15s;--tw-exit-opacity: initial;--tw-exit-scale: initial;--tw-exit-rotate: initial;--tw-exit-translate-x: initial;--tw-exit-translate-y: initial}.data-\\[motion\\^\\=from-\\]\\:fade-in[data-motion^=from-]{--tw-enter-opacity: 0}.data-\\[motion\\^\\=to-\\]\\:fade-out[data-motion^=to-],.data-\\[state\\=closed\\]\\:fade-out-0[data-state=closed]{--tw-exit-opacity: 0}.data-\\[state\\=closed\\]\\:fade-out-80[data-state=closed]{--tw-exit-opacity: .8}.data-\\[state\\=hidden\\]\\:fade-out[data-state=hidden]{--tw-exit-opacity: 0}.data-\\[state\\=open\\]\\:fade-in-0[data-state=open],.data-\\[state\\=visible\\]\\:fade-in[data-state=visible]{--tw-enter-opacity: 0}.data-\\[state\\=closed\\]\\:zoom-out-95[data-state=closed]{--tw-exit-scale: .95}.data-\\[state\\=open\\]\\:zoom-in-90[data-state=open]{--tw-enter-scale: .9}.data-\\[state\\=open\\]\\:zoom-in-95[data-state=open]{--tw-enter-scale: .95}.data-\\[motion\\=from-end\\]\\:slide-in-from-right-52[data-motion=from-end]{--tw-enter-translate-x: 13rem}.data-\\[motion\\=from-start\\]\\:slide-in-from-left-52[data-motion=from-start]{--tw-enter-translate-x: -13rem}.data-\\[motion\\=to-end\\]\\:slide-out-to-right-52[data-motion=to-end]{--tw-exit-translate-x: 13rem}.data-\\[motion\\=to-start\\]\\:slide-out-to-left-52[data-motion=to-start]{--tw-exit-translate-x: -13rem}.data-\\[side\\=bottom\\]\\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y: -.5rem}.data-\\[side\\=left\\]\\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x: .5rem}.data-\\[side\\=right\\]\\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x: -.5rem}.data-\\[side\\=top\\]\\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y: .5rem}.data-\\[state\\=closed\\]\\:slide-out-to-bottom[data-state=closed]{--tw-exit-translate-y: 100%}.data-\\[state\\=closed\\]\\:slide-out-to-left[data-state=closed]{--tw-exit-translate-x: -100%}.data-\\[state\\=closed\\]\\:slide-out-to-left-1\\/2[data-state=closed]{--tw-exit-translate-x: -50%}.data-\\[state\\=closed\\]\\:slide-out-to-right[data-state=closed],.data-\\[state\\=closed\\]\\:slide-out-to-right-full[data-state=closed]{--tw-exit-translate-x: 100%}.data-\\[state\\=closed\\]\\:slide-out-to-top[data-state=closed]{--tw-exit-translate-y: -100%}.data-\\[state\\=closed\\]\\:slide-out-to-top-\\[48\\%\\][data-state=closed]{--tw-exit-translate-y: -48%}.data-\\[state\\=open\\]\\:slide-in-from-bottom[data-state=open]{--tw-enter-translate-y: 100%}.data-\\[state\\=open\\]\\:slide-in-from-left[data-state=open]{--tw-enter-translate-x: -100%}.data-\\[state\\=open\\]\\:slide-in-from-left-1\\/2[data-state=open]{--tw-enter-translate-x: -50%}.data-\\[state\\=open\\]\\:slide-in-from-right[data-state=open]{--tw-enter-translate-x: 100%}.data-\\[state\\=open\\]\\:slide-in-from-top[data-state=open]{--tw-enter-translate-y: -100%}.data-\\[state\\=open\\]\\:slide-in-from-top-\\[48\\%\\][data-state=open]{--tw-enter-translate-y: -48%}.data-\\[state\\=open\\]\\:slide-in-from-top-full[data-state=open]{--tw-enter-translate-y: -100%}.data-\\[state\\=closed\\]\\:duration-300[data-state=closed]{animation-duration:.3s}.data-\\[state\\=open\\]\\:duration-500[data-state=open]{animation-duration:.5s}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:left-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);left:0}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:h-1[data-panel-group-direction=vertical]:after{content:var(--tw-content);height:.25rem}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:w-full[data-panel-group-direction=vertical]:after{content:var(--tw-content);width:100%}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:-translate-y-1\\/2[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:translate-x-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=open\\]\\:hover\\:bg-sidebar-accent:hover[data-state=open]{background-color:hsl(var(--sidebar-accent))}.data-\\[state\\=open\\]\\:hover\\:text-sidebar-accent-foreground:hover[data-state=open]{color:hsl(var(--sidebar-accent-foreground))}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:left-\\[calc\\(var\\(--sidebar-width\\)\\*-1\\)\\]{left:calc(var(--sidebar-width) * -1)}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:right-\\[calc\\(var\\(--sidebar-width\\)\\*-1\\)\\]{right:calc(var(--sidebar-width) * -1)}.group[data-side=left] .group-data-\\[side\\=left\\]\\:-right-4{right:-1rem}.group[data-side=right] .group-data-\\[side\\=right\\]\\:left-0{left:0}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:-mt-8{margin-top:-2rem}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:hidden{display:none}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:\\!size-8{width:2rem!important;height:2rem!important}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:w-\\[--sidebar-width-icon\\]{width:var(--sidebar-width-icon)}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:w-\\[calc\\(var\\(--sidebar-width-icon\\)_\\+_theme\\(spacing\\.4\\)\\)\\]{width:calc(var(--sidebar-width-icon) + 1rem)}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:w-\\[calc\\(var\\(--sidebar-width-icon\\)_\\+_theme\\(spacing\\.4\\)_\\+2px\\)\\]{width:calc(var(--sidebar-width-icon) + 1rem + 2px)}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:w-0{width:0px}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group[data-side=right] .group-data-\\[side\\=right\\]\\:rotate-180,.group[data-state=open] .group-data-\\[state\\=open\\]\\:rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:overflow-hidden{overflow:hidden}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:rounded-lg{border-radius:var(--radius)}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:border{border-width:1px}.group[data-side=left] .group-data-\\[side\\=left\\]\\:border-r{border-right-width:1px}.group[data-side=right] .group-data-\\[side\\=right\\]\\:border-l{border-left-width:1px}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:border-sidebar-border{border-color:hsl(var(--sidebar-border))}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:\\!p-0{padding:0!important}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:\\!p-2{padding:.5rem!important}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:opacity-0{opacity:0}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:after\\:left-full:after{content:var(--tw-content);left:100%}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:hover\\:bg-sidebar:hover{background-color:hsl(var(--sidebar-background))}.peer\\/menu-button[data-size=default]~.peer-data-\\[size\\=default\\]\\/menu-button\\:top-1\\.5{top:.375rem}.peer\\/menu-button[data-size=lg]~.peer-data-\\[size\\=lg\\]\\/menu-button\\:top-2\\.5{top:.625rem}.peer\\/menu-button[data-size=sm]~.peer-data-\\[size\\=sm\\]\\/menu-button\\:top-1{top:.25rem}.peer[data-variant=inset]~.peer-data-\\[variant\\=inset\\]\\:min-h-\\[calc\\(100svh-theme\\(spacing\\.4\\)\\)\\]{min-height:calc(100svh - 1rem)}.peer\\/menu-button[data-active=true]~.peer-data-\\[active\\=true\\]\\/menu-button\\:text-sidebar-accent-foreground{color:hsl(var(--sidebar-accent-foreground))}.dark\\:border-destructive:is(.dark *){border-color:hsl(var(--destructive))}@media (min-width: 640px){.sm\\:bottom-0{bottom:0}.sm\\:right-0{right:0}.sm\\:top-auto{top:auto}.sm\\:mx-0{margin-left:0;margin-right:0}.sm\\:mb-10{margin-bottom:2.5rem}.sm\\:mb-16{margin-bottom:4rem}.sm\\:mb-3{margin-bottom:.75rem}.sm\\:mb-5{margin-bottom:1.25rem}.sm\\:mb-8{margin-bottom:2rem}.sm\\:ml-0{margin-left:0}.sm\\:mt-0{margin-top:0}.sm\\:inline{display:inline}.sm\\:flex{display:flex}.sm\\:h-12{height:3rem}.sm\\:h-14{height:3.5rem}.sm\\:h-16{height:4rem}.sm\\:h-4{height:1rem}.sm\\:h-5{height:1.25rem}.sm\\:h-6{height:1.5rem}.sm\\:h-7{height:1.75rem}.sm\\:h-8{height:2rem}.sm\\:h-9{height:2.25rem}.sm\\:h-\\[320px\\]{height:320px}.sm\\:h-\\[400px\\]{height:400px}.sm\\:w-12{width:3rem}.sm\\:w-4{width:1rem}.sm\\:w-5{width:1.25rem}.sm\\:w-6{width:1.5rem}.sm\\:w-64{width:16rem}.sm\\:w-7{width:1.75rem}.sm\\:w-8{width:2rem}.sm\\:w-9{width:2.25rem}.sm\\:w-\\[500px\\]{width:500px}.sm\\:w-auto{width:auto}.sm\\:min-w-\\[300px\\]{min-width:300px}.sm\\:max-w-2xl{max-width:42rem}.sm\\:max-w-\\[425px\\]{max-width:425px}.sm\\:max-w-\\[500px\\]{max-width:500px}.sm\\:max-w-\\[600px\\]{max-width:600px}.sm\\:max-w-lg{max-width:32rem}.sm\\:max-w-md{max-width:28rem}.sm\\:max-w-none{max-width:none}.sm\\:max-w-sm{max-width:24rem}.sm\\:flex-none{flex:none}.sm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.sm\\:flex-row{flex-direction:row}.sm\\:flex-col{flex-direction:column}.sm\\:flex-nowrap{flex-wrap:nowrap}.sm\\:items-center{align-items:center}.sm\\:justify-start{justify-content:flex-start}.sm\\:justify-end{justify-content:flex-end}.sm\\:gap-2\\.5{gap:.625rem}.sm\\:gap-3{gap:.75rem}.sm\\:gap-4{gap:1rem}.sm\\:gap-6{gap:1.5rem}.sm\\:gap-8{gap:2rem}.sm\\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.sm\\:space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.sm\\:space-y-0>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(0px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0px * var(--tw-space-y-reverse))}.sm\\:space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.sm\\:rounded-2xl{border-radius:1rem}.sm\\:rounded-lg{border-radius:var(--radius)}.sm\\:p-6{padding:1.5rem}.sm\\:px-4{padding-left:1rem;padding-right:1rem}.sm\\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\\:px-8{padding-left:2rem;padding-right:2rem}.sm\\:py-10{padding-top:2.5rem;padding-bottom:2.5rem}.sm\\:py-2{padding-top:.5rem;padding-bottom:.5rem}.sm\\:py-24{padding-top:6rem;padding-bottom:6rem}.sm\\:py-6{padding-top:1.5rem;padding-bottom:1.5rem}.sm\\:pb-20{padding-bottom:5rem}.sm\\:pt-28{padding-top:7rem}.sm\\:text-left{text-align:left}.sm\\:text-2xl{font-size:1.5rem;line-height:2rem}.sm\\:text-3xl{font-size:1.875rem;line-height:2.25rem}.sm\\:text-4xl{font-size:2.25rem;line-height:2.5rem}.sm\\:text-\\[15px\\]{font-size:15px}.sm\\:text-base{font-size:1rem;line-height:1.5rem}.sm\\:text-lg{font-size:1.125rem;line-height:1.75rem}.sm\\:text-sm{font-size:.875rem;line-height:1.25rem}.sm\\:text-xl{font-size:1.25rem;line-height:1.75rem}.sm\\:blur-\\[100px\\]{--tw-blur: blur(100px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.data-\\[state\\=open\\]\\:sm\\:slide-in-from-bottom-full[data-state=open]{--tw-enter-translate-y: 100%}}@media (min-width: 768px){.md\\:absolute{position:absolute}.md\\:mb-20{margin-bottom:5rem}.md\\:block{display:block}.md\\:flex{display:flex}.md\\:hidden{display:none}.md\\:h-\\[4\\.5rem\\]{height:4.5rem}.md\\:h-\\[500px\\]{height:500px}.md\\:min-h-\\[calc\\(100vh-73px\\)\\]{min-height:calc(100vh - 73px)}.md\\:w-72{width:18rem}.md\\:w-\\[700px\\]{width:700px}.md\\:w-\\[var\\(--radix-navigation-menu-viewport-width\\)\\]{width:var(--radix-navigation-menu-viewport-width)}.md\\:w-auto{width:auto}.md\\:w-full{width:100%}.md\\:max-w-\\[420px\\]{max-width:420px}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:flex-row{flex-direction:row}.md\\:flex-col{flex-direction:column}.md\\:space-y-10>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(2.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2.5rem * var(--tw-space-y-reverse))}.md\\:overflow-x-visible{overflow-x:visible}.md\\:border-b-0{border-bottom-width:0px}.md\\:border-r{border-right-width:1px}.md\\:p-8{padding:2rem}.md\\:py-32{padding-top:8rem;padding-bottom:8rem}.md\\:py-8{padding-top:2rem;padding-bottom:2rem}.md\\:pb-0{padding-bottom:0}.md\\:pb-28{padding-bottom:7rem}.md\\:pt-36{padding-top:9rem}.md\\:text-3xl{font-size:1.875rem;line-height:2.25rem}.md\\:text-4xl{font-size:2.25rem;line-height:2.5rem}.md\\:text-5xl{font-size:3rem;line-height:1}.md\\:text-lg{font-size:1.125rem;line-height:1.75rem}.md\\:text-sm{font-size:.875rem;line-height:1.25rem}.md\\:text-xl{font-size:1.25rem;line-height:1.75rem}.md\\:opacity-0{opacity:0}.after\\:md\\:hidden:after{content:var(--tw-content);display:none}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:m-2{margin:.5rem}.peer[data-state=collapsed][data-variant=inset]~.md\\:peer-data-\\[state\\=collapsed\\]\\:peer-data-\\[variant\\=inset\\]\\:ml-2{margin-left:.5rem}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:ml-0{margin-left:0}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:rounded-xl{border-radius:.75rem}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}}@media (min-width: 1024px){.lg\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\\:gap-8{gap:2rem}.lg\\:text-5xl{font-size:3rem;line-height:1}.lg\\:text-7xl{font-size:4.5rem;line-height:1}}.\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:bg-accent:has([aria-selected]){background-color:hsl(var(--accent))}.first\\:\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:rounded-l-md:has([aria-selected]):first-child{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.last\\:\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:rounded-r-md:has([aria-selected]):last-child{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.\\[\\&\\:has\\(\\[aria-selected\\]\\.day-outside\\)\\]\\:bg-accent\\/50:has([aria-selected].day-outside){background-color:hsl(var(--accent) / .5)}.\\[\\&\\:has\\(\\[aria-selected\\]\\.day-range-end\\)\\]\\:rounded-r-md:has([aria-selected].day-range-end){border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.\\[\\&\\:has\\(\\[role\\=checkbox\\]\\)\\]\\:pr-0:has([role=checkbox]){padding-right:0}.\\[\\&\\>button\\]\\:hidden>button{display:none}.\\[\\&\\>div\\]\\:bg-destructive>div{background-color:hsl(var(--destructive))}.\\[\\&\\>div\\]\\:bg-warning>div{background-color:hsl(var(--warning))}.\\[\\&\\>span\\:last-child\\]\\:truncate>span:last-child{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.\\[\\&\\>span\\]\\:line-clamp-1>span{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.\\[\\&\\>svg\\+div\\]\\:translate-y-\\[-3px\\]>svg+div{--tw-translate-y: -3px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\>svg\\]\\:absolute>svg{position:absolute}.\\[\\&\\>svg\\]\\:left-4>svg{left:1rem}.\\[\\&\\>svg\\]\\:top-4>svg{top:1rem}.\\[\\&\\>svg\\]\\:size-3\\.5>svg{width:.875rem;height:.875rem}.\\[\\&\\>svg\\]\\:size-4>svg{width:1rem;height:1rem}.\\[\\&\\>svg\\]\\:h-2\\.5>svg{height:.625rem}.\\[\\&\\>svg\\]\\:h-3>svg{height:.75rem}.\\[\\&\\>svg\\]\\:w-2\\.5>svg{width:.625rem}.\\[\\&\\>svg\\]\\:w-3>svg{width:.75rem}.\\[\\&\\>svg\\]\\:shrink-0>svg{flex-shrink:0}.\\[\\&\\>svg\\]\\:text-destructive>svg{color:hsl(var(--destructive))}.\\[\\&\\>svg\\]\\:text-foreground>svg{color:hsl(var(--foreground))}.\\[\\&\\>svg\\]\\:text-muted-foreground>svg{color:hsl(var(--muted-foreground))}.\\[\\&\\>svg\\]\\:text-sidebar-accent-foreground>svg{color:hsl(var(--sidebar-accent-foreground))}.\\[\\&\\>svg\\~\\*\\]\\:pl-7>svg~*{padding-left:1.75rem}.\\[\\&\\>tr\\]\\:last\\:border-b-0:last-child>tr{border-bottom-width:0px}.\\[\\&\\[data-panel-group-direction\\=vertical\\]\\>div\\]\\:rotate-90[data-panel-group-direction=vertical]>div{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\[data-state\\=open\\]\\>svg\\]\\:rotate-180[data-state=open]>svg{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&_\\.recharts-cartesian-axis-tick_text\\]\\:fill-muted-foreground .recharts-cartesian-axis-tick text{fill:hsl(var(--muted-foreground))}.\\[\\&_\\.recharts-cartesian-grid_line\\[stroke\\=\\'\\#ccc\\'\\]\\]\\:stroke-border\\/50 .recharts-cartesian-grid line[stroke="#ccc"]{stroke:hsl(var(--border) / .5)}.\\[\\&_\\.recharts-curve\\.recharts-tooltip-cursor\\]\\:stroke-border .recharts-curve.recharts-tooltip-cursor{stroke:hsl(var(--border))}.\\[\\&_\\.recharts-dot\\[stroke\\=\\'\\#fff\\'\\]\\]\\:stroke-transparent .recharts-dot[stroke="#fff"]{stroke:transparent}.\\[\\&_\\.recharts-layer\\]\\:outline-none .recharts-layer{outline:2px solid transparent;outline-offset:2px}.\\[\\&_\\.recharts-polar-grid_\\[stroke\\=\\'\\#ccc\\'\\]\\]\\:stroke-border .recharts-polar-grid [stroke="#ccc"]{stroke:hsl(var(--border))}.\\[\\&_\\.recharts-radial-bar-background-sector\\]\\:fill-muted .recharts-radial-bar-background-sector,.\\[\\&_\\.recharts-rectangle\\.recharts-tooltip-cursor\\]\\:fill-muted .recharts-rectangle.recharts-tooltip-cursor{fill:hsl(var(--muted))}.\\[\\&_\\.recharts-reference-line_\\[stroke\\=\\'\\#ccc\\'\\]\\]\\:stroke-border .recharts-reference-line [stroke="#ccc"]{stroke:hsl(var(--border))}.\\[\\&_\\.recharts-sector\\[stroke\\=\\'\\#fff\\'\\]\\]\\:stroke-transparent .recharts-sector[stroke="#fff"]{stroke:transparent}.\\[\\&_\\.recharts-sector\\]\\:outline-none .recharts-sector,.\\[\\&_\\.recharts-surface\\]\\:outline-none .recharts-surface{outline:2px solid transparent;outline-offset:2px}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:px-2 [cmdk-group-heading]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:py-1\\.5 [cmdk-group-heading]{padding-top:.375rem;padding-bottom:.375rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:text-xs [cmdk-group-heading]{font-size:.75rem;line-height:1rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:font-medium [cmdk-group-heading]{font-weight:500}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:text-muted-foreground [cmdk-group-heading]{color:hsl(var(--muted-foreground))}.\\[\\&_\\[cmdk-group\\]\\:not\\(\\[hidden\\]\\)_\\~\\[cmdk-group\\]\\]\\:pt-0 [cmdk-group]:not([hidden])~[cmdk-group]{padding-top:0}.\\[\\&_\\[cmdk-group\\]\\]\\:px-2 [cmdk-group]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:h-5 [cmdk-input-wrapper] svg{height:1.25rem}.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:w-5 [cmdk-input-wrapper] svg{width:1.25rem}.\\[\\&_\\[cmdk-input\\]\\]\\:h-12 [cmdk-input]{height:3rem}.\\[\\&_\\[cmdk-item\\]\\]\\:px-2 [cmdk-item]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-item\\]\\]\\:py-3 [cmdk-item]{padding-top:.75rem;padding-bottom:.75rem}.\\[\\&_\\[cmdk-item\\]_svg\\]\\:h-5 [cmdk-item] svg{height:1.25rem}.\\[\\&_\\[cmdk-item\\]_svg\\]\\:w-5 [cmdk-item] svg{width:1.25rem}.\\[\\&_p\\]\\:leading-relaxed p{line-height:1.625}.\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.\\[\\&_svg\\]\\:size-4 svg{width:1rem;height:1rem}.\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}.\\[\\&_tr\\:last-child\\]\\:border-0 tr:last-child{border-width:0px}.\\[\\&_tr\\]\\:border-b tr{border-bottom-width:1px}[data-side=left][data-collapsible=offcanvas] .\\[\\[data-side\\=left\\]\\[data-collapsible\\=offcanvas\\]_\\&\\]\\:-right-2{right:-.5rem}[data-side=left][data-state=collapsed] .\\[\\[data-side\\=left\\]\\[data-state\\=collapsed\\]_\\&\\]\\:cursor-e-resize{cursor:e-resize}[data-side=left] .\\[\\[data-side\\=left\\]_\\&\\]\\:cursor-w-resize{cursor:w-resize}[data-side=right][data-collapsible=offcanvas] .\\[\\[data-side\\=right\\]\\[data-collapsible\\=offcanvas\\]_\\&\\]\\:-left-2{left:-.5rem}[data-side=right][data-state=collapsed] .\\[\\[data-side\\=right\\]\\[data-state\\=collapsed\\]_\\&\\]\\:cursor-w-resize{cursor:w-resize}[data-side=right] .\\[\\[data-side\\=right\\]_\\&\\]\\:cursor-e-resize{cursor:e-resize}
/*$vite$:1*/`,document.head.appendChild(tt);function Et(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Di={exports:{}},Ka={},f1={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=Symbol.for("react.element"),yD=Symbol.for("react.portal"),xD=Symbol.for("react.fragment"),wD=Symbol.for("react.strict_mode"),bD=Symbol.for("react.profiler"),kD=Symbol.for("react.provider"),SD=Symbol.for("react.context"),ND=Symbol.for("react.forward_ref"),CD=Symbol.for("react.suspense"),jD=Symbol.for("react.memo"),ED=Symbol.for("react.lazy"),p1=Symbol.iterator;function _D(t){return t===null||typeof t!="object"?null:(t=p1&&t[p1]||t["@@iterator"],typeof t=="function"?t:null)}var m1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g1=Object.assign,v1={};function Ga(t,e,r){this.props=t,this.context=e,this.refs=v1,this.updater=r||m1}Ga.prototype.isReactComponent={},Ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},Ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y1(){}y1.prototype=Ga.prototype;function gg(t,e,r){this.props=t,this.context=e,this.refs=v1,this.updater=r||m1}var vg=gg.prototype=new y1;vg.constructor=gg,g1(vg,Ga.prototype),vg.isPureReactComponent=!0;var x1=Array.isArray,w1=Object.prototype.hasOwnProperty,yg={current:null},b1={key:!0,ref:!0,__self:!0,__source:!0};function k1(t,e,r){var n,s={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)w1.call(e,n)&&!b1.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Kc,type:t,key:o,ref:i,props:s,_owner:yg.current}}function TD(t,e){return{$$typeof:Kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kc}function RD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var S1=/\/+/g;function wg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RD(""+t.key):e.toString(36)}function Eh(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Kc:case yD:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+wg(i,0):n,x1(s)?(r="",t!=null&&(r=t.replace(S1,"$&/")+"/"),Eh(s,e,r,"",function(d){return d})):s!=null&&(xg(s)&&(s=TD(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(S1,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",x1(t))for(var a=0;a<t.length;a++){o=t[a];var c=n+wg(o,a);i+=Eh(o,e,r,c,s)}else if(c=_D(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=n+wg(o,a++),i+=Eh(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function _h(t,e,r){if(t==null)return t;var n=[],s=0;return Eh(t,n,"","",function(o){return e.call(r,o,s++)}),n}function MD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xr={current:null},Th={transition:null},OD={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:Th,ReactCurrentOwner:yg};function N1(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:_h,forEach:function(t,e,r){_h(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return _h(t,function(){e++}),e},toArray:function(t){return _h(t,function(e){return e})||[]},only:function(t){if(!xg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},Oe.Component=Ga,Oe.Fragment=xD,Oe.Profiler=bD,Oe.PureComponent=gg,Oe.StrictMode=wD,Oe.Suspense=CD,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OD,Oe.act=N1,Oe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=g1({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=yg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)w1.call(e,c)&&!b1.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:Kc,type:t.type,key:s,ref:o,props:n,_owner:i}},Oe.createContext=function(t){return t={$$typeof:SD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kD,_context:t},t.Consumer=t},Oe.createElement=k1,Oe.createFactory=function(t){var e=k1.bind(null,t);return e.type=t,e},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(t){return{$$typeof:ND,render:t}},Oe.isValidElement=xg,Oe.lazy=function(t){return{$$typeof:ED,_payload:{_status:-1,_result:t},_init:MD}},Oe.memo=function(t,e){return{$$typeof:jD,type:t,compare:e===void 0?null:e}},Oe.startTransition=function(t){var e=Th.transition;Th.transition={};try{t()}finally{Th.transition=e}},Oe.unstable_act=N1,Oe.useCallback=function(t,e){return xr.current.useCallback(t,e)},Oe.useContext=function(t){return xr.current.useContext(t)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(t){return xr.current.useDeferredValue(t)},Oe.useEffect=function(t,e){return xr.current.useEffect(t,e)},Oe.useId=function(){return xr.current.useId()},Oe.useImperativeHandle=function(t,e,r){return xr.current.useImperativeHandle(t,e,r)},Oe.useInsertionEffect=function(t,e){return xr.current.useInsertionEffect(t,e)},Oe.useLayoutEffect=function(t,e){return xr.current.useLayoutEffect(t,e)},Oe.useMemo=function(t,e){return xr.current.useMemo(t,e)},Oe.useReducer=function(t,e,r){return xr.current.useReducer(t,e,r)},Oe.useRef=function(t){return xr.current.useRef(t)},Oe.useState=function(t){return xr.current.useState(t)},Oe.useSyncExternalStore=function(t,e,r){return xr.current.useSyncExternalStore(t,e,r)},Oe.useTransition=function(){return xr.current.useTransition()},Oe.version="18.3.1",f1.exports=Oe;var m=f1.exports;const W=Jt(m),bg=Et({__proto__:null,default:W},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD=m,AD=Symbol.for("react.element"),ID=Symbol.for("react.fragment"),DD=Object.prototype.hasOwnProperty,LD=PD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$D={key:!0,ref:!0,__self:!0,__source:!0};function C1(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)DD.call(e,n)&&!$D.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:AD,type:t,key:o,ref:i,props:s,_owner:LD.current}}Ka.Fragment=ID,Ka.jsx=C1,Ka.jsxs=C1,Di.exports=Ka;var l=Di.exports,j1={exports:{}},Gr={},E1={exports:{}},_1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,D){var H=O.length;O.push(D);e:for(;0<H;){var ne=H-1>>>1,$=O[ne];if(0<s($,D))O[ne]=D,O[H]=$,H=ne;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var D=O[0],H=O.pop();if(H!==D){O[0]=H;e:for(var ne=0,$=O.length,G=$>>>1;ne<G;){var J=2*(ne+1)-1,M=O[J],B=J+1,z=O[B];if(0>s(M,H))B<$&&0>s(z,M)?(O[ne]=z,O[B]=H,ne=B):(O[ne]=M,O[J]=H,ne=J);else if(B<$&&0>s(z,H))O[ne]=z,O[B]=H,ne=B;else break e}}return D}function s(O,D){var H=O.sortIndex-D.sortIndex;return H!==0?H:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var c=[],d=[],u=1,h=null,f=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=O)n(d),D.sortIndex=D.expirationTime,e(c,D);else break;D=r(d)}}function k(O){if(g=!1,b(O),!v)if(r(c)!==null)v=!0,F(S);else{var D=r(d);D!==null&&V(k,D.startTime-O)}}function S(O,D){v=!1,g&&(g=!1,x(E),E=-1),p=!0;var H=f;try{for(b(D),h=r(c);h!==null&&(!(h.expirationTime>D)||O&&!P());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var $=ne(h.expirationTime<=D);D=t.unstable_now(),typeof $=="function"?h.callback=$:h===r(c)&&n(c),b(D)}else n(c);h=r(c)}if(h!==null)var G=!0;else{var J=r(d);J!==null&&V(k,J.startTime-D),G=!1}return G}finally{h=null,f=H,p=!1}}var N=!1,C=null,E=-1,j=5,_=-1;function P(){return!(t.unstable_now()-_<j)}function T(){if(C!==null){var O=t.unstable_now();_=O;var D=!0;try{D=C(!0,O)}finally{D?A():(N=!1,C=null)}}else N=!1}var A;if(typeof w=="function")A=function(){w(T)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=T,A=function(){L.postMessage(null)}}else A=function(){y(T,0)};function F(O){C=O,N||(N=!0,A())}function V(O,D){E=y(function(){O(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,F(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var H=f;f=D;try{return O()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=f;f=O;try{return D()}finally{f=H}},t.unstable_scheduleCallback=function(O,D,H){var ne=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,O){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=H+$,O={id:u++,callback:D,priorityLevel:O,startTime:H,expirationTime:$,sortIndex:-1},H>ne?(O.sortIndex=H,e(d,O),r(c)===null&&O===r(d)&&(g?(x(E),E=-1):g=!0,V(k,H-ne))):(O.sortIndex=$,e(c,O),v||p||(v=!0,F(S))),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var D=f;return function(){var H=f;f=D;try{return O.apply(this,arguments)}finally{f=H}}}})(_1),E1.exports=_1;var FD=E1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zD=m,Yr=FD;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T1=new Set,Gc={};function Li(t,e){Ya(t,e),Ya(t+"Capture",e)}function Ya(t,e){for(Gc[t]=e,t=0;t<e.length;t++)T1.add(e[t])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kg=Object.prototype.hasOwnProperty,BD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R1={},M1={};function UD(t){return kg.call(M1,t)?!0:kg.call(R1,t)?!1:BD.test(t)?M1[t]=!0:(R1[t]=!0,!1)}function VD(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WD(t,e,r,n){if(e===null||typeof e>"u"||VD(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wr(t,e,r,n,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new wr(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new wr(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new wr(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new wr(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new wr(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new wr(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Qt[t]=new wr(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Qt[t]=new wr(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Qt[t]=new wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sg=/[\-:]([a-z])/g;function Ng(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sg,Ng);Qt[e]=new wr(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sg,Ng);Qt[e]=new wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sg,Ng);Qt[e]=new wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new wr(t,1,!1,t.toLowerCase(),null,!1,!1)}),Qt.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Qt[t]=new wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cg(t,e,r,n){var s=Qt.hasOwnProperty(e)?Qt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WD(e,r,s,n)&&(r=null),n||s===null?UD(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $s=zD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rh=Symbol.for("react.element"),Ja=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),jg=Symbol.for("react.strict_mode"),Eg=Symbol.for("react.profiler"),O1=Symbol.for("react.provider"),P1=Symbol.for("react.context"),_g=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Rg=Symbol.for("react.suspense_list"),Mg=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),A1=Symbol.for("react.offscreen"),I1=Symbol.iterator;function Yc(t){return t===null||typeof t!="object"?null:(t=I1&&t[I1]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Og;function Jc(t){if(Og===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Og=e&&e[1]||""}return`
`+Og+t}var Pg=!1;function Ag(t,e){if(!t||Pg)return"";Pg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=a);break}}}finally{Pg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Jc(t):""}function HD(t){switch(t.tag){case 5:return Jc(t.type);case 16:return Jc("Lazy");case 13:return Jc("Suspense");case 19:return Jc("SuspenseList");case 0:case 2:case 15:return t=Ag(t.type,!1),t;case 11:return t=Ag(t.type.render,!1),t;case 1:return t=Ag(t.type,!0),t;default:return""}}function Ig(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qa:return"Fragment";case Ja:return"Portal";case Eg:return"Profiler";case jg:return"StrictMode";case Tg:return"Suspense";case Rg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P1:return(t.displayName||"Context")+".Consumer";case O1:return(t._context.displayName||"Context")+".Provider";case _g:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mg:return e=t.displayName||null,e!==null?e:Ig(t.type)||"Memo";case yo:e=t._payload,t=t._init;try{return Ig(t(e))}catch{}}return null}function qD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ig(e);case 8:return e===jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KD(t){var e=D1(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mh(t){t._valueTracker||(t._valueTracker=KD(t))}function L1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=D1(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Oh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dg(t,e){var r=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=xo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F1(t,e){e=e.checked,e!=null&&Cg(t,"checked",e,!1)}function Lg(t,e){F1(t,e);var r=xo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$g(t,e.type,r):e.hasOwnProperty("defaultValue")&&$g(t,e.type,xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function z1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $g(t,e,r){(e!=="number"||Oh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Qc=Array.isArray;function Xa(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+xo(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(X(92));if(Qc(r)){if(1<r.length)throw Error(X(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:xo(r)}}function U1(t,e){var r=xo(e.value),n=xo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function V1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ph,H1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ph=Ph||document.createElement("div"),Ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GD=["Webkit","ms","Moz","O"];Object.keys(Zc).forEach(function(t){GD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zc[e]=Zc[t]})});function q1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Zc.hasOwnProperty(t)&&Zc[t]?(""+e).trim():e+"px"}function K1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=q1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var YD=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bg(t,e){if(e){if(YD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Ug(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vg=null;function Wg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hg=null,Za=null,el=null;function G1(t){if(t=bd(t)){if(typeof Hg!="function")throw Error(X(280));var e=t.stateNode;e&&(e=rf(e),Hg(t.stateNode,t.type,e))}}function Y1(t){Za?el?el.push(t):el=[t]:Za=t}function J1(){if(Za){var t=Za,e=el;if(el=Za=null,G1(t),e)for(t=0;t<e.length;t++)G1(e[t])}}function Q1(t,e){return t(e)}function X1(){}var qg=!1;function Z1(t,e,r){if(qg)return t(e,r);qg=!0;try{return Q1(t,e,r)}finally{qg=!1,(Za!==null||el!==null)&&(X1(),J1())}}function ed(t,e){var r=t.stateNode;if(r===null)return null;var n=rf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(X(231,e,typeof r));return r}var Kg=!1;if(Ls)try{var td={};Object.defineProperty(td,"passive",{get:function(){Kg=!0}}),window.addEventListener("test",td,td),window.removeEventListener("test",td,td)}catch{Kg=!1}function JD(t,e,r,n,s,o,i,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var rd=!1,Ah=null,Ih=!1,Gg=null,QD={onError:function(t){rd=!0,Ah=t}};function XD(t,e,r,n,s,o,i,a,c){rd=!1,Ah=null,JD.apply(QD,arguments)}function ZD(t,e,r,n,s,o,i,a,c){if(XD.apply(this,arguments),rd){if(rd){var d=Ah;rd=!1,Ah=null}else throw Error(X(198));Ih||(Ih=!0,Gg=d)}}function $i(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ek(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tk(t){if($i(t)!==t)throw Error(X(188))}function e5(t){var e=t.alternate;if(!e){if(e=$i(t),e===null)throw Error(X(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return tk(s),t;if(o===n)return tk(s),e;o=o.sibling}throw Error(X(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?t:e}function rk(t){return t=e5(t),t!==null?nk(t):null}function nk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nk(t);if(e!==null)return e;t=t.sibling}return null}var sk=Yr.unstable_scheduleCallback,ok=Yr.unstable_cancelCallback,t5=Yr.unstable_shouldYield,r5=Yr.unstable_requestPaint,mt=Yr.unstable_now,n5=Yr.unstable_getCurrentPriorityLevel,Yg=Yr.unstable_ImmediatePriority,ik=Yr.unstable_UserBlockingPriority,Dh=Yr.unstable_NormalPriority,s5=Yr.unstable_LowPriority,ak=Yr.unstable_IdlePriority,Lh=null,us=null;function o5(t){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(Lh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:l5,i5=Math.log,a5=Math.LN2;function l5(t){return t>>>=0,t===0?32:31-(i5(t)/a5|0)|0}var $h=64,Fh=4194304;function nd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=nd(a):(o&=i,o!==0&&(n=nd(o)))}else i=r&~s,i!==0?n=nd(i):o!==0&&(n=nd(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ln(e),s=1<<r,n|=t[r],e&=~s;return n}function c5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Ln(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=c5(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function Jg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lk(){var t=$h;return $h<<=1,!($h&4194240)&&($h=64),t}function Qg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function sd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=r}function u5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ln(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function Xg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ln(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Be=0;function ck(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dk,Zg,uk,hk,fk,ev=!1,Bh=[],wo=null,bo=null,ko=null,od=new Map,id=new Map,So=[],h5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pk(t,e){switch(t){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":od.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(e.pointerId)}}function ad(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=bd(e),e!==null&&Zg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function f5(t,e,r,n,s){switch(e){case"focusin":return wo=ad(wo,t,e,r,n,s),!0;case"dragenter":return bo=ad(bo,t,e,r,n,s),!0;case"mouseover":return ko=ad(ko,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return od.set(o,ad(od.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,id.set(o,ad(id.get(o)||null,t,e,r,n,s)),!0}return!1}function mk(t){var e=Fi(t.target);if(e!==null){var r=$i(e);if(r!==null){if(e=r.tag,e===13){if(e=ek(r),e!==null){t.blockedOn=e,fk(t.priority,function(){uk(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Vg=n,r.target.dispatchEvent(n),Vg=null}else return e=bd(r),e!==null&&Zg(e),t.blockedOn=r,!1;e.shift()}return!0}function gk(t,e,r){Uh(t)&&r.delete(e)}function p5(){ev=!1,wo!==null&&Uh(wo)&&(wo=null),bo!==null&&Uh(bo)&&(bo=null),ko!==null&&Uh(ko)&&(ko=null),od.forEach(gk),id.forEach(gk)}function ld(t,e){t.blockedOn===e&&(t.blockedOn=null,ev||(ev=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,p5)))}function cd(t){function e(s){return ld(s,t)}if(0<Bh.length){ld(Bh[0],t);for(var r=1;r<Bh.length;r++){var n=Bh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(wo!==null&&ld(wo,t),bo!==null&&ld(bo,t),ko!==null&&ld(ko,t),od.forEach(e),id.forEach(e),r=0;r<So.length;r++)n=So[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<So.length&&(r=So[0],r.blockedOn===null);)mk(r),r.blockedOn===null&&So.shift()}var tl=$s.ReactCurrentBatchConfig,Vh=!0;function m5(t,e,r,n){var s=Be,o=tl.transition;tl.transition=null;try{Be=1,tv(t,e,r,n)}finally{Be=s,tl.transition=o}}function g5(t,e,r,n){var s=Be,o=tl.transition;tl.transition=null;try{Be=4,tv(t,e,r,n)}finally{Be=s,tl.transition=o}}function tv(t,e,r,n){if(Vh){var s=rv(t,e,r,n);if(s===null)xv(t,e,n,Wh,r),pk(t,n);else if(f5(s,t,e,r,n))n.stopPropagation();else if(pk(t,n),e&4&&-1<h5.indexOf(t)){for(;s!==null;){var o=bd(s);if(o!==null&&dk(o),o=rv(t,e,r,n),o===null&&xv(t,e,n,Wh,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else xv(t,e,n,null,r)}}var Wh=null;function rv(t,e,r,n){if(Wh=null,t=Wg(n),t=Fi(t),t!==null)if(e=$i(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ek(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wh=t,null}function vk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n5()){case Yg:return 1;case ik:return 4;case Dh:case s5:return 16;case ak:return 536870912;default:return 16}default:return 16}}var No=null,nv=null,Hh=null;function yk(){if(Hh)return Hh;var t,e=nv,r=e.length,n,s="value"in No?No.value:No.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[o-n];n++);return Hh=s.slice(t,1<n?1-n:void 0)}function qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kh(){return!0}function xk(){return!1}function Jr(t){function e(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Kh:xk,this.isPropagationStopped=xk,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kh)},persist:function(){},isPersistent:Kh}),e}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sv=Jr(rl),dd=rt({},rl,{view:0,detail:0}),v5=Jr(dd),ov,iv,ud,Gh=rt({},dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ud&&(ud&&t.type==="mousemove"?(ov=t.screenX-ud.screenX,iv=t.screenY-ud.screenY):iv=ov=0,ud=t),ov)},movementY:function(t){return"movementY"in t?t.movementY:iv}}),wk=Jr(Gh),y5=rt({},Gh,{dataTransfer:0}),x5=Jr(y5),w5=rt({},dd,{relatedTarget:0}),av=Jr(w5),b5=rt({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),k5=Jr(b5),S5=rt({},rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N5=Jr(S5),C5=rt({},rl,{data:0}),bk=Jr(C5),j5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_5[t])?!!e[t]:!1}function lv(){return T5}var R5=rt({},dd,{key:function(t){if(t.key){var e=j5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lv,charCode:function(t){return t.type==="keypress"?qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),M5=Jr(R5),O5=rt({},Gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kk=Jr(O5),P5=rt({},dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lv}),A5=Jr(P5),I5=rt({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),D5=Jr(I5),L5=rt({},Gh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$5=Jr(L5),F5=[9,13,27,32],cv=Ls&&"CompositionEvent"in window,hd=null;Ls&&"documentMode"in document&&(hd=document.documentMode);var z5=Ls&&"TextEvent"in window&&!hd,Sk=Ls&&(!cv||hd&&8<hd&&11>=hd),Nk=" ",Ck=!1;function jk(t,e){switch(t){case"keyup":return F5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ek(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nl=!1;function B5(t,e){switch(t){case"compositionend":return Ek(e);case"keypress":return e.which!==32?null:(Ck=!0,Nk);case"textInput":return t=e.data,t===Nk&&Ck?null:t;default:return null}}function U5(t,e){if(nl)return t==="compositionend"||!cv&&jk(t,e)?(t=yk(),Hh=nv=No=null,nl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sk&&e.locale!=="ko"?null:e.data;default:return null}}var V5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _k(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!V5[t.type]:e==="textarea"}function Tk(t,e,r,n){Y1(n),e=Zh(e,"onChange"),0<e.length&&(r=new sv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var fd=null,pd=null;function W5(t){Kk(t,0)}function Yh(t){var e=ll(t);if(L1(e))return t}function H5(t,e){if(t==="change")return e}var Rk=!1;if(Ls){var dv;if(Ls){var uv="oninput"in document;if(!uv){var Mk=document.createElement("div");Mk.setAttribute("oninput","return;"),uv=typeof Mk.oninput=="function"}dv=uv}else dv=!1;Rk=dv&&(!document.documentMode||9<document.documentMode)}function Ok(){fd&&(fd.detachEvent("onpropertychange",Pk),pd=fd=null)}function Pk(t){if(t.propertyName==="value"&&Yh(pd)){var e=[];Tk(e,pd,t,Wg(t)),Z1(W5,e)}}function q5(t,e,r){t==="focusin"?(Ok(),fd=e,pd=r,fd.attachEvent("onpropertychange",Pk)):t==="focusout"&&Ok()}function K5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yh(pd)}function G5(t,e){if(t==="click")return Yh(e)}function Y5(t,e){if(t==="input"||t==="change")return Yh(e)}function J5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:J5;function md(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!kg.call(e,s)||!$n(t[s],e[s]))return!1}return!0}function Ak(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ik(t,e){var r=Ak(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ak(r)}}function Dk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lk(){for(var t=window,e=Oh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Oh(t.document)}return e}function hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Q5(t){var e=Lk(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Dk(r.ownerDocument.documentElement,r)){if(n!==null&&hv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=Ik(r,o);var i=Ik(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X5=Ls&&"documentMode"in document&&11>=document.documentMode,sl=null,fv=null,gd=null,pv=!1;function $k(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pv||sl==null||sl!==Oh(n)||(n=sl,"selectionStart"in n&&hv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gd&&md(gd,n)||(gd=n,n=Zh(fv,"onSelect"),0<n.length&&(e=new sv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=sl)))}function Jh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ol={animationend:Jh("Animation","AnimationEnd"),animationiteration:Jh("Animation","AnimationIteration"),animationstart:Jh("Animation","AnimationStart"),transitionend:Jh("Transition","TransitionEnd")},mv={},Fk={};Ls&&(Fk=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function Qh(t){if(mv[t])return mv[t];if(!ol[t])return t;var e=ol[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Fk)return mv[t]=e[r];return t}var zk=Qh("animationend"),Bk=Qh("animationiteration"),Uk=Qh("animationstart"),Vk=Qh("transitionend"),Wk=new Map,Hk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(t,e){Wk.set(t,e),Li(e,[t])}for(var gv=0;gv<Hk.length;gv++){var vv=Hk[gv],Z5=vv.toLowerCase(),e4=vv[0].toUpperCase()+vv.slice(1);Co(Z5,"on"+e4)}Co(zk,"onAnimationEnd"),Co(Bk,"onAnimationIteration"),Co(Uk,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(Vk,"onTransitionEnd"),Ya("onMouseEnter",["mouseout","mouseover"]),Ya("onMouseLeave",["mouseout","mouseover"]),Ya("onPointerEnter",["pointerout","pointerover"]),Ya("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t4=new Set("cancel close invalid load scroll toggle".split(" ").concat(vd));function qk(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ZD(n,e,void 0,t),t.currentTarget=null}function Kk(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;qk(s,a,d),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,d=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;qk(s,a,d),o=c}}}if(Ih)throw t=Gg,Ih=!1,Gg=null,t}function Ye(t,e){var r=e[Cv];r===void 0&&(r=e[Cv]=new Set);var n=t+"__bubble";r.has(n)||(Gk(e,t,2,!1),r.add(n))}function yv(t,e,r){var n=0;e&&(n|=4),Gk(r,t,n,e)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[Xh]){t[Xh]=!0,T1.forEach(function(r){r!=="selectionchange"&&(t4.has(r)||yv(r,!1,t),yv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xh]||(e[Xh]=!0,yv("selectionchange",!1,e))}}function Gk(t,e,r,n){switch(vk(e)){case 1:var s=m5;break;case 4:s=g5;break;default:s=tv}r=s.bind(null,e,r,t),s=void 0,!Kg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function xv(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Fi(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}Z1(function(){var d=o,u=Wg(r),h=[];e:{var f=Wk.get(t);if(f!==void 0){var p=sv,v=t;switch(t){case"keypress":if(qh(r)===0)break e;case"keydown":case"keyup":p=M5;break;case"focusin":v="focus",p=av;break;case"focusout":v="blur",p=av;break;case"beforeblur":case"afterblur":p=av;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=x5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=A5;break;case zk:case Bk:case Uk:p=k5;break;case Vk:p=D5;break;case"scroll":p=v5;break;case"wheel":p=$5;break;case"copy":case"cut":case"paste":p=N5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kk}var g=(e&4)!==0,y=!g&&t==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var w=d,b;w!==null;){b=w;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,x!==null&&(k=ed(w,x),k!=null&&g.push(xd(w,k,b)))),y)break;w=w.return}0<g.length&&(f=new p(f,v,null,r,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==Vg&&(v=r.relatedTarget||r.fromElement)&&(Fi(v)||v[Fs]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=d,v=v?Fi(v):null,v!==null&&(y=$i(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=d),p!==v)){if(g=wk,k="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=kk,k="onPointerLeave",x="onPointerEnter",w="pointer"),y=p==null?f:ll(p),b=v==null?f:ll(v),f=new g(k,w+"leave",p,r,u),f.target=y,f.relatedTarget=b,k=null,Fi(u)===d&&(g=new g(x,w+"enter",v,r,u),g.target=b,g.relatedTarget=y,k=g),y=k,p&&v)t:{for(g=p,x=v,w=0,b=g;b;b=il(b))w++;for(b=0,k=x;k;k=il(k))b++;for(;0<w-b;)g=il(g),w--;for(;0<b-w;)x=il(x),b--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=il(g),x=il(x)}g=null}else g=null;p!==null&&Yk(h,f,p,g,!1),v!==null&&y!==null&&Yk(h,y,v,g,!0)}}e:{if(f=d?ll(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=H5;else if(_k(f))if(Rk)S=Y5;else{S=K5;var N=q5}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=G5);if(S&&(S=S(t,d))){Tk(h,S,r,u);break e}N&&N(t,f,d),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&$g(f,"number",f.value)}switch(N=d?ll(d):window,t){case"focusin":(_k(N)||N.contentEditable==="true")&&(sl=N,fv=d,gd=null);break;case"focusout":gd=fv=sl=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,$k(h,r,u);break;case"selectionchange":if(X5)break;case"keydown":case"keyup":$k(h,r,u)}var C;if(cv)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else nl?jk(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Sk&&r.locale!=="ko"&&(nl||E!=="onCompositionStart"?E==="onCompositionEnd"&&nl&&(C=yk()):(No=u,nv="value"in No?No.value:No.textContent,nl=!0)),N=Zh(d,E),0<N.length&&(E=new bk(E,t,null,r,u),h.push({event:E,listeners:N}),C?E.data=C:(C=Ek(r),C!==null&&(E.data=C)))),(C=z5?B5(t,r):U5(t,r))&&(d=Zh(d,"onBeforeInput"),0<d.length&&(u=new bk("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=C))}Kk(h,e)})}function xd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Zh(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ed(t,r),o!=null&&n.unshift(xd(t,o,s)),o=ed(t,e),o!=null&&n.push(xd(t,o,s))),t=t.return}return n}function il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yk(t,e,r,n,s){for(var o=e._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&d!==null&&(a=d,s?(c=ed(r,o),c!=null&&i.unshift(xd(r,c,a))):s||(c=ed(r,o),c!=null&&i.push(xd(r,c,a)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var r4=/\r\n?/g,n4=/\u0000|\uFFFD/g;function Jk(t){return(typeof t=="string"?t:""+t).replace(r4,`
`).replace(n4,"")}function ef(t,e,r){if(e=Jk(e),Jk(t)!==e&&r)throw Error(X(425))}function tf(){}var wv=null,bv=null;function kv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sv=typeof setTimeout=="function"?setTimeout:void 0,s4=typeof clearTimeout=="function"?clearTimeout:void 0,Qk=typeof Promise=="function"?Promise:void 0,o4=typeof queueMicrotask=="function"?queueMicrotask:typeof Qk<"u"?function(t){return Qk.resolve(null).then(t).catch(i4)}:Sv;function i4(t){setTimeout(function(){throw t})}function Nv(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),cd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);cd(e)}function jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var al=Math.random().toString(36).slice(2),hs="__reactFiber$"+al,wd="__reactProps$"+al,Fs="__reactContainer$"+al,Cv="__reactEvents$"+al,a4="__reactListeners$"+al,l4="__reactHandles$"+al;function Fi(t){var e=t[hs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fs]||r[hs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Xk(t);t!==null;){if(r=t[hs])return r;t=Xk(t)}return e}t=r,r=t.parentNode}return null}function bd(t){return t=t[hs]||t[Fs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ll(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function rf(t){return t[wd]||null}var jv=[],cl=-1;function Eo(t){return{current:t}}function Je(t){0>cl||(t.current=jv[cl],jv[cl]=null,cl--)}function He(t,e){cl++,jv[cl]=t.current,t.current=e}var _o={},lr=Eo(_o),Pr=Eo(!1),zi=_o;function dl(t,e){var r=t.type.contextTypes;if(!r)return _o;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ar(t){return t=t.childContextTypes,t!=null}function nf(){Je(Pr),Je(lr)}function Zk(t,e,r){if(lr.current!==_o)throw Error(X(168));He(lr,e),He(Pr,r)}function eS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(X(108,qD(t)||"Unknown",s));return rt({},r,n)}function sf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_o,zi=lr.current,He(lr,t),He(Pr,Pr.current),!0}function tS(t,e,r){var n=t.stateNode;if(!n)throw Error(X(169));r?(t=eS(t,e,zi),n.__reactInternalMemoizedMergedChildContext=t,Je(Pr),Je(lr),He(lr,t)):Je(Pr),He(Pr,r)}var zs=null,of=!1,Ev=!1;function rS(t){zs===null?zs=[t]:zs.push(t)}function c4(t){of=!0,rS(t)}function To(){if(!Ev&&zs!==null){Ev=!0;var t=0,e=Be;try{var r=zs;for(Be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}zs=null,of=!1}catch(s){throw zs!==null&&(zs=zs.slice(t+1)),sk(Yg,To),s}finally{Be=e,Ev=!1}}return null}var ul=[],hl=0,af=null,lf=0,hn=[],fn=0,Bi=null,Bs=1,Us="";function Ui(t,e){ul[hl++]=lf,ul[hl++]=af,af=t,lf=e}function nS(t,e,r){hn[fn++]=Bs,hn[fn++]=Us,hn[fn++]=Bi,Bi=t;var n=Bs;t=Us;var s=32-Ln(n)-1;n&=~(1<<s),r+=1;var o=32-Ln(e)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Bs=1<<32-Ln(e)+s|r<<s|n,Us=o+t}else Bs=1<<o|r<<s|n,Us=t}function _v(t){t.return!==null&&(Ui(t,1),nS(t,1,0))}function Tv(t){for(;t===af;)af=ul[--hl],ul[hl]=null,lf=ul[--hl],ul[hl]=null;for(;t===Bi;)Bi=hn[--fn],hn[fn]=null,Us=hn[--fn],hn[fn]=null,Bs=hn[--fn],hn[fn]=null}var Qr=null,Xr=null,Xe=!1,Fn=null;function sS(t,e){var r=vn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function oS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qr=t,Xr=jo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qr=t,Xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Bi!==null?{id:Bs,overflow:Us}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=vn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Qr=t,Xr=null,!0):!1;default:return!1}}function Rv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mv(t){if(Xe){var e=Xr;if(e){var r=e;if(!oS(t,e)){if(Rv(t))throw Error(X(418));e=jo(r.nextSibling);var n=Qr;e&&oS(t,e)?sS(n,r):(t.flags=t.flags&-4097|2,Xe=!1,Qr=t)}}else{if(Rv(t))throw Error(X(418));t.flags=t.flags&-4097|2,Xe=!1,Qr=t}}}function iS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qr=t}function cf(t){if(t!==Qr)return!1;if(!Xe)return iS(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kv(t.type,t.memoizedProps)),e&&(e=Xr)){if(Rv(t))throw aS(),Error(X(418));for(;e;)sS(t,e),e=jo(e.nextSibling)}if(iS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Xr=jo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Xr=null}}else Xr=Qr?jo(t.stateNode.nextSibling):null;return!0}function aS(){for(var t=Xr;t;)t=jo(t.nextSibling)}function fl(){Xr=Qr=null,Xe=!1}function Ov(t){Fn===null?Fn=[t]:Fn.push(t)}var d4=$s.ReactCurrentBatchConfig;function kd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,t))}return t}function df(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lS(t){var e=t._init;return e(t._payload)}function cS(t){function e(x,w){if(t){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function r(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Lo(x,w),x.index=0,x.sibling=null,x}function o(x,w,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,b,k){return w===null||w.tag!==6?(w=Sy(b,x.mode,k),w.return=x,w):(w=s(w,b),w.return=x,w)}function c(x,w,b,k){var S=b.type;return S===Qa?u(x,w,b.props.children,k,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yo&&lS(S)===w.type)?(k=s(w,b.props),k.ref=kd(x,w,b),k.return=x,k):(k=Af(b.type,b.key,b.props,null,x.mode,k),k.ref=kd(x,w,b),k.return=x,k)}function d(x,w,b,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Ny(b,x.mode,k),w.return=x,w):(w=s(w,b.children||[]),w.return=x,w)}function u(x,w,b,k,S){return w===null||w.tag!==7?(w=Ji(b,x.mode,k,S),w.return=x,w):(w=s(w,b),w.return=x,w)}function h(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Sy(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rh:return b=Af(w.type,w.key,w.props,null,x.mode,b),b.ref=kd(x,null,w),b.return=x,b;case Ja:return w=Ny(w,x.mode,b),w.return=x,w;case yo:var k=w._init;return h(x,k(w._payload),b)}if(Qc(w)||Yc(w))return w=Ji(w,x.mode,b,null),w.return=x,w;df(x,w)}return null}function f(x,w,b,k){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(x,w,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rh:return b.key===S?c(x,w,b,k):null;case Ja:return b.key===S?d(x,w,b,k):null;case yo:return S=b._init,f(x,w,S(b._payload),k)}if(Qc(b)||Yc(b))return S!==null?null:u(x,w,b,k,null);df(x,b)}return null}function p(x,w,b,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(b)||null,a(w,x,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Rh:return x=x.get(k.key===null?b:k.key)||null,c(w,x,k,S);case Ja:return x=x.get(k.key===null?b:k.key)||null,d(w,x,k,S);case yo:var N=k._init;return p(x,w,b,N(k._payload),S)}if(Qc(k)||Yc(k))return x=x.get(b)||null,u(w,x,k,S,null);df(w,k)}return null}function v(x,w,b,k){for(var S=null,N=null,C=w,E=w=0,j=null;C!==null&&E<b.length;E++){C.index>E?(j=C,C=null):j=C.sibling;var _=f(x,C,b[E],k);if(_===null){C===null&&(C=j);break}t&&C&&_.alternate===null&&e(x,C),w=o(_,w,E),N===null?S=_:N.sibling=_,N=_,C=j}if(E===b.length)return r(x,C),Xe&&Ui(x,E),S;if(C===null){for(;E<b.length;E++)C=h(x,b[E],k),C!==null&&(w=o(C,w,E),N===null?S=C:N.sibling=C,N=C);return Xe&&Ui(x,E),S}for(C=n(x,C);E<b.length;E++)j=p(C,x,E,b[E],k),j!==null&&(t&&j.alternate!==null&&C.delete(j.key===null?E:j.key),w=o(j,w,E),N===null?S=j:N.sibling=j,N=j);return t&&C.forEach(function(P){return e(x,P)}),Xe&&Ui(x,E),S}function g(x,w,b,k){var S=Yc(b);if(typeof S!="function")throw Error(X(150));if(b=S.call(b),b==null)throw Error(X(151));for(var N=S=null,C=w,E=w=0,j=null,_=b.next();C!==null&&!_.done;E++,_=b.next()){C.index>E?(j=C,C=null):j=C.sibling;var P=f(x,C,_.value,k);if(P===null){C===null&&(C=j);break}t&&C&&P.alternate===null&&e(x,C),w=o(P,w,E),N===null?S=P:N.sibling=P,N=P,C=j}if(_.done)return r(x,C),Xe&&Ui(x,E),S;if(C===null){for(;!_.done;E++,_=b.next())_=h(x,_.value,k),_!==null&&(w=o(_,w,E),N===null?S=_:N.sibling=_,N=_);return Xe&&Ui(x,E),S}for(C=n(x,C);!_.done;E++,_=b.next())_=p(C,x,E,_.value,k),_!==null&&(t&&_.alternate!==null&&C.delete(_.key===null?E:_.key),w=o(_,w,E),N===null?S=_:N.sibling=_,N=_);return t&&C.forEach(function(T){return e(x,T)}),Xe&&Ui(x,E),S}function y(x,w,b,k){if(typeof b=="object"&&b!==null&&b.type===Qa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Rh:e:{for(var S=b.key,N=w;N!==null;){if(N.key===S){if(S=b.type,S===Qa){if(N.tag===7){r(x,N.sibling),w=s(N,b.props.children),w.return=x,x=w;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yo&&lS(S)===N.type){r(x,N.sibling),w=s(N,b.props),w.ref=kd(x,N,b),w.return=x,x=w;break e}r(x,N);break}else e(x,N);N=N.sibling}b.type===Qa?(w=Ji(b.props.children,x.mode,k,b.key),w.return=x,x=w):(k=Af(b.type,b.key,b.props,null,x.mode,k),k.ref=kd(x,w,b),k.return=x,x=k)}return i(x);case Ja:e:{for(N=b.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(x,w.sibling),w=s(w,b.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else e(x,w);w=w.sibling}w=Ny(b,x.mode,k),w.return=x,x=w}return i(x);case yo:return N=b._init,y(x,w,N(b._payload),k)}if(Qc(b))return v(x,w,b,k);if(Yc(b))return g(x,w,b,k);df(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(x,w.sibling),w=s(w,b),w.return=x,x=w):(r(x,w),w=Sy(b,x.mode,k),w.return=x,x=w),i(x)):r(x,w)}return y}var pl=cS(!0),dS=cS(!1),uf=Eo(null),hf=null,ml=null,Pv=null;function Av(){Pv=ml=hf=null}function Iv(t){var e=uf.current;Je(uf),t._currentValue=e}function Dv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function gl(t,e){hf=t,Pv=ml=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ir=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(Pv!==t)if(t={context:t,memoizedValue:e,next:null},ml===null){if(hf===null)throw Error(X(308));ml=t,hf.dependencies={lanes:0,firstContext:t}}else ml=ml.next=t;return e}var Vi=null;function Lv(t){Vi===null?Vi=[t]:Vi.push(t)}function uS(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Lv(e)):(r.next=s.next,s.next=r),e.interleaved=r,Vs(t,n)}function Vs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ro=!1;function $v(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Vs(t,r)}return s=n.interleaved,s===null?(e.next=e,Lv(n)):(e.next=s.next,s.next=e),n.interleaved=e,Vs(t,r)}function ff(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Xg(t,r)}}function fS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pf(t,e,r,n){var s=t.updateQueue;Ro=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=d:a.next=d,u.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;i=0,u=d=c=null,a=o;do{var f=a.lane,p=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(f=e,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=rt({},h,f);break e;case 2:Ro=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);qi|=i,t.lanes=i,t.memoizedState=h}}function pS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(X(191,s));s.call(n)}}}var Sd={},fs=Eo(Sd),Nd=Eo(Sd),Cd=Eo(Sd);function Wi(t){if(t===Sd)throw Error(X(174));return t}function Fv(t,e){switch(He(Cd,e),He(Nd,t),He(fs,Sd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zg(e,t)}Je(fs),He(fs,e)}function vl(){Je(fs),Je(Nd),Je(Cd)}function mS(t){Wi(Cd.current);var e=Wi(fs.current),r=zg(e,t.type);e!==r&&(He(Nd,t),He(fs,r))}function zv(t){Nd.current===t&&(Je(fs),Je(Nd))}var nt=Eo(0);function mf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bv=[];function Uv(){for(var t=0;t<Bv.length;t++)Bv[t]._workInProgressVersionPrimary=null;Bv.length=0}var gf=$s.ReactCurrentDispatcher,Vv=$s.ReactCurrentBatchConfig,Hi=0,st=null,_t=null,Lt=null,vf=!1,jd=!1,Ed=0,u4=0;function cr(){throw Error(X(321))}function Wv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!$n(t[r],e[r]))return!1;return!0}function Hv(t,e,r,n,s,o){if(Hi=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gf.current=t===null||t.memoizedState===null?m4:g4,t=r(n,s),jd){o=0;do{if(jd=!1,Ed=0,25<=o)throw Error(X(301));o+=1,Lt=_t=null,e.updateQueue=null,gf.current=v4,t=r(n,s)}while(jd)}if(gf.current=wf,e=_t!==null&&_t.next!==null,Hi=0,Lt=_t=st=null,vf=!1,e)throw Error(X(300));return t}function qv(){var t=Ed!==0;return Ed=0,t}function ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?st.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function mn(){if(_t===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Lt===null?st.memoizedState:Lt.next;if(e!==null)Lt=e,_t=t;else{if(t===null)throw Error(X(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Lt===null?st.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function _d(t,e){return typeof e=="function"?e(t):e}function Kv(t){var e=mn(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=_t,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,d=o;do{var u=d.lane;if((Hi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=h,i=n):c=c.next=h,st.lanes|=u,qi|=u}d=d.next}while(d!==null&&d!==o);c===null?i=n:c.next=a,$n(n,e.memoizedState)||(Ir=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,st.lanes|=o,qi|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Gv(t){var e=mn(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);$n(o,e.memoizedState)||(Ir=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function gS(){}function vS(t,e){var r=st,n=mn(),s=e(),o=!$n(n.memoizedState,s);if(o&&(n.memoizedState=s,Ir=!0),n=n.queue,Yv(wS.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,Td(9,xS.bind(null,r,n,s,e),void 0,null),$t===null)throw Error(X(349));Hi&30||yS(r,e,s)}return s}function yS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xS(t,e,r,n){e.value=r,e.getSnapshot=n,bS(e)&&kS(t)}function wS(t,e,r){return r(function(){bS(e)&&kS(t)})}function bS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!$n(t,r)}catch{return!0}}function kS(t){var e=Vs(t,1);e!==null&&Vn(e,t,1,-1)}function SS(t){var e=ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_d,lastRenderedState:t},e.queue=t,t=t.dispatch=p4.bind(null,st,t),[e.memoizedState,t]}function Td(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function NS(){return mn().memoizedState}function yf(t,e,r,n){var s=ps();st.flags|=t,s.memoizedState=Td(1|e,r,void 0,n===void 0?null:n)}function xf(t,e,r,n){var s=mn();n=n===void 0?null:n;var o=void 0;if(_t!==null){var i=_t.memoizedState;if(o=i.destroy,n!==null&&Wv(n,i.deps)){s.memoizedState=Td(e,r,o,n);return}}st.flags|=t,s.memoizedState=Td(1|e,r,o,n)}function CS(t,e){return yf(8390656,8,t,e)}function Yv(t,e){return xf(2048,8,t,e)}function jS(t,e){return xf(4,2,t,e)}function ES(t,e){return xf(4,4,t,e)}function _S(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TS(t,e,r){return r=r!=null?r.concat([t]):null,xf(4,4,_S.bind(null,e,t),r)}function Jv(){}function RS(t,e){var r=mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Wv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function MS(t,e){var r=mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Wv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function OS(t,e,r){return Hi&21?($n(r,e)||(r=lk(),st.lanes|=r,qi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ir=!0),t.memoizedState=r)}function h4(t,e){var r=Be;Be=r!==0&&4>r?r:4,t(!0);var n=Vv.transition;Vv.transition={};try{t(!1),e()}finally{Be=r,Vv.transition=n}}function PS(){return mn().memoizedState}function f4(t,e,r){var n=Io(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},AS(t))IS(e,r);else if(r=uS(t,e,r,n),r!==null){var s=kr();Vn(r,t,n,s),DS(r,e,n)}}function p4(t,e,r){var n=Io(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(AS(t))IS(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,$n(a,i)){var c=e.interleaved;c===null?(s.next=s,Lv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=uS(t,e,s,n),r!==null&&(s=kr(),Vn(r,t,n,s),DS(r,e,n))}}function AS(t){var e=t.alternate;return t===st||e!==null&&e===st}function IS(t,e){jd=vf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function DS(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Xg(t,r)}}var wf={readContext:pn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},m4={readContext:pn,useCallback:function(t,e){return ps().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:CS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,yf(4194308,4,_S.bind(null,e,t),r)},useLayoutEffect:function(t,e){return yf(4194308,4,t,e)},useInsertionEffect:function(t,e){return yf(4,2,t,e)},useMemo:function(t,e){var r=ps();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ps();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=f4.bind(null,st,t),[n.memoizedState,t]},useRef:function(t){var e=ps();return t={current:t},e.memoizedState=t},useState:SS,useDebugValue:Jv,useDeferredValue:function(t){return ps().memoizedState=t},useTransition:function(){var t=SS(!1),e=t[0];return t=h4.bind(null,t[1]),ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=st,s=ps();if(Xe){if(r===void 0)throw Error(X(407));r=r()}else{if(r=e(),$t===null)throw Error(X(349));Hi&30||yS(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,CS(wS.bind(null,n,o,t),[t]),n.flags|=2048,Td(9,xS.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=ps(),e=$t.identifierPrefix;if(Xe){var r=Us,n=Bs;r=(n&~(1<<32-Ln(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ed++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=u4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g4={readContext:pn,useCallback:RS,useContext:pn,useEffect:Yv,useImperativeHandle:TS,useInsertionEffect:jS,useLayoutEffect:ES,useMemo:MS,useReducer:Kv,useRef:NS,useState:function(){return Kv(_d)},useDebugValue:Jv,useDeferredValue:function(t){var e=mn();return OS(e,_t.memoizedState,t)},useTransition:function(){var t=Kv(_d)[0],e=mn().memoizedState;return[t,e]},useMutableSource:gS,useSyncExternalStore:vS,useId:PS,unstable_isNewReconciler:!1},v4={readContext:pn,useCallback:RS,useContext:pn,useEffect:Yv,useImperativeHandle:TS,useInsertionEffect:jS,useLayoutEffect:ES,useMemo:MS,useReducer:Gv,useRef:NS,useState:function(){return Gv(_d)},useDebugValue:Jv,useDeferredValue:function(t){var e=mn();return _t===null?e.memoizedState=t:OS(e,_t.memoizedState,t)},useTransition:function(){var t=Gv(_d)[0],e=mn().memoizedState;return[t,e]},useMutableSource:gS,useSyncExternalStore:vS,useId:PS,unstable_isNewReconciler:!1};function zn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Qv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:rt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var bf={isMounted:function(t){return(t=t._reactInternals)?$i(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=kr(),s=Io(t),o=Ws(n,s);o.payload=e,r!=null&&(o.callback=r),e=Mo(t,o,s),e!==null&&(Vn(e,t,s,n),ff(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=kr(),s=Io(t),o=Ws(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Mo(t,o,s),e!==null&&(Vn(e,t,s,n),ff(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=kr(),n=Io(t),s=Ws(r,n);s.tag=2,e!=null&&(s.callback=e),e=Mo(t,s,n),e!==null&&(Vn(e,t,n,r),ff(e,t,n))}};function LS(t,e,r,n,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!md(r,n)||!md(s,o):!0}function $S(t,e,r){var n=!1,s=_o,o=e.contextType;return typeof o=="object"&&o!==null?o=pn(o):(s=Ar(e)?zi:lr.current,n=e.contextTypes,o=(n=n!=null)?dl(t,s):_o),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function FS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&bf.enqueueReplaceState(e,e.state,null)}function Xv(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},$v(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=pn(o):(o=Ar(e)?zi:lr.current,s.context=dl(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Qv(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bf.enqueueReplaceState(s,s.state,null),pf(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function yl(t,e){try{var r="",n=e;do r+=HD(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Zv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ey(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var y4=typeof WeakMap=="function"?WeakMap:Map;function zS(t,e,r){r=Ws(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){_f||(_f=!0,my=n),ey(t,e)},r}function BS(t,e,r){r=Ws(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ey(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ey(t,e),typeof n!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function US(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new y4;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=O4.bind(null,t,e,r),e.then(t,t))}function VS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function WS(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ws(-1,1),e.tag=2,Mo(r,e,1))),r.lanes|=1),t)}var x4=$s.ReactCurrentOwner,Ir=!1;function br(t,e,r,n){e.child=t===null?dS(e,null,r,n):pl(e,t.child,r,n)}function HS(t,e,r,n,s){r=r.render;var o=e.ref;return gl(e,s),n=Hv(t,e,r,n,o,s),r=qv(),t!==null&&!Ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hs(t,e,s)):(Xe&&r&&_v(e),e.flags|=1,br(t,e,n,s),e.child)}function qS(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!ky(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,KS(t,e,o,n,s)):(t=Af(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:md,r(i,n)&&t.ref===e.ref)return Hs(t,e,s)}return e.flags|=1,t=Lo(o,n),t.ref=e.ref,t.return=e,e.child=t}function KS(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(md(o,n)&&t.ref===e.ref)if(Ir=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(Ir=!0);else return e.lanes=t.lanes,Hs(t,e,s)}return ty(t,e,r,n,s)}function GS(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(wl,Zr),Zr|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(wl,Zr),Zr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,He(wl,Zr),Zr|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,He(wl,Zr),Zr|=n;return br(t,e,s,r),e.child}function YS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ty(t,e,r,n,s){var o=Ar(r)?zi:lr.current;return o=dl(e,o),gl(e,s),r=Hv(t,e,r,n,o,s),n=qv(),t!==null&&!Ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hs(t,e,s)):(Xe&&n&&_v(e),e.flags|=1,br(t,e,r,s),e.child)}function JS(t,e,r,n,s){if(Ar(r)){var o=!0;sf(e)}else o=!1;if(gl(e,s),e.stateNode===null)Sf(t,e),$S(e,r,n),Xv(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=pn(d):(d=Ar(r)?zi:lr.current,d=dl(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==d)&&FS(e,i,n,d),Ro=!1;var f=e.memoizedState;i.state=f,pf(e,n,i,s),c=e.memoizedState,a!==n||f!==c||Pr.current||Ro?(typeof u=="function"&&(Qv(e,r,u,n),c=e.memoizedState),(a=Ro||LS(e,r,a,n,f,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=d,n=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,hS(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:zn(e.type,a),i.props=d,h=e.pendingProps,f=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=pn(c):(c=Ar(r)?zi:lr.current,c=dl(e,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==c)&&FS(e,i,n,c),Ro=!1,f=e.memoizedState,i.state=f,pf(e,n,i,s);var v=e.memoizedState;a!==h||f!==v||Pr.current||Ro?(typeof p=="function"&&(Qv(e,r,p,n),v=e.memoizedState),(d=Ro||LS(e,r,d,n,f,v,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),i.props=n,i.state=v,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return ry(t,e,r,n,o,s)}function ry(t,e,r,n,s,o){YS(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&tS(e,r,!1),Hs(t,e,o);n=e.stateNode,x4.current=e;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=pl(e,t.child,null,o),e.child=pl(e,null,a,o)):br(t,e,a,o),e.memoizedState=n.state,s&&tS(e,r,!0),e.child}function QS(t){var e=t.stateNode;e.pendingContext?Zk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zk(t,e.context,!1),Fv(t,e.containerInfo)}function XS(t,e,r,n,s){return fl(),Ov(s),e.flags|=256,br(t,e,r,n),e.child}var ny={dehydrated:null,treeContext:null,retryLane:0};function sy(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZS(t,e,r){var n=e.pendingProps,s=nt.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(nt,s&1),t===null)return Mv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=If(i,n,0,null),t=Ji(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=sy(r),e.memoizedState=ny,t):oy(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return w4(t,e,i,n,a,s,r);if(o){o=n.fallback,i=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Lo(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Lo(a,o):(o=Ji(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?sy(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=ny,n}return o=t.child,t=o.sibling,n=Lo(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function oy(t,e){return e=If({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kf(t,e,r,n){return n!==null&&Ov(n),pl(e,t.child,null,r),t=oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function w4(t,e,r,n,s,o,i){if(r)return e.flags&256?(e.flags&=-257,n=Zv(Error(X(422))),kf(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=If({mode:"visible",children:n.children},s,0,null),o=Ji(o,s,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&pl(e,t.child,null,i),e.child.memoizedState=sy(i),e.memoizedState=ny,o);if(!(e.mode&1))return kf(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(X(419)),n=Zv(o,n,void 0),kf(t,e,i,n)}if(a=(i&t.childLanes)!==0,Ir||a){if(n=$t,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Vs(t,s),Vn(n,t,s,-1))}return by(),n=Zv(Error(X(421))),kf(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=P4.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Xr=jo(s.nextSibling),Qr=e,Xe=!0,Fn=null,t!==null&&(hn[fn++]=Bs,hn[fn++]=Us,hn[fn++]=Bi,Bs=t.id,Us=t.overflow,Bi=e),e=oy(e,n.children),e.flags|=4096,e)}function eN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Dv(t.return,e,r)}function iy(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function tN(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(br(t,e,n.children,r),n=nt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eN(t,r,e);else if(t.tag===19)eN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(He(nt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&mf(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),iy(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mf(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}iy(e,!0,r,null,o);break;case"together":iy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),qi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,r=Lo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Lo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function b4(t,e,r){switch(e.tag){case 3:QS(e),fl();break;case 5:mS(e);break;case 1:Ar(e.type)&&sf(e);break;case 4:Fv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;He(uf,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(He(nt,nt.current&1),e.flags|=128,null):r&e.child.childLanes?ZS(t,e,r):(He(nt,nt.current&1),t=Hs(t,e,r),t!==null?t.sibling:null);He(nt,nt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return tN(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(nt,nt.current),n)break;return null;case 22:case 23:return e.lanes=0,GS(t,e,r)}return Hs(t,e,r)}var rN,ay,nN,sN;rN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ay=function(){},nN=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Wi(fs.current);var o=null;switch(r){case"input":s=Dg(t,s),n=Dg(t,n),o=[];break;case"select":s=rt({},s,{value:void 0}),n=rt({},n,{value:void 0}),o=[];break;case"textarea":s=Fg(t,s),n=Fg(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=tf)}Bg(r,n);var i;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gc.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(a=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ye("scroll",t),o||a===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}},sN=function(t,e,r,n){r!==n&&(e.flags|=4)};function Rd(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function k4(t,e,r){var n=e.pendingProps;switch(Tv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(e),null;case 1:return Ar(e.type)&&nf(),dr(e),null;case 3:return n=e.stateNode,vl(),Je(Pr),Je(lr),Uv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(cf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(yy(Fn),Fn=null))),ay(t,e),dr(e),null;case 5:zv(e);var s=Wi(Cd.current);if(r=e.type,t!==null&&e.stateNode!=null)nN(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(X(166));return dr(e),null}if(t=Wi(fs.current),cf(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[hs]=e,n[wd]=o,t=(e.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<vd.length;s++)Ye(vd[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":$1(n,o),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ye("invalid",n);break;case"textarea":B1(n,o),Ye("invalid",n)}Bg(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&ef(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ef(n.textContent,a,t),s=["children",""+a]):Gc.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ye("scroll",n)}switch(r){case"input":Mh(n),z1(n,o,!0);break;case"textarea":Mh(n),V1(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=tf)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W1(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[hs]=e,t[wd]=n,rN(t,e,!1,!1),e.stateNode=t;e:{switch(i=Ug(r,n),r){case"dialog":Ye("cancel",t),Ye("close",t),s=n;break;case"iframe":case"object":case"embed":Ye("load",t),s=n;break;case"video":case"audio":for(s=0;s<vd.length;s++)Ye(vd[s],t);s=n;break;case"source":Ye("error",t),s=n;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),s=n;break;case"details":Ye("toggle",t),s=n;break;case"input":$1(t,n),s=Dg(t,n),Ye("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=rt({},n,{value:void 0}),Ye("invalid",t);break;case"textarea":B1(t,n),s=Fg(t,n),Ye("invalid",t);break;default:s=n}Bg(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?K1(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&H1(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xc(t,c):typeof c=="number"&&Xc(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ye("scroll",t):c!=null&&Cg(t,o,c,i))}switch(r){case"input":Mh(t),z1(t,n,!1);break;case"textarea":Mh(t),V1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+xo(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Xa(t,!!n.multiple,o,!1):n.defaultValue!=null&&Xa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=tf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dr(e),null;case 6:if(t&&e.stateNode!=null)sN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(X(166));if(r=Wi(Cd.current),Wi(fs.current),cf(e)){if(n=e.stateNode,r=e.memoizedProps,n[hs]=e,(o=n.nodeValue!==r)&&(t=Qr,t!==null))switch(t.tag){case 3:ef(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ef(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hs]=e,e.stateNode=n}return dr(e),null;case 13:if(Je(nt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Xr!==null&&e.mode&1&&!(e.flags&128))aS(),fl(),e.flags|=98560,o=!1;else if(o=cf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(X(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[hs]=e}else fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dr(e),o=!1}else Fn!==null&&(yy(Fn),Fn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?Tt===0&&(Tt=3):by())),e.updateQueue!==null&&(e.flags|=4),dr(e),null);case 4:return vl(),ay(t,e),t===null&&yd(e.stateNode.containerInfo),dr(e),null;case 10:return Iv(e.type._context),dr(e),null;case 17:return Ar(e.type)&&nf(),dr(e),null;case 19:if(Je(nt),o=e.memoizedState,o===null)return dr(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)Rd(o,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=mf(t),i!==null){for(e.flags|=128,Rd(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return He(nt,nt.current&1|2),e.child}t=t.sibling}o.tail!==null&&mt()>bl&&(e.flags|=128,n=!0,Rd(o,!1),e.lanes=4194304)}else{if(!n)if(t=mf(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Rd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Xe)return dr(e),null}else 2*mt()-o.renderingStartTime>bl&&r!==1073741824&&(e.flags|=128,n=!0,Rd(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=mt(),e.sibling=null,r=nt.current,He(nt,n?r&1|2:r&1),e):(dr(e),null);case 22:case 23:return wy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Zr&1073741824&&(dr(e),e.subtreeFlags&6&&(e.flags|=8192)):dr(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function S4(t,e){switch(Tv(e),e.tag){case 1:return Ar(e.type)&&nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vl(),Je(Pr),Je(lr),Uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zv(e),null;case 13:if(Je(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));fl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(nt),null;case 4:return vl(),null;case 10:return Iv(e.type._context),null;case 22:case 23:return wy(),null;case 24:return null;default:return null}}var Nf=!1,ur=!1,N4=typeof WeakSet=="function"?WeakSet:Set,ae=null;function xl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){it(t,e,n)}else r.current=null}function ly(t,e,r){try{r()}catch(n){it(t,e,n)}}var oN=!1;function C4(t,e){if(wv=Vh,t=Lk(),hv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=i+s),h!==o||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++d===s&&(a=i),f===o&&++u===n&&(c=i),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(bv={focusedElem:t,selectionRange:r},Vh=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:zn(e.type,g),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(k){it(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return v=oN,oN=!1,v}function Md(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&ly(e,r,o)}s=s.next}while(s!==n)}}function Cf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function cy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function iN(t){var e=t.alternate;e!==null&&(t.alternate=null,iN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hs],delete e[wd],delete e[Cv],delete e[a4],delete e[l4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aN(t){return t.tag===5||t.tag===3||t.tag===4}function lN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=tf));else if(n!==4&&(t=t.child,t!==null))for(dy(t,e,r),t=t.sibling;t!==null;)dy(t,e,r),t=t.sibling}function uy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(uy(t,e,r),t=t.sibling;t!==null;)uy(t,e,r),t=t.sibling}var Xt=null,Bn=!1;function Oo(t,e,r){for(r=r.child;r!==null;)cN(t,e,r),r=r.sibling}function cN(t,e,r){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(Lh,r)}catch{}switch(r.tag){case 5:ur||xl(r,e);case 6:var n=Xt,s=Bn;Xt=null,Oo(t,e,r),Xt=n,Bn=s,Xt!==null&&(Bn?(t=Xt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xt.removeChild(r.stateNode));break;case 18:Xt!==null&&(Bn?(t=Xt,r=r.stateNode,t.nodeType===8?Nv(t.parentNode,r):t.nodeType===1&&Nv(t,r),cd(t)):Nv(Xt,r.stateNode));break;case 4:n=Xt,s=Bn,Xt=r.stateNode.containerInfo,Bn=!0,Oo(t,e,r),Xt=n,Bn=s;break;case 0:case 11:case 14:case 15:if(!ur&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ly(r,e,i),s=s.next}while(s!==n)}Oo(t,e,r);break;case 1:if(!ur&&(xl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){it(r,e,a)}Oo(t,e,r);break;case 21:Oo(t,e,r);break;case 22:r.mode&1?(ur=(n=ur)||r.memoizedState!==null,Oo(t,e,r),ur=n):Oo(t,e,r);break;default:Oo(t,e,r)}}function dN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new N4),e.forEach(function(n){var s=A4.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Un(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,Bn=!1;break e;case 3:Xt=a.stateNode.containerInfo,Bn=!0;break e;case 4:Xt=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(Xt===null)throw Error(X(160));cN(o,i,s),Xt=null,Bn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){it(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uN(e,t),e=e.sibling}function uN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),ms(t),n&4){try{Md(3,t,t.return),Cf(3,t)}catch(g){it(t,t.return,g)}try{Md(5,t,t.return)}catch(g){it(t,t.return,g)}}break;case 1:Un(e,t),ms(t),n&512&&r!==null&&xl(r,r.return);break;case 5:if(Un(e,t),ms(t),n&512&&r!==null&&xl(r,r.return),t.flags&32){var s=t.stateNode;try{Xc(s,"")}catch(g){it(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&F1(s,o),Ug(a,i);var d=Ug(a,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?K1(s,h):u==="dangerouslySetInnerHTML"?H1(s,h):u==="children"?Xc(s,h):Cg(s,u,h,d)}switch(a){case"input":Lg(s,o);break;case"textarea":U1(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Xa(s,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Xa(s,!!o.multiple,o.defaultValue,!0):Xa(s,!!o.multiple,o.multiple?[]:"",!1))}s[wd]=o}catch(g){it(t,t.return,g)}}break;case 6:if(Un(e,t),ms(t),n&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(g){it(t,t.return,g)}}break;case 3:if(Un(e,t),ms(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cd(e.containerInfo)}catch(g){it(t,t.return,g)}break;case 4:Un(e,t),ms(t);break;case 13:Un(e,t),ms(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(py=mt())),n&4&&dN(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(ur=(d=ur)||u,Un(e,t),ur=d):Un(e,t),ms(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ae=t,u=t.child;u!==null;){for(h=ae=u;ae!==null;){switch(f=ae,p=f.child,f.tag){case 0:case 11:case 14:case 15:Md(4,f,f.return);break;case 1:xl(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){it(n,r,g)}}break;case 5:xl(f,f.return);break;case 22:if(f.memoizedState!==null){pN(h);continue}}p!==null?(p.return=f,ae=p):pN(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=q1("display",i))}catch(g){it(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){it(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Un(e,t),ms(t),n&4&&dN(t);break;case 21:break;default:Un(e,t),ms(t)}}function ms(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(aN(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xc(s,""),n.flags&=-33);var o=lN(t);uy(t,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=lN(t);dy(t,a,i);break;default:throw Error(X(161))}}catch(c){it(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j4(t,e,r){ae=t,hN(t)}function hN(t,e,r){for(var n=(t.mode&1)!==0;ae!==null;){var s=ae,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Nf;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||ur;a=Nf;var d=ur;if(Nf=i,(ur=c)&&!d)for(ae=s;ae!==null;)i=ae,c=i.child,i.tag===22&&i.memoizedState!==null?mN(s):c!==null?(c.return=i,ae=c):mN(s);for(;o!==null;)ae=o,hN(o),o=o.sibling;ae=s,Nf=a,ur=d}fN(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ae=o):fN(t)}}function fN(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ur||Cf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ur)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:zn(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&pS(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}pS(e,i,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&cd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}ur||e.flags&512&&cy(e)}catch(f){it(e,e.return,f)}}if(e===t){ae=null;break}if(r=e.sibling,r!==null){r.return=e.return,ae=r;break}ae=e.return}}function pN(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ae=r;break}ae=e.return}}function mN(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Cf(4,e)}catch(c){it(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){it(e,s,c)}}var o=e.return;try{cy(e)}catch(c){it(e,o,c)}break;case 5:var i=e.return;try{cy(e)}catch(c){it(e,i,c)}}}catch(c){it(e,e.return,c)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var E4=Math.ceil,jf=$s.ReactCurrentDispatcher,hy=$s.ReactCurrentOwner,gn=$s.ReactCurrentBatchConfig,$e=0,$t=null,xt=null,Zt=0,Zr=0,wl=Eo(0),Tt=0,Od=null,qi=0,Ef=0,fy=0,Pd=null,Dr=null,py=0,bl=1/0,qs=null,_f=!1,my=null,Po=null,Tf=!1,Ao=null,Rf=0,Ad=0,gy=null,Mf=-1,Of=0;function kr(){return $e&6?mt():Mf!==-1?Mf:Mf=mt()}function Io(t){return t.mode&1?$e&2&&Zt!==0?Zt&-Zt:d4.transition!==null?(Of===0&&(Of=lk()),Of):(t=Be,t!==0||(t=window.event,t=t===void 0?16:vk(t.type)),t):1}function Vn(t,e,r,n){if(50<Ad)throw Ad=0,gy=null,Error(X(185));sd(t,r,n),(!($e&2)||t!==$t)&&(t===$t&&(!($e&2)&&(Ef|=r),Tt===4&&Do(t,Zt)),Lr(t,n),r===1&&$e===0&&!(e.mode&1)&&(bl=mt()+500,of&&To()))}function Lr(t,e){var r=t.callbackNode;d5(t,e);var n=zh(t,t===$t?Zt:0);if(n===0)r!==null&&ok(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ok(r),e===1)t.tag===0?c4(vN.bind(null,t)):rS(vN.bind(null,t)),o4(function(){!($e&6)&&To()}),r=null;else{switch(ck(n)){case 1:r=Yg;break;case 4:r=ik;break;case 16:r=Dh;break;case 536870912:r=ak;break;default:r=Dh}r=CN(r,gN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function gN(t,e){if(Mf=-1,Of=0,$e&6)throw Error(X(327));var r=t.callbackNode;if(kl()&&t.callbackNode!==r)return null;var n=zh(t,t===$t?Zt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Pf(t,n);else{e=n;var s=$e;$e|=2;var o=xN();($t!==t||Zt!==e)&&(qs=null,bl=mt()+500,Gi(t,e));do try{R4();break}catch(a){yN(t,a)}while(!0);Av(),jf.current=o,$e=s,xt!==null?e=0:($t=null,Zt=0,e=Tt)}if(e!==0){if(e===2&&(s=Jg(t),s!==0&&(n=s,e=vy(t,s))),e===1)throw r=Od,Gi(t,0),Do(t,n),Lr(t,mt()),r;if(e===6)Do(t,n);else{if(s=t.current.alternate,!(n&30)&&!_4(s)&&(e=Pf(t,n),e===2&&(o=Jg(t),o!==0&&(n=o,e=vy(t,o))),e===1))throw r=Od,Gi(t,0),Do(t,n),Lr(t,mt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(X(345));case 2:Yi(t,Dr,qs);break;case 3:if(Do(t,n),(n&130023424)===n&&(e=py+500-mt(),10<e)){if(zh(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){kr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sv(Yi.bind(null,t,Dr,qs),e);break}Yi(t,Dr,qs);break;case 4:if(Do(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-Ln(n);o=1<<i,i=e[i],i>s&&(s=i),n&=~o}if(n=s,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E4(n/1960))-n,10<n){t.timeoutHandle=Sv(Yi.bind(null,t,Dr,qs),n);break}Yi(t,Dr,qs);break;case 5:Yi(t,Dr,qs);break;default:throw Error(X(329))}}}return Lr(t,mt()),t.callbackNode===r?gN.bind(null,t):null}function vy(t,e){var r=Pd;return t.current.memoizedState.isDehydrated&&(Gi(t,e).flags|=256),t=Pf(t,e),t!==2&&(e=Dr,Dr=r,e!==null&&yy(e)),t}function yy(t){Dr===null?Dr=t:Dr.push.apply(Dr,t)}function _4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!$n(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Do(t,e){for(e&=~fy,e&=~Ef,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ln(e),n=1<<r;t[r]=-1,e&=~n}}function vN(t){if($e&6)throw Error(X(327));kl();var e=zh(t,0);if(!(e&1))return Lr(t,mt()),null;var r=Pf(t,e);if(t.tag!==0&&r===2){var n=Jg(t);n!==0&&(e=n,r=vy(t,n))}if(r===1)throw r=Od,Gi(t,0),Do(t,e),Lr(t,mt()),r;if(r===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yi(t,Dr,qs),Lr(t,mt()),null}function xy(t,e){var r=$e;$e|=1;try{return t(e)}finally{$e=r,$e===0&&(bl=mt()+500,of&&To())}}function Ki(t){Ao!==null&&Ao.tag===0&&!($e&6)&&kl();var e=$e;$e|=1;var r=gn.transition,n=Be;try{if(gn.transition=null,Be=1,t)return t()}finally{Be=n,gn.transition=r,$e=e,!($e&6)&&To()}}function wy(){Zr=wl.current,Je(wl)}function Gi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,s4(r)),xt!==null)for(r=xt.return;r!==null;){var n=r;switch(Tv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nf();break;case 3:vl(),Je(Pr),Je(lr),Uv();break;case 5:zv(n);break;case 4:vl();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:Iv(n.type._context);break;case 22:case 23:wy()}r=r.return}if($t=t,xt=t=Lo(t.current,null),Zt=Zr=e,Tt=0,Od=null,fy=Ef=qi=0,Dr=Pd=null,Vi!==null){for(e=0;e<Vi.length;e++)if(r=Vi[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Vi=null}return t}function yN(t,e){do{var r=xt;try{if(Av(),gf.current=wf,vf){for(var n=st.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}vf=!1}if(Hi=0,Lt=_t=st=null,jd=!1,Ed=0,hy.current=null,r===null||r.return===null){Tt=1,Od=e,xt=null;break}e:{var o=t,i=r.return,a=r,c=e;if(e=Zt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=VS(i);if(p!==null){p.flags&=-257,WS(p,i,a,o,e),p.mode&1&&US(o,d,e),e=p,c=d;var v=e.updateQueue;if(v===null){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break e}else{if(!(e&1)){US(o,d,e),by();break e}c=Error(X(426))}}else if(Xe&&a.mode&1){var y=VS(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),WS(y,i,a,o,e),Ov(yl(c,a));break e}}o=c=yl(c,a),Tt!==4&&(Tt=2),Pd===null?Pd=[o]:Pd.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=zS(o,c,e);fS(o,x);break e;case 1:a=c;var w=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=BS(o,a,e);fS(o,k);break e}}o=o.return}while(o!==null)}bN(r)}catch(S){e=S,xt===r&&r!==null&&(xt=r=r.return);continue}break}while(!0)}function xN(){var t=jf.current;return jf.current=wf,t===null?wf:t}function by(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||!(qi&268435455)&&!(Ef&268435455)||Do($t,Zt)}function Pf(t,e){var r=$e;$e|=2;var n=xN();($t!==t||Zt!==e)&&(qs=null,Gi(t,e));do try{T4();break}catch(s){yN(t,s)}while(!0);if(Av(),$e=r,jf.current=n,xt!==null)throw Error(X(261));return $t=null,Zt=0,Tt}function T4(){for(;xt!==null;)wN(xt)}function R4(){for(;xt!==null&&!t5();)wN(xt)}function wN(t){var e=NN(t.alternate,t,Zr);t.memoizedProps=t.pendingProps,e===null?bN(t):xt=e,hy.current=null}function bN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=S4(r,e),r!==null){r.flags&=32767,xt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,xt=null;return}}else if(r=k4(r,e,Zr),r!==null){xt=r;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Tt===0&&(Tt=5)}function Yi(t,e,r){var n=Be,s=gn.transition;try{gn.transition=null,Be=1,M4(t,e,r,n)}finally{gn.transition=s,Be=n}return null}function M4(t,e,r,n){do kl();while(Ao!==null);if($e&6)throw Error(X(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(u5(t,o),t===$t&&(xt=$t=null,Zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tf||(Tf=!0,CN(Dh,function(){return kl(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=gn.transition,gn.transition=null;var i=Be;Be=1;var a=$e;$e|=4,hy.current=null,C4(t,r),uN(r,t),Q5(bv),Vh=!!wv,bv=wv=null,t.current=r,j4(r),r5(),$e=a,Be=i,gn.transition=o}else t.current=r;if(Tf&&(Tf=!1,Ao=t,Rf=s),o=t.pendingLanes,o===0&&(Po=null),o5(r.stateNode),Lr(t,mt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(_f)throw _f=!1,t=my,my=null,t;return Rf&1&&t.tag!==0&&kl(),o=t.pendingLanes,o&1?t===gy?Ad++:(Ad=0,gy=t):Ad=0,To(),null}function kl(){if(Ao!==null){var t=ck(Rf),e=gn.transition,r=Be;try{if(gn.transition=null,Be=16>t?16:t,Ao===null)var n=!1;else{if(t=Ao,Ao=null,Rf=0,$e&6)throw Error(X(331));var s=$e;for($e|=4,ae=t.current;ae!==null;){var o=ae,i=o.child;if(ae.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ae=d;ae!==null;){var u=ae;switch(u.tag){case 0:case 11:case 15:Md(8,u,o)}var h=u.child;if(h!==null)h.return=u,ae=h;else for(;ae!==null;){u=ae;var f=u.sibling,p=u.return;if(iN(u),u===d){ae=null;break}if(f!==null){f.return=p,ae=f;break}ae=p}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ae=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ae=i;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Md(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ae=x;break e}ae=o.return}}var w=t.current;for(ae=w;ae!==null;){i=ae;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,ae=b;else e:for(i=w;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cf(9,a)}}catch(S){it(a,a.return,S)}if(a===i){ae=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ae=k;break e}ae=a.return}}if($e=s,To(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(Lh,t)}catch{}n=!0}return n}finally{Be=r,gn.transition=e}}return!1}function kN(t,e,r){e=yl(r,e),e=zS(t,e,1),t=Mo(t,e,1),e=kr(),t!==null&&(sd(t,1,e),Lr(t,e))}function it(t,e,r){if(t.tag===3)kN(t,t,r);else for(;e!==null;){if(e.tag===3){kN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Po===null||!Po.has(n))){t=yl(r,t),t=BS(e,t,1),e=Mo(e,t,1),t=kr(),e!==null&&(sd(e,1,t),Lr(e,t));break}}e=e.return}}function O4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=kr(),t.pingedLanes|=t.suspendedLanes&r,$t===t&&(Zt&r)===r&&(Tt===4||Tt===3&&(Zt&130023424)===Zt&&500>mt()-py?Gi(t,0):fy|=r),Lr(t,e)}function SN(t,e){e===0&&(t.mode&1?(e=Fh,Fh<<=1,!(Fh&130023424)&&(Fh=4194304)):e=1);var r=kr();t=Vs(t,e),t!==null&&(sd(t,e,r),Lr(t,r))}function P4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),SN(t,r)}function A4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(e),SN(t,r)}var NN;NN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pr.current)Ir=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ir=!1,b4(t,e,r);Ir=!!(t.flags&131072)}else Ir=!1,Xe&&e.flags&1048576&&nS(e,lf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Sf(t,e),t=e.pendingProps;var s=dl(e,lr.current);gl(e,r),s=Hv(null,e,n,t,s,r);var o=qv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ar(n)?(o=!0,sf(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$v(e),s.updater=bf,e.stateNode=s,s._reactInternals=e,Xv(e,n,t,r),e=ry(null,e,n,!0,o,r)):(e.tag=0,Xe&&o&&_v(e),br(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Sf(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=D4(n),t=zn(n,t),s){case 0:e=ty(null,e,n,t,r);break e;case 1:e=JS(null,e,n,t,r);break e;case 11:e=HS(null,e,n,t,r);break e;case 14:e=qS(null,e,n,zn(n.type,t),r);break e}throw Error(X(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:zn(n,s),ty(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:zn(n,s),JS(t,e,n,s,r);case 3:e:{if(QS(e),t===null)throw Error(X(387));n=e.pendingProps,o=e.memoizedState,s=o.element,hS(t,e),pf(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=yl(Error(X(423)),e),e=XS(t,e,n,r,s);break e}else if(n!==s){s=yl(Error(X(424)),e),e=XS(t,e,n,r,s);break e}else for(Xr=jo(e.stateNode.containerInfo.firstChild),Qr=e,Xe=!0,Fn=null,r=dS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fl(),n===s){e=Hs(t,e,r);break e}br(t,e,n,r)}e=e.child}return e;case 5:return mS(e),t===null&&Mv(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,kv(n,s)?i=null:o!==null&&kv(n,o)&&(e.flags|=32),YS(t,e),br(t,e,i,r),e.child;case 6:return t===null&&Mv(e),null;case 13:return ZS(t,e,r);case 4:return Fv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=pl(e,null,n,r):br(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:zn(n,s),HS(t,e,n,s,r);case 7:return br(t,e,e.pendingProps,r),e.child;case 8:return br(t,e,e.pendingProps.children,r),e.child;case 12:return br(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,He(uf,n._currentValue),n._currentValue=i,o!==null)if($n(o.value,i)){if(o.children===s.children&&!Pr.current){e=Hs(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Ws(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Dv(o.return,r,e),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(X(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Dv(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}br(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,gl(e,r),s=pn(s),n=n(s),e.flags|=1,br(t,e,n,r),e.child;case 14:return n=e.type,s=zn(n,e.pendingProps),s=zn(n.type,s),qS(t,e,n,s,r);case 15:return KS(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:zn(n,s),Sf(t,e),e.tag=1,Ar(n)?(t=!0,sf(e)):t=!1,gl(e,r),$S(e,n,s),Xv(e,n,s,r),ry(null,e,n,!0,t,r);case 19:return tN(t,e,r);case 22:return GS(t,e,r)}throw Error(X(156,e.tag))};function CN(t,e){return sk(t,e)}function I4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,r,n){return new I4(t,e,r,n)}function ky(t){return t=t.prototype,!(!t||!t.isReactComponent)}function D4(t){if(typeof t=="function")return ky(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_g)return 11;if(t===Mg)return 14}return 2}function Lo(t,e){var r=t.alternate;return r===null?(r=vn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Af(t,e,r,n,s,o){var i=2;if(n=t,typeof t=="function")ky(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Qa:return Ji(r.children,s,o,e);case jg:i=8,s|=8;break;case Eg:return t=vn(12,r,e,s|2),t.elementType=Eg,t.lanes=o,t;case Tg:return t=vn(13,r,e,s),t.elementType=Tg,t.lanes=o,t;case Rg:return t=vn(19,r,e,s),t.elementType=Rg,t.lanes=o,t;case A1:return If(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O1:i=10;break e;case P1:i=9;break e;case _g:i=11;break e;case Mg:i=14;break e;case yo:i=16,n=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=vn(i,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function Ji(t,e,r,n){return t=vn(7,t,n,e),t.lanes=r,t}function If(t,e,r,n){return t=vn(22,t,n,e),t.elementType=A1,t.lanes=r,t.stateNode={isHidden:!1},t}function Sy(t,e,r){return t=vn(6,t,null,e),t.lanes=r,t}function Ny(t,e,r){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L4(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qg(0),this.expirationTimes=Qg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qg(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cy(t,e,r,n,s,o,i,a,c){return t=new L4(t,e,r,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=vn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$v(o),t}function $4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ja,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function jN(t){if(!t)return _o;t=t._reactInternals;e:{if($i(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var r=t.type;if(Ar(r))return eS(t,r,e)}return e}function EN(t,e,r,n,s,o,i,a,c){return t=Cy(r,n,!0,t,s,o,i,a,c),t.context=jN(null),r=t.current,n=kr(),s=Io(r),o=Ws(n,s),o.callback=e??null,Mo(r,o,s),t.current.lanes=s,sd(t,s,n),Lr(t,n),t}function Df(t,e,r,n){var s=e.current,o=kr(),i=Io(s);return r=jN(r),e.context===null?e.context=r:e.pendingContext=r,e=Ws(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Mo(s,e,i),t!==null&&(Vn(t,s,i,o),ff(t,s,i)),i}function Lf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _N(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function jy(t,e){_N(t,e),(t=t.alternate)&&_N(t,e)}function F4(){return null}var TN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ey(t){this._internalRoot=t}$f.prototype.render=Ey.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Df(t,e,null,null)},$f.prototype.unmount=Ey.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){Df(null,t,null,null)}),e[Fs]=null}};function $f(t){this._internalRoot=t}$f.prototype.unstable_scheduleHydration=function(t){if(t){var e=hk();t={blockedOn:null,target:t,priority:e};for(var r=0;r<So.length&&e!==0&&e<So[r].priority;r++);So.splice(r,0,t),r===0&&mk(t)}};function _y(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ff(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function RN(){}function z4(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var d=Lf(i);o.call(d)}}var i=EN(e,n,t,0,null,!1,!1,"",RN);return t._reactRootContainer=i,t[Fs]=i.current,yd(t.nodeType===8?t.parentNode:t),Ki(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var d=Lf(c);a.call(d)}}var c=Cy(t,0,!1,null,null,!1,!1,"",RN);return t._reactRootContainer=c,t[Fs]=c.current,yd(t.nodeType===8?t.parentNode:t),Ki(function(){Df(e,c,r,n)}),c}function zf(t,e,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=Lf(i);a.call(c)}}Df(e,i,t,s)}else i=z4(r,e,t,s,n);return Lf(i)}dk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=nd(e.pendingLanes);r!==0&&(Xg(e,r|1),Lr(e,mt()),!($e&6)&&(bl=mt()+500,To()))}break;case 13:Ki(function(){var n=Vs(t,1);if(n!==null){var s=kr();Vn(n,t,1,s)}}),jy(t,1)}},Zg=function(t){if(t.tag===13){var e=Vs(t,134217728);if(e!==null){var r=kr();Vn(e,t,134217728,r)}jy(t,134217728)}},uk=function(t){if(t.tag===13){var e=Io(t),r=Vs(t,e);if(r!==null){var n=kr();Vn(r,t,e,n)}jy(t,e)}},hk=function(){return Be},fk=function(t,e){var r=Be;try{return Be=t,e()}finally{Be=r}},Hg=function(t,e,r){switch(e){case"input":if(Lg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=rf(n);if(!s)throw Error(X(90));L1(n),Lg(n,s)}}}break;case"textarea":U1(t,r);break;case"select":e=r.value,e!=null&&Xa(t,!!r.multiple,e,!1)}},Q1=xy,X1=Ki;var B4={usingClientEntryPoint:!1,Events:[bd,ll,rf,Y1,J1,xy]},Id={findFiberByHostInstance:Fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U4={bundleType:Id.bundleType,version:Id.version,rendererPackageName:Id.rendererPackageName,rendererConfig:Id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rk(t),t===null?null:t.stateNode},findFiberByHostInstance:Id.findFiberByHostInstance||F4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{Lh=Bf.inject(U4),us=Bf}catch{}}Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B4,Gr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_y(e))throw Error(X(200));return $4(t,e,null,r)},Gr.createRoot=function(t,e){if(!_y(t))throw Error(X(299));var r=!1,n="",s=TN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Cy(t,1,!1,null,null,r,!1,n,s),t[Fs]=e.current,yd(t.nodeType===8?t.parentNode:t),new Ey(e)},Gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=rk(e),t=t===null?null:t.stateNode,t},Gr.flushSync=function(t){return Ki(t)},Gr.hydrate=function(t,e,r){if(!Ff(e))throw Error(X(200));return zf(null,t,e,!0,r)},Gr.hydrateRoot=function(t,e,r){if(!_y(t))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=TN;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=EN(e,null,t,1,r??null,s,!1,o,i),t[Fs]=e.current,yd(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new $f(e)},Gr.render=function(t,e,r){if(!Ff(e))throw Error(X(200));return zf(null,t,e,!1,r)},Gr.unmountComponentAtNode=function(t){if(!Ff(t))throw Error(X(40));return t._reactRootContainer?(Ki(function(){zf(null,null,t,!1,function(){t._reactRootContainer=null,t[Fs]=null})}),!0):!1},Gr.unstable_batchedUpdates=xy,Gr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ff(r))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return zf(t,e,r,!1,n)},Gr.version="18.3.1-next-f1338f8080-20240426";function MN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MN)}catch(t){console.error(t)}}MN(),j1.exports=Gr;var yn=j1.exports;const Ty=Jt(yn);var ON,PN=yn;ON=PN.createRoot,PN.hydrateRoot;const V4=1,W4=1e6;let Ry=0;function H4(){return Ry=(Ry+1)%Number.MAX_SAFE_INTEGER,Ry.toString()}const My=new Map,AN=t=>{if(My.has(t))return;const e=setTimeout(()=>{My.delete(t),Dd({type:"REMOVE_TOAST",toastId:t})},W4);My.set(t,e)},q4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,V4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?AN(r):t.toasts.forEach(n=>{AN(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Uf=[];let Vf={toasts:[]};function Dd(t){Vf=q4(Vf,t),Uf.forEach(e=>{e(Vf)})}function K4({...t}){const e=H4(),r=s=>Dd({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Dd({type:"DISMISS_TOAST",toastId:e});return Dd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function gs(){const[t,e]=m.useState(Vf);return m.useEffect(()=>(Uf.push(e),()=>{const r=Uf.indexOf(e);r>-1&&Uf.splice(r,1)}),[t]),{...t,toast:K4,dismiss:r=>Dd({type:"DISMISS_TOAST",toastId:r})}}function Q(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function IN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ks(...t){return e=>{let r=!1;const n=t.map(s=>{const o=IN(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():IN(t[s],null)}}}}function we(...t){return m.useCallback(Ks(...t),t)}function G4(t,e){const r=m.createContext(e),n=o=>{const{children:i,...a}=o,c=m.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=t+"Provider";function s(o){const i=m.useContext(r);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function Ft(t,e=[]){let r=[];function n(o,i){const a=m.createContext(i),c=r.length;r=[...r,i];const d=h=>{var x;const{scope:f,children:p,...v}=h,g=((x=f==null?void 0:f[t])==null?void 0:x[c])||a,y=m.useMemo(()=>v,Object.values(v));return l.jsx(g.Provider,{value:y,children:p})};d.displayName=o+"Provider";function u(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[c])||a,v=m.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[d,u]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[n,Y4(s,...e)]}function Y4(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function Qi(t){const e=Q4(t),r=m.forwardRef((n,s)=>{const{children:o,...i}=n,a=m.Children.toArray(o),c=a.find(Z4);if(c){const d=c.props.children,u=a.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return l.jsx(e,{...i,ref:s,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return l.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var J4=Qi("Slot");function Q4(t){const e=m.forwardRef((r,n)=>{const{children:s,...o}=r;if(m.isValidElement(s)){const i=t3(s),a=e3(o,s.props);return s.type!==m.Fragment&&(a.ref=n?Ks(n,i):i),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DN=Symbol("radix.slottable");function X4(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=DN,e}function Z4(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DN}function e3(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function t3(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ld(t){const e=t+"CollectionProvider",[r,n]=Ft(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:y,children:x}=g,w=W.useRef(null),b=W.useRef(new Map).current;return l.jsx(s,{scope:y,itemMap:b,collectionRef:w,children:x})};i.displayName=e;const a=t+"CollectionSlot",c=Qi(a),d=W.forwardRef((g,y)=>{const{scope:x,children:w}=g,b=o(a,x),k=we(y,b.collectionRef);return l.jsx(c,{ref:k,children:w})});d.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=Qi(u),p=W.forwardRef((g,y)=>{const{scope:x,children:w,...b}=g,k=W.useRef(null),S=we(y,k),N=o(u,x);return W.useEffect(()=>(N.itemMap.set(k,{ref:k,...b}),()=>void N.itemMap.delete(k))),l.jsx(f,{[h]:"",ref:S,children:w})});p.displayName=u;function v(g){const y=o(t+"CollectionConsumer",g);return W.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((N,C)=>b.indexOf(N.ref.current)-b.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:d,ItemSlot:p},v,n]}var r3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=r3.reduce((t,e)=>{const r=Qi(`Primitive.${e}`),n=m.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Oy(t,e){t&&yn.flushSync(()=>t.dispatchEvent(e))}function at(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function n3(t,e=globalThis==null?void 0:globalThis.document){const r=at(t);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var s3="DismissableLayer",Py="dismissableLayer.update",o3="dismissableLayer.pointerDownOutside",i3="dismissableLayer.focusOutside",LN,$N=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sl=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=t,d=m.useContext($N),[u,h]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),v=we(e,C=>h(C)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),w=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,k=w>=x,S=l3(C=>{const E=C.target,j=[...d.branches].some(_=>_.contains(E));!k||j||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},f),N=c3(C=>{const E=C.target;[...d.branches].some(_=>_.contains(E))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},f);return n3(C=>{w===d.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),m.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(LN=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),zN(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=LN)}},[u,f,r,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),zN())},[u,d]),m.useEffect(()=>{const C=()=>p({});return document.addEventListener(Py,C),()=>document.removeEventListener(Py,C)},[]),l.jsx(se.div,{...c,ref:v,style:{pointerEvents:b?k?"auto":"none":void 0,...t.style},onFocusCapture:Q(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Q(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Q(t.onPointerDownCapture,S.onPointerDownCapture)})});Sl.displayName=s3;var a3="DismissableLayerBranch",FN=m.forwardRef((t,e)=>{const r=m.useContext($N),n=m.useRef(null),s=we(e,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(se.div,{...t,ref:s})});FN.displayName=a3;function l3(t,e=globalThis==null?void 0:globalThis.document){const r=at(t),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){BN(o3,r,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function c3(t,e=globalThis==null?void 0:globalThis.document){const r=at(t),n=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!n.current&&BN(i3,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function zN(){const t=new CustomEvent(Py);document.dispatchEvent(t)}function BN(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Oy(s,o):s.dispatchEvent(o)}var d3=Sl,u3=FN,gt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},h3="Portal",$d=m.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,o]=m.useState(!1);gt(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Ty.createPortal(l.jsx(se.div,{...n,ref:e}),i):null});$d.displayName=h3;function f3(t,e){return m.useReducer((r,n)=>e[r][n]??r,t)}var er=t=>{const{present:e,children:r}=t,n=p3(e),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=we(n.ref,m3(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:o}):null};er.displayName="Presence";function p3(t){const[e,r]=m.useState(),n=m.useRef(null),s=m.useRef(t),o=m.useRef("none"),i=t?"mounted":"unmounted",[a,c]=f3(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Wf(n.current);o.current=a==="mounted"?d:"none"},[a]),gt(()=>{const d=n.current,u=s.current;if(u!==t){const f=o.current,p=Wf(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),gt(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=p=>{const g=Wf(n.current).includes(p.animationName);if(p.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=p=>{p.target===e&&(o.current=Wf(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Wf(t){return(t==null?void 0:t.animationName)||"none"}function m3(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var g3=bg[" useInsertionEffect ".trim().toString()]||gt;function Wn({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,i]=v3({defaultProp:e,onChange:r}),a=t!==void 0,c=a?t:s;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,n])}const d=m.useCallback(u=>{var h;if(a){const f=y3(u)?u(t):u;f!==t&&((h=i.current)==null||h.call(i,f))}else o(u)},[a,t,o,i]);return[c,d]}function v3({defaultProp:t,onChange:e}){const[r,n]=m.useState(t),s=m.useRef(r),o=m.useRef(e);return g3(()=>{o.current=e},[e]),m.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function y3(t){return typeof t=="function"}var UN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),x3="VisuallyHidden",Hf=m.forwardRef((t,e)=>l.jsx(se.span,{...t,ref:e,style:{...UN,...t.style}}));Hf.displayName=x3;var w3=Hf,Ay="ToastProvider",[Iy,b3,k3]=Ld("Toast"),[VN]=Ft("Toast",[k3]),[S3,qf]=VN(Ay),WN=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,c]=m.useState(null),[d,u]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ay}\`. Expected non-empty \`string\`.`),l.jsx(Iy.Provider,{scope:e,children:l.jsx(S3,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:m.useCallback(()=>u(p=>p+1),[]),onToastRemove:m.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:i})})};WN.displayName=Ay;var HN="ToastViewport",N3=["F8"],Dy="toast.viewportPause",Ly="toast.viewportResume",qN=m.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=N3,label:s="Notifications ({hotkey})",...o}=t,i=qf(HN,r),a=b3(r),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=m.useRef(null),f=we(e,h,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;m.useEffect(()=>{const y=x=>{var b;n.length!==0&&n.every(k=>x[k]||x.code===k)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),m.useEffect(()=>{const y=c.current,x=h.current;if(v&&y&&x){const w=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(Dy);x.dispatchEvent(N),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(Ly);x.dispatchEvent(N),i.isClosePausedRef.current=!1}},k=N=>{!y.contains(N.relatedTarget)&&b()},S=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",k),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",k),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[v,i.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:y})=>{const w=a().map(b=>{const k=b.ref.current,S=[k,...L3(k)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return m.useEffect(()=>{const y=h.current;if(y){const x=w=>{var S,N,C;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const E=document.activeElement,j=w.shiftKey;if(w.target===y&&j){(S=d.current)==null||S.focus();return}const T=g({tabbingDirection:j?"backwards":"forwards"}),A=T.findIndex(I=>I===E);zy(T.slice(A+1))?w.preventDefault():j?(N=d.current)==null||N.focus():(C=u.current)==null||C.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[a,g]),l.jsxs(u3,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&l.jsx($y,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});zy(y)}}),l.jsx(Iy.Slot,{scope:r,children:l.jsx(se.ol,{tabIndex:-1,...o,ref:f})}),v&&l.jsx($y,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});zy(y)}})]})});qN.displayName=HN;var KN="ToastFocusProxy",$y=m.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=qf(KN,r);return l.jsx(Hf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var d;const a=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(a))&&n()}})});$y.displayName=KN;var Fd="Toast",C3="toast.swipeStart",j3="toast.swipeMove",E3="toast.swipeCancel",_3="toast.swipeEnd",GN=m.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=t,[a,c]=Wn({prop:n,defaultProp:s??!0,onChange:o,caller:Fd});return l.jsx(er,{present:r||a,children:l.jsx(M3,{open:a,...i,ref:e,onClose:()=>c(!1),onPause:at(t.onPause),onResume:at(t.onResume),onSwipeStart:Q(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Q(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});GN.displayName=Fd;var[T3,R3]=VN(Fd,{onClose(){}}),M3=m.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...v}=t,g=qf(Fd,r),[y,x]=m.useState(null),w=we(e,I=>x(I)),b=m.useRef(null),k=m.useRef(null),S=s||g.duration,N=m.useRef(0),C=m.useRef(S),E=m.useRef(0),{onToastAdd:j,onToastRemove:_}=g,P=at(()=>{var L;(y==null?void 0:y.contains(document.activeElement))&&((L=g.viewport)==null||L.focus()),i()}),T=m.useCallback(I=>{!I||I===1/0||(window.clearTimeout(E.current),N.current=new Date().getTime(),E.current=window.setTimeout(P,I))},[P]);m.useEffect(()=>{const I=g.viewport;if(I){const L=()=>{T(C.current),d==null||d()},F=()=>{const V=new Date().getTime()-N.current;C.current=C.current-V,window.clearTimeout(E.current),c==null||c()};return I.addEventListener(Dy,F),I.addEventListener(Ly,L),()=>{I.removeEventListener(Dy,F),I.removeEventListener(Ly,L)}}},[g.viewport,S,c,d,T]),m.useEffect(()=>{o&&!g.isClosePausedRef.current&&T(S)},[o,S,g.isClosePausedRef,T]),m.useEffect(()=>(j(),()=>_()),[j,_]);const A=m.useMemo(()=>y?tC(y):null,[y]);return g.viewport?l.jsxs(l.Fragment,{children:[A&&l.jsx(O3,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),l.jsx(T3,{scope:r,onClose:P,children:yn.createPortal(l.jsx(Iy.ItemSlot,{scope:r,children:l.jsx(d3,{asChild:!0,onEscapeKeyDown:Q(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Q(t.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Q(t.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:Q(t.onPointerMove,I=>{if(!b.current)return;const L=I.clientX-b.current.x,F=I.clientY-b.current.y,V=!!k.current,O=["left","right"].includes(g.swipeDirection),D=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=O?D(0,L):0,ne=O?0:D(0,F),$=I.pointerType==="touch"?10:2,G={x:H,y:ne},J={originalEvent:I,delta:G};V?(k.current=G,Kf(j3,h,J,{discrete:!1})):rC(G,g.swipeDirection,$)?(k.current=G,Kf(C3,u,J,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(L)>$||Math.abs(F)>$)&&(b.current=null)}),onPointerUp:Q(t.onPointerUp,I=>{const L=k.current,F=I.target;if(F.hasPointerCapture(I.pointerId)&&F.releasePointerCapture(I.pointerId),k.current=null,b.current=null,L){const V=I.currentTarget,O={originalEvent:I,delta:L};rC(L,g.swipeDirection,g.swipeThreshold)?Kf(_3,p,O,{discrete:!0}):Kf(E3,f,O,{discrete:!0}),V.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),O3=t=>{const{__scopeToast:e,children:r,...n}=t,s=qf(Fd,e),[o,i]=m.useState(!1),[a,c]=m.useState(!1);return I3(()=>i(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx($d,{asChild:!0,children:l.jsx(Hf,{...n,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},P3="ToastTitle",YN=m.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(se.div,{...n,ref:e})});YN.displayName=P3;var A3="ToastDescription",JN=m.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(se.div,{...n,ref:e})});JN.displayName=A3;var QN="ToastAction",XN=m.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?l.jsx(eC,{altText:r,asChild:!0,children:l.jsx(Fy,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${QN}\`. Expected non-empty \`string\`.`),null)});XN.displayName=QN;var ZN="ToastClose",Fy=m.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=R3(ZN,r);return l.jsx(eC,{asChild:!0,children:l.jsx(se.button,{type:"button",...n,ref:e,onClick:Q(t.onClick,s.onClose)})})});Fy.displayName=ZN;var eC=m.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return l.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function tC(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),D3(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...tC(n))}}),e}function Kf(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Oy(s,o):s.dispatchEvent(o)}var rC=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function I3(t=()=>{}){const e=at(t);gt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function D3(t){return t.nodeType===t.ELEMENT_NODE}function L3(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function zy(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var $3=WN,nC=qN,sC=GN,oC=YN,iC=JN,aC=XN,lC=Fy;function cC(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=cC(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function dC(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=cC(t))&&(n&&(n+=" "),n+=e);return n}const uC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hC=dC,Nl=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return hC(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(d=>{const u=r==null?void 0:r[d],h=o==null?void 0:o[d];if(u===null)return null;const f=uC(u)||uC(h);return s[d][f]}),a=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...o,...a}[g]):{...o,...a}[g]===y})?[...d,h,f]:d},[]);return hC(t,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fC=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>m.createElement("svg",{ref:c,...z3,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:fC("lucide",s),...a},[...i.map(([d,u])=>m.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(t,e)=>{const r=m.forwardRef(({className:n,...s},o)=>m.createElement(B3,{ref:o,iconNode:e,className:fC(`lucide-${F3(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=re("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=re("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=re("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=re("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=re("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=re("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=re("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=re("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=re("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=re("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=re("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=re("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=re("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=re("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=re("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=re("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=re("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=re("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=re("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=re("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=re("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=re("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=re("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=re("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=re("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=re("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=re("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=re("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=re("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=re("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Gy="-",jL=t=>{const e=_L(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const a=i.split(Gy);return a[0]===""&&a.length!==1&&a.shift(),_C(a,e)||EL(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},_C=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?_C(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Gy);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},TC=/^\[(.+)\]$/,EL=t=>{if(TC.test(t)){const e=TC.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},_L=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return RL(Object.entries(t.classGroups),r).forEach(([o,i])=>{Yy(i,n,o,e)}),n},Yy=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:RC(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(TL(s)){Yy(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Yy(i,RC(e,o),r,n)})})},RC=(t,e)=>{let r=t;return e.split(Gy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},TL=t=>t.isThemeGetter,RL=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[r,s]}):t,ML=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},MC="!",OL=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,i=a=>{const c=[];let d=0,u=0,h;for(let y=0;y<a.length;y++){let x=a[y];if(d===0){if(x===s&&(n||a.slice(y,y+o)===e)){c.push(a.slice(u,y)),u=y+o;continue}if(x==="/"){h=y;continue}}x==="["?d++:x==="]"&&d--}const f=c.length===0?a:a.substring(u),p=f.startsWith(MC),v=p?f.substring(1):f,g=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},PL=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},AL=t=>({cache:ML(t.cacheSize),parseClassName:OL(t),...jL(t)}),IL=/\s+/,DL=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(IL);let a="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(d);let v=!!p,g=n(v?f.substring(0,p):f);if(!g){if(!v){a=d+(a.length>0?" "+a:a);continue}if(g=n(f),!g){a=d+(a.length>0?" "+a:a);continue}v=!1}const y=PL(u).join(":"),x=h?y+MC:y,w=x+g;if(o.includes(w))continue;o.push(w);const b=s(g,v);for(let k=0;k<b.length;++k){const S=b[k];o.push(x+S)}a=d+(a.length>0?" "+a:a)}return a};function LL(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=OC(e))&&(n&&(n+=" "),n+=r);return n}const OC=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=OC(t[n]))&&(r&&(r+=" "),r+=e);return r};function $L(t,...e){let r,n,s,o=i;function i(c){const d=e.reduce((u,h)=>h(u),t());return r=AL(d),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const d=n(c);if(d)return d;const u=DL(c,r);return s(c,u),u}return function(){return o(LL.apply(null,arguments))}}const Qe=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},PC=/^\[(?:([a-z-]+):)?(.+)\]$/i,FL=/^\d+\/\d+$/,zL=new Set(["px","full","screen"]),BL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ys=t=>_l(t)||zL.has(t)||FL.test(t),zo=t=>Tl(t,"length",ZL),_l=t=>!!t&&!Number.isNaN(Number(t)),Jy=t=>Tl(t,"number",_l),Hd=t=>!!t&&Number.isInteger(Number(t)),qL=t=>t.endsWith("%")&&_l(t.slice(0,-1)),je=t=>PC.test(t),Bo=t=>BL.test(t),KL=new Set(["length","size","percentage"]),GL=t=>Tl(t,KL,AC),YL=t=>Tl(t,"position",AC),JL=new Set(["image","url"]),QL=t=>Tl(t,JL,t$),XL=t=>Tl(t,"",e$),qd=()=>!0,Tl=(t,e,r)=>{const n=PC.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},ZL=t=>UL.test(t)&&!VL.test(t),AC=()=>!1,e$=t=>WL.test(t),t$=t=>HL.test(t),r$=$L(()=>{const t=Qe("colors"),e=Qe("spacing"),r=Qe("blur"),n=Qe("brightness"),s=Qe("borderColor"),o=Qe("borderRadius"),i=Qe("borderSpacing"),a=Qe("borderWidth"),c=Qe("contrast"),d=Qe("grayscale"),u=Qe("hueRotate"),h=Qe("invert"),f=Qe("gap"),p=Qe("gradientColorStops"),v=Qe("gradientColorStopPositions"),g=Qe("inset"),y=Qe("margin"),x=Qe("opacity"),w=Qe("padding"),b=Qe("saturate"),k=Qe("scale"),S=Qe("sepia"),N=Qe("skew"),C=Qe("space"),E=Qe("translate"),j=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",je,e],T=()=>[je,e],A=()=>["",Ys,zo],I=()=>["auto",_l,je],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",je],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[_l,je];return{cacheSize:500,separator:":",theme:{colors:[qd],spacing:[Ys,zo],blur:["none","",Bo,je],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Bo,je],borderSpacing:T(),borderWidth:A(),contrast:ne(),grayscale:D(),hueRotate:ne(),invert:D(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[qL,zo],inset:P(),margin:P(),opacity:ne(),padding:T(),saturate:ne(),scale:ne(),sepia:D(),skew:ne(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[Bo]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),je]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hd,je]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Hd,je]}],"grid-cols":[{"grid-cols":[qd]}],"col-start-end":[{col:["auto",{span:["full",Hd,je]},je]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[qd]}],"row-start-end":[{row:["auto",{span:[Hd,je]},je]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,e]}],"min-w":[{"min-w":[je,e,"min","max","fit"]}],"max-w":[{"max-w":[je,e,"none","full","min","max","fit","prose",{screen:[Bo]},Bo]}],h:[{h:[je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bo,zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jy]}],"font-family":[{font:[qd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",_l,Jy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ys,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ys,zo]}],"underline-offset":[{"underline-offset":["auto",Ys,je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),YL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Ys,je]}],"outline-w":[{outline:[Ys,zo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ys,zo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bo,XL]}],"shadow-color":[{shadow:[qd]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Bo,je]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Hd,je]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ys,zo,Jy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function U(...t){return r$(dC(t))}const n$=$3,IC=m.forwardRef(({className:t,...e},r)=>l.jsx(nC,{ref:r,className:U("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));IC.displayName=nC.displayName;const s$=Nl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DC=m.forwardRef(({className:t,variant:e,...r},n)=>l.jsx(sC,{ref:n,className:U(s$({variant:e}),t),...r}));DC.displayName=sC.displayName;const o$=m.forwardRef(({className:t,...e},r)=>l.jsx(aC,{ref:r,className:U("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));o$.displayName=aC.displayName;const LC=m.forwardRef(({className:t,...e},r)=>l.jsx(lC,{ref:r,className:U("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Wd,{className:"h-4 w-4"})}));LC.displayName=lC.displayName;const $C=m.forwardRef(({className:t,...e},r)=>l.jsx(oC,{ref:r,className:U("text-sm font-semibold",t),...e}));$C.displayName=oC.displayName;const FC=m.forwardRef(({className:t,...e},r)=>l.jsx(iC,{ref:r,className:U("text-sm opacity-90",t),...e}));FC.displayName=iC.displayName;function i$(){const{toasts:t}=gs();return l.jsxs(n$,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return l.jsxs(DC,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx($C,{children:r}),n&&l.jsx(FC,{children:n})]}),s,l.jsx(LC,{})]},e)}),l.jsx(IC,{})]})}var zC=["light","dark"],a$="(prefers-color-scheme: dark)",l$=m.createContext(void 0),c$={setTheme:t=>{},themes:[]},d$=()=>{var t;return(t=m.useContext(l$))!=null?t:c$};m.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let d=o==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?zC.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,g=!1,y=!0)=>{let x=i?i[v]:v,w=g?v+"|| ''":`'${x}'`,b="";return s&&y&&!g&&zC.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),r==="class"?g||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},p=t?`!function(){${u}${f(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${a$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${d?"":"else{"+f(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${h}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var u$=t=>{switch(t){case"success":return p$;case"info":return g$;case"warning":return m$;case"error":return v$;default:return null}},h$=Array(12).fill(0),f$=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},h$.map((r,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),p$=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),m$=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),g$=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),v$=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),y$=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),x$=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Qy=1,w$=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Qy++,o=this.toasts.find(a=>a.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],W.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(k$(c)&&!c.ok){s=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:d,description:u})}else if(e.success!==void 0){s=!1;let d=typeof e.success=="function"?await e.success(c):e.success,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(o=["reject",c],e.error!==void 0){s=!1;let d=typeof e.error=="function"?await e.error(c):e.error,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,d)=>i.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Qy++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Fr=new w$,b$=(t,e)=>{let r=(e==null?void 0:e.id)||Qy++;return Fr.addToast({title:t,...e,id:r}),r},k$=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",S$=b$,N$=()=>Fr.toasts,C$=()=>Fr.getActiveToasts(),Se=Object.assign(S$,{success:Fr.success,info:Fr.info,warning:Fr.warning,error:Fr.error,custom:Fr.custom,message:Fr.message,promise:Fr.promise,dismiss:Fr.dismiss,loading:Fr.loading},{getHistory:N$,getToasts:C$});function j$(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}j$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yf(t){return t.label!==void 0}var E$=3,_$="32px",T$="16px",BC=4e3,R$=356,M$=14,O$=20,P$=200;function Hn(...t){return t.filter(Boolean).join(" ")}function A$(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var I$=t=>{var e,r,n,s,o,i,a,c,d,u,h;let{invert:f,toast:p,unstyled:v,interacting:g,setHeights:y,visibleToasts:x,heights:w,index:b,toasts:k,expanded:S,removeToast:N,defaultRichColors:C,closeButton:E,style:j,cancelButtonStyle:_,actionButtonStyle:P,className:T="",descriptionClassName:A="",duration:I,position:L,gap:F,loadingIcon:V,expandByDefault:O,classNames:D,icons:H,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:$}=t,[G,J]=W.useState(null),[M,B]=W.useState(null),[z,te]=W.useState(!1),[ee,Z]=W.useState(!1),[ve,ce]=W.useState(!1),[Le,We]=W.useState(!1),[It,Dt]=W.useState(!1),[Dn,cs]=W.useState(0),[Ps,ds]=W.useState(0),As=W.useRef(p.duration||I||BC),Wa=W.useRef(null),Is=W.useRef(null),dg=b===0,Qb=b+1<=x,Kr=p.type,un=p.dismissible!==!1,Oi=p.className||"",Ha=p.descriptionClassName||"",qa=W.useMemo(()=>w.findIndex(ye=>ye.toastId===p.id)||0,[w,p.id]),Ds=W.useMemo(()=>{var ye;return(ye=p.closeButton)!=null?ye:E},[p.closeButton,E]),bh=W.useMemo(()=>p.duration||I||BC,[p.duration,I]),kh=W.useRef(0),Pi=W.useRef(0),qc=W.useRef(0),go=W.useRef(null),[Xb,ug]=L.split("-"),hg=W.useMemo(()=>w.reduce((ye,Ee,Me)=>Me>=qa?ye:ye+Ee.height,0),[w,qa]),fg=x$(),Zb=p.invert||f,jt=Kr==="loading";Pi.current=W.useMemo(()=>qa*F+hg,[qa,hg]),W.useEffect(()=>{As.current=bh},[bh]),W.useEffect(()=>{te(!0)},[]),W.useEffect(()=>{let ye=Is.current;if(ye){let Ee=ye.getBoundingClientRect().height;return ds(Ee),y(Me=>[{toastId:p.id,height:Ee,position:p.position},...Me]),()=>y(Me=>Me.filter(ft=>ft.toastId!==p.id))}},[y,p.id]),W.useLayoutEffect(()=>{if(!z)return;let ye=Is.current,Ee=ye.style.height;ye.style.height="auto";let Me=ye.getBoundingClientRect().height;ye.style.height=Ee,ds(Me),y(ft=>ft.find(Gt=>Gt.toastId===p.id)?ft.map(Gt=>Gt.toastId===p.id?{...Gt,height:Me}:Gt):[{toastId:p.id,height:Me,position:p.position},...ft])},[z,p.title,p.description,y,p.id]);let ht=W.useCallback(()=>{Z(!0),cs(Pi.current),y(ye=>ye.filter(Ee=>Ee.toastId!==p.id)),setTimeout(()=>{N(p)},P$)},[p,N,y,Pi]);W.useEffect(()=>{if(p.promise&&Kr==="loading"||p.duration===1/0||p.type==="loading")return;let ye;return S||g||$&&fg?(()=>{if(qc.current<kh.current){let Ee=new Date().getTime()-kh.current;As.current=As.current-Ee}qc.current=new Date().getTime()})():As.current!==1/0&&(kh.current=new Date().getTime(),ye=setTimeout(()=>{var Ee;(Ee=p.onAutoClose)==null||Ee.call(p,p),ht()},As.current)),()=>clearTimeout(ye)},[S,g,p,Kr,$,fg,ht]),W.useEffect(()=>{p.delete&&ht()},[ht,p.delete]);function Or(){var ye,Ee,Me;return H!=null&&H.loading?W.createElement("div",{className:Hn(D==null?void 0:D.loader,(ye=p==null?void 0:p.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":Kr==="loading"},H.loading):V?W.createElement("div",{className:Hn(D==null?void 0:D.loader,(Ee=p==null?void 0:p.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Kr==="loading"},V):W.createElement(f$,{className:Hn(D==null?void 0:D.loader,(Me=p==null?void 0:p.classNames)==null?void 0:Me.loader),visible:Kr==="loading"})}return W.createElement("li",{tabIndex:0,ref:Is,className:Hn(T,Oi,D==null?void 0:D.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[Kr],(r=p==null?void 0:p.classNames)==null?void 0:r[Kr]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:C,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":z,"data-promise":!!p.promise,"data-swiped":It,"data-removed":ee,"data-visible":Qb,"data-y-position":Xb,"data-x-position":ug,"data-index":b,"data-front":dg,"data-swiping":ve,"data-dismissible":un,"data-type":Kr,"data-invert":Zb,"data-swipe-out":Le,"data-swipe-direction":M,"data-expanded":!!(S||O&&z),style:{"--index":b,"--toasts-before":b,"--z-index":k.length-b,"--offset":`${ee?Dn:Pi.current}px`,"--initial-height":O?"auto":`${Ps}px`,...j,...p.style},onDragEnd:()=>{ce(!1),J(null),go.current=null},onPointerDown:ye=>{jt||!un||(Wa.current=new Date,cs(Pi.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(ce(!0),go.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Ee,Me,ft;if(Le||!un)return;go.current=null;let Gt=Number(((ye=Is.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ge=Number(((Ee=Is.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yr=new Date().getTime()-((Me=Wa.current)==null?void 0:Me.getTime()),pt=G==="x"?Gt:Ge,Yt=Math.abs(pt)/yr;if(Math.abs(pt)>=O$||Yt>.11){cs(Pi.current),(ft=p.onDismiss)==null||ft.call(p,p),B(G==="x"?Gt>0?"right":"left":Ge>0?"down":"up"),ht(),We(!0),Dt(!1);return}ce(!1),J(null)},onPointerMove:ye=>{var Ee,Me,ft,Gt;if(!go.current||!un||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Ge=ye.clientY-go.current.y,yr=ye.clientX-go.current.x,pt=(Me=t.swipeDirections)!=null?Me:A$(L);!G&&(Math.abs(yr)>1||Math.abs(Ge)>1)&&J(Math.abs(yr)>Math.abs(Ge)?"x":"y");let Yt={x:0,y:0};G==="y"?(pt.includes("top")||pt.includes("bottom"))&&(pt.includes("top")&&Ge<0||pt.includes("bottom")&&Ge>0)&&(Yt.y=Ge):G==="x"&&(pt.includes("left")||pt.includes("right"))&&(pt.includes("left")&&yr<0||pt.includes("right")&&yr>0)&&(Yt.x=yr),(Math.abs(Yt.x)>0||Math.abs(Yt.y)>0)&&Dt(!0),(ft=Is.current)==null||ft.style.setProperty("--swipe-amount-x",`${Yt.x}px`),(Gt=Is.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Yt.y}px`)}},Ds&&!p.jsx?W.createElement("button",{"aria-label":ne,"data-disabled":jt,"data-close-button":!0,onClick:jt||!un?()=>{}:()=>{var ye;ht(),(ye=p.onDismiss)==null||ye.call(p,p)},className:Hn(D==null?void 0:D.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=H==null?void 0:H.close)!=null?o:y$):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,Kr||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:Hn(D==null?void 0:D.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Or():null,p.type!=="loading"?p.icon||(H==null?void 0:H[Kr])||u$(Kr):null):null,W.createElement("div",{"data-content":"",className:Hn(D==null?void 0:D.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Hn(D==null?void 0:D.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:Hn(A,Ha,D==null?void 0:D.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&Yf(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||_,onClick:ye=>{var Ee,Me;Yf(p.cancel)&&un&&((Me=(Ee=p.cancel).onClick)==null||Me.call(Ee,ye),ht())},className:Hn(D==null?void 0:D.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&Yf(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:ye=>{var Ee,Me;Yf(p.action)&&((Me=(Ee=p.action).onClick)==null||Me.call(Ee,ye),!ye.defaultPrevented&&ht())},className:Hn(D==null?void 0:D.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function UC(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function D$(t,e){let r={};return[t,e].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?T$:_$;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${i}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${i}-${d}`]=a:r[`${i}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(a)}),r}var L$=m.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:f,style:p,visibleToasts:v=E$,toastOptions:g,dir:y=UC(),gap:x=M$,loadingIcon:w,icons:b,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:S}=t,[N,C]=W.useState([]),E=W.useMemo(()=>Array.from(new Set([n].concat(N.filter($=>$.position).map($=>$.position)))),[N,n]),[j,_]=W.useState([]),[P,T]=W.useState(!1),[A,I]=W.useState(!1),[L,F]=W.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=W.useRef(null),O=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=W.useRef(null),H=W.useRef(!1),ne=W.useCallback($=>{C(G=>{var J;return(J=G.find(M=>M.id===$.id))!=null&&J.delete||Fr.dismiss($.id),G.filter(({id:M})=>M!==$.id)})},[]);return W.useEffect(()=>Fr.subscribe($=>{if($.dismiss){C(G=>G.map(J=>J.id===$.id?{...J,delete:!0}:J));return}setTimeout(()=>{Ty.flushSync(()=>{C(G=>{let J=G.findIndex(M=>M.id===$.id);return J!==-1?[...G.slice(0,J),{...G[J],...$},...G.slice(J+1)]:[$,...G]})})})}),[]),W.useEffect(()=>{if(u!=="system"){F(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:G})=>{F(G?"dark":"light")})}catch{$.addListener(({matches:J})=>{try{F(J?"dark":"light")}catch(M){console.error(M)}})}},[u]),W.useEffect(()=>{N.length<=1&&T(!1)},[N]),W.useEffect(()=>{let $=G=>{var J,M;s.every(B=>G[B]||G.code===B)&&(T(!0),(J=V.current)==null||J.focus()),G.code==="Escape"&&(document.activeElement===V.current||(M=V.current)!=null&&M.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),W.useEffect(()=>{if(V.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,H.current=!1)}},[V.current]),W.createElement("section",{ref:e,"aria-label":`${k} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map(($,G)=>{var J;let[M,B]=$.split("-");return N.length?W.createElement("ol",{key:$,dir:y==="auto"?UC():y,tabIndex:-1,ref:V,className:a,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":M,"data-lifted":P&&N.length>1&&!o,"data-x-position":B,style:{"--front-toast-height":`${((J=j[0])==null?void 0:J.height)||0}px`,"--width":`${R$}px`,"--gap":`${x}px`,...p,...D$(c,d)},onBlur:z=>{H.current&&!z.currentTarget.contains(z.relatedTarget)&&(H.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||H.current||(H.current=!0,D.current=z.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{A||T(!1)},onDragEnd:()=>T(!1),onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},N.filter(z=>!z.position&&G===0||z.position===$).map((z,te)=>{var ee,Z;return W.createElement(I$,{key:z.id,icons:b,index:te,toast:z,defaultRichColors:h,duration:(ee=g==null?void 0:g.duration)!=null?ee:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(Z=g==null?void 0:g.closeButton)!=null?Z:i,interacting:A,position:$,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ne,toasts:N.filter(ve=>ve.position==z.position),heights:j.filter(ve=>ve.position==z.position),setHeights:_,expandByDefault:o,gap:x,loadingIcon:w,expanded:P,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const $$=({...t})=>{const{theme:e="system"}=d$();return l.jsx(L$,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var F$=bg[" useId ".trim().toString()]||(()=>{}),z$=0;function hr(t){const[e,r]=m.useState(F$());return gt(()=>{r(n=>n??String(z$++))},[t]),e?`radix-${e}`:""}const B$=["top","right","bottom","left"],Uo=Math.min,en=Math.max,Jf=Math.round,Qf=Math.floor,vs=t=>({x:t,y:t}),U$={left:"right",right:"left",bottom:"top",top:"bottom"},V$={start:"end",end:"start"};function Xy(t,e,r){return en(t,Uo(e,r))}function Js(t,e){return typeof t=="function"?t(e):t}function Qs(t){return t.split("-")[0]}function Rl(t){return t.split("-")[1]}function Zy(t){return t==="x"?"y":"x"}function ex(t){return t==="y"?"height":"width"}const W$=new Set(["top","bottom"]);function ys(t){return W$.has(Qs(t))?"y":"x"}function tx(t){return Zy(ys(t))}function H$(t,e,r){r===void 0&&(r=!1);const n=Rl(t),s=tx(t),o=ex(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Xf(i)),[i,Xf(i)]}function q$(t){const e=Xf(t);return[rx(t),e,rx(e)]}function rx(t){return t.replace(/start|end/g,e=>V$[e])}const VC=["left","right"],WC=["right","left"],K$=["top","bottom"],G$=["bottom","top"];function Y$(t,e,r){switch(t){case"top":case"bottom":return r?e?WC:VC:e?VC:WC;case"left":case"right":return e?K$:G$;default:return[]}}function J$(t,e,r,n){const s=Rl(t);let o=Y$(Qs(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(rx)))),o}function Xf(t){return t.replace(/left|right|bottom|top/g,e=>U$[e])}function Q$(t){return{top:0,right:0,bottom:0,left:0,...t}}function HC(t){return typeof t!="number"?Q$(t):{top:t,right:t,bottom:t,left:t}}function Zf(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function qC(t,e,r){let{reference:n,floating:s}=t;const o=ys(e),i=tx(e),a=ex(i),c=Qs(e),d=o==="y",u=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[a]/2-s[a]/2;let p;switch(c){case"top":p={x:u,y:n.y-s.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Rl(e)){case"start":p[i]-=f*(r&&d?-1:1);break;case"end":p[i]+=f*(r&&d?-1:1);break}return p}const X$=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let d=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=qC(d,n,c),f=n,p={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:x}=a[g],{x:w,y:b,data:k,reset:S}=await x({x:u,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:d,platform:i,elements:{reference:t,floating:e}});u=w??u,h=b??h,p={...p,[y]:{...p[y],...k}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(d=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:u,y:h}=qC(d,f,c)),g=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:p}};async function Kd(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Js(e,t),v=HC(p),y=a[f?h==="floating"?"reference":"floating":h],x=Zf(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:u,strategy:c})),w=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),k=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Zf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:c}):w);return{top:(x.top-S.top+v.top)/k.y,bottom:(S.bottom-x.bottom+v.bottom)/k.y,left:(x.left-S.left+v.left)/k.x,right:(S.right-x.right+v.right)/k.x}}const Z$=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=e,{element:d,padding:u=0}=Js(t,e)||{};if(d==null)return{};const h=HC(u),f={x:r,y:n},p=tx(s),v=ex(p),g=await i.getDimensions(d),y=p==="y",x=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",k=o.reference[v]+o.reference[p]-f[p]-o.floating[v],S=f[p]-o.reference[p],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let C=N?N[b]:0;(!C||!await(i.isElement==null?void 0:i.isElement(N)))&&(C=a.floating[b]||o.floating[v]);const E=k/2-S/2,j=C/2-g[v]/2-1,_=Uo(h[x],j),P=Uo(h[w],j),T=_,A=C-g[v]-P,I=C/2-g[v]/2+E,L=Xy(T,I,A),F=!c.arrow&&Rl(s)!=null&&I!==L&&o.reference[v]/2-(I<T?_:P)-g[v]/2<0,V=F?I<T?I-T:I-A:0;return{[p]:f[p]+V,data:{[p]:L,centerOffset:I-L-V,...F&&{alignmentOffset:V}},reset:F}}}),eF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=Js(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const x=Qs(s),w=ys(a),b=Qs(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=f||(b||!g?[Xf(a)]:q$(a)),N=v!=="none";!f&&N&&S.push(...J$(a,g,v,k));const C=[a,...S],E=await Kd(e,y),j=[];let _=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&j.push(E[x]),h){const I=H$(s,i,k);j.push(E[I[0]],E[I[1]])}if(_=[..._,{placement:s,overflows:j}],!j.every(I=>I<=0)){var P,T;const I=(((P=o.flip)==null?void 0:P.index)||0)+1,L=C[I];if(L&&(!(h==="alignment"?w!==ys(L):!1)||_.every(O=>O.overflows[0]>0&&ys(O.placement)===w)))return{data:{index:I,overflows:_},reset:{placement:L}};let F=(T=_.filter(V=>V.overflows[0]<=0).sort((V,O)=>V.overflows[1]-O.overflows[1])[0])==null?void 0:T.placement;if(!F)switch(p){case"bestFit":{var A;const V=(A=_.filter(O=>{if(N){const D=ys(O.placement);return D===w||D==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort((O,D)=>O[1]-D[1])[0])==null?void 0:A[0];V&&(F=V);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function KC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function GC(t){return B$.some(e=>t[e]>=0)}const tF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Js(t,e);switch(n){case"referenceHidden":{const o=await Kd(e,{...s,elementContext:"reference"}),i=KC(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:GC(i)}}}case"escaped":{const o=await Kd(e,{...s,altBoundary:!0}),i=KC(o,r.floating);return{data:{escapedOffsets:i,escaped:GC(i)}}}default:return{}}}}},YC=new Set(["left","top"]);async function rF(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Qs(r),a=Rl(r),c=ys(r)==="y",d=YC.has(i)?-1:1,u=o&&c?-1:1,h=Js(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),c?{x:p*u,y:f*d}:{x:f*d,y:p*u}}const nF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=e,c=await rF(e,t);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},sF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:y=>{let{x,y:w}=y;return{x,y:w}}},...c}=Js(t,e),d={x:r,y:n},u=await Kd(e,c),h=ys(Qs(s)),f=Zy(h);let p=d[f],v=d[h];if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=p+u[y],b=p-u[x];p=Xy(w,p,b)}if(i){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=v+u[y],b=v-u[x];v=Xy(w,v,b)}const g=a.fn({...e,[f]:p,[h]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:o,[h]:i}}}}}},oF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=Js(t,e),u={x:r,y:n},h=ys(s),f=Zy(h);let p=u[f],v=u[h];const g=Js(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=f==="y"?"height":"width",k=o.reference[f]-o.floating[b]+y.mainAxis,S=o.reference[f]+o.reference[b]-y.mainAxis;p<k?p=k:p>S&&(p=S)}if(d){var x,w;const b=f==="y"?"width":"height",k=YC.has(Qs(s)),S=o.reference[h]-o.floating[b]+(k&&((x=i.offset)==null?void 0:x[h])||0)+(k?0:y.crossAxis),N=o.reference[h]+o.reference[b]+(k?0:((w=i.offset)==null?void 0:w[h])||0)-(k?y.crossAxis:0);v<S?v=S:v>N&&(v=N)}return{[f]:p,[h]:v}}}},iF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:c=()=>{},...d}=Js(t,e),u=await Kd(e,d),h=Qs(s),f=Rl(s),p=ys(s)==="y",{width:v,height:g}=o.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=f===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,y=f==="end"?"top":"bottom");const w=g-u.top-u.bottom,b=v-u.left-u.right,k=Uo(g-u[y],w),S=Uo(v-u[x],b),N=!e.middlewareData.shift;let C=k,E=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=w),N&&!f){const _=en(u.left,0),P=en(u.right,0),T=en(u.top,0),A=en(u.bottom,0);p?E=v-2*(_!==0||P!==0?_+P:en(u.left,u.right)):C=g-2*(T!==0||A!==0?T+A:en(u.top,u.bottom))}await c({...e,availableWidth:E,availableHeight:C});const j=await i.getDimensions(a.floating);return v!==j.width||g!==j.height?{reset:{rects:!0}}:{}}}};function ep(){return typeof window<"u"}function Ml(t){return JC(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xs(t){var e;return(e=(JC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function JC(t){return ep()?t instanceof Node||t instanceof tn(t).Node:!1}function qn(t){return ep()?t instanceof Element||t instanceof tn(t).Element:!1}function ws(t){return ep()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function QC(t){return!ep()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}const aF=new Set(["inline","contents"]);function Gd(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!aF.has(s)}const lF=new Set(["table","td","th"]);function cF(t){return lF.has(Ml(t))}const dF=[":popover-open",":modal"];function tp(t){return dF.some(e=>{try{return t.matches(e)}catch{return!1}})}const uF=["transform","translate","scale","rotate","perspective"],hF=["transform","translate","scale","rotate","perspective","filter"],fF=["paint","layout","strict","content"];function nx(t){const e=sx(),r=qn(t)?Kn(t):t;return uF.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||hF.some(n=>(r.willChange||"").includes(n))||fF.some(n=>(r.contain||"").includes(n))}function pF(t){let e=Vo(t);for(;ws(e)&&!Ol(e);){if(nx(e))return e;if(tp(e))return null;e=Vo(e)}return null}function sx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mF=new Set(["html","body","#document"]);function Ol(t){return mF.has(Ml(t))}function Kn(t){return tn(t).getComputedStyle(t)}function rp(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vo(t){if(Ml(t)==="html")return t;const e=t.assignedSlot||t.parentNode||QC(t)&&t.host||xs(t);return QC(e)?e.host:e}function XC(t){const e=Vo(t);return Ol(e)?t.ownerDocument?t.ownerDocument.body:t.body:ws(e)&&Gd(e)?e:XC(e)}function Yd(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=XC(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=tn(s);if(o){const a=ox(i);return e.concat(i,i.visualViewport||[],Gd(s)?s:[],a&&r?Yd(a):[])}return e.concat(s,Yd(s,[],r))}function ox(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZC(t){const e=Kn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=ws(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,a=Jf(r)!==o||Jf(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function ix(t){return qn(t)?t:t.contextElement}function Pl(t){const e=ix(t);if(!ws(e))return vs(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=ZC(e);let i=(o?Jf(r.width):r.width)/n,a=(o?Jf(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const gF=vs(0);function ej(t){const e=tn(t);return!sx()||!e.visualViewport?gF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vF(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==tn(t)?!1:e}function Zi(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=ix(t);let i=vs(1);e&&(n?qn(n)&&(i=Pl(n)):i=Pl(t));const a=vF(o,r,n)?ej(o):vs(0);let c=(s.left+a.x)/i.x,d=(s.top+a.y)/i.y,u=s.width/i.x,h=s.height/i.y;if(o){const f=tn(o),p=n&&qn(n)?tn(n):n;let v=f,g=ox(v);for(;g&&n&&p!==v;){const y=Pl(g),x=g.getBoundingClientRect(),w=Kn(g),b=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,k=x.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,h*=y.y,c+=b,d+=k,v=tn(g),g=ox(v)}}return Zf({width:u,height:h,x:c,y:d})}function ax(t,e){const r=rp(t).scrollLeft;return e?e.left+r:Zi(xs(t)).left+r}function tj(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:ax(t,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function yF(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=xs(n),a=e?tp(e.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},d=vs(1);const u=vs(0),h=ws(n);if((h||!h&&!o)&&((Ml(n)!=="body"||Gd(i))&&(c=rp(n)),ws(n))){const p=Zi(n);d=Pl(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=i&&!h&&!o?tj(i,c,!0):vs(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function xF(t){return Array.from(t.getClientRects())}function wF(t){const e=xs(t),r=rp(t),n=t.ownerDocument.body,s=en(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=en(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+ax(t);const a=-r.scrollTop;return Kn(n).direction==="rtl"&&(i+=en(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function bF(t,e){const r=tn(t),n=xs(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const d=sx();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}const kF=new Set(["absolute","fixed"]);function SF(t,e){const r=Zi(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=ws(t)?Pl(t):vs(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,c=s*o.x,d=n*o.y;return{width:i,height:a,x:c,y:d}}function rj(t,e,r){let n;if(e==="viewport")n=bF(t,r);else if(e==="document")n=wF(xs(t));else if(qn(e))n=SF(e,r);else{const s=ej(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Zf(n)}function nj(t,e){const r=Vo(t);return r===e||!qn(r)||Ol(r)?!1:Kn(r).position==="fixed"||nj(r,e)}function NF(t,e){const r=e.get(t);if(r)return r;let n=Yd(t,[],!1).filter(a=>qn(a)&&Ml(a)!=="body"),s=null;const o=Kn(t).position==="fixed";let i=o?Vo(t):t;for(;qn(i)&&!Ol(i);){const a=Kn(i),c=nx(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&kF.has(s.position)||Gd(i)&&!c&&nj(t,i))?n=n.filter(u=>u!==i):s=a,i=Vo(i)}return e.set(t,n),n}function CF(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?tp(e)?[]:NF(e,this._c):[].concat(r),n],a=i[0],c=i.reduce((d,u)=>{const h=rj(e,u,s);return d.top=en(h.top,d.top),d.right=Uo(h.right,d.right),d.bottom=Uo(h.bottom,d.bottom),d.left=en(h.left,d.left),d},rj(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function jF(t){const{width:e,height:r}=ZC(t);return{width:e,height:r}}function EF(t,e,r){const n=ws(e),s=xs(e),o=r==="fixed",i=Zi(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=vs(0);function d(){c.x=ax(s)}if(n||!n&&!o)if((Ml(e)!=="body"||Gd(s))&&(a=rp(e)),n){const p=Zi(e,!0,o,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&d();o&&!n&&s&&d();const u=s&&!n&&!o?tj(s,a):vs(0),h=i.left+a.scrollLeft-c.x-u.x,f=i.top+a.scrollTop-c.y-u.y;return{x:h,y:f,width:i.width,height:i.height}}function lx(t){return Kn(t).position==="static"}function sj(t,e){if(!ws(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return xs(t)===r&&(r=r.ownerDocument.body),r}function oj(t,e){const r=tn(t);if(tp(t))return r;if(!ws(t)){let s=Vo(t);for(;s&&!Ol(s);){if(qn(s)&&!lx(s))return s;s=Vo(s)}return r}let n=sj(t,e);for(;n&&cF(n)&&lx(n);)n=sj(n,e);return n&&Ol(n)&&lx(n)&&!nx(n)?r:n||pF(t)||r}const _F=async function(t){const e=this.getOffsetParent||oj,r=this.getDimensions,n=await r(t.floating);return{reference:EF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function TF(t){return Kn(t).direction==="rtl"}const RF={convertOffsetParentRelativeRectToViewportRelativeRect:yF,getDocumentElement:xs,getClippingRect:CF,getOffsetParent:oj,getElementRects:_F,getClientRects:xF,getDimensions:jF,getScale:Pl,isElement:qn,isRTL:TF};function ij(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function MF(t,e){let r=null,n;const s=xs(t);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const d=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=d;if(a||e(),!f||!p)return;const v=Qf(h),g=Qf(s.clientWidth-(u+f)),y=Qf(s.clientHeight-(h+p)),x=Qf(u),b={rootMargin:-v+"px "+-g+"px "+-y+"px "+-x+"px",threshold:en(0,Uo(1,c))||1};let k=!0;function S(N){const C=N[0].intersectionRatio;if(C!==c){if(!k)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!ij(d,t.getBoundingClientRect())&&i(),k=!1}try{r=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(t)}return i(!0),o}function OF(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=ix(t),u=s||o?[...d?Yd(d):[],...Yd(e)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),o&&x.addEventListener("resize",r)});const h=d&&a?MF(d,r):null;let f=-1,p=null;i&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===d&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),r()}),d&&!c&&p.observe(d),p.observe(e));let v,g=c?Zi(t):null;c&&y();function y(){const x=Zi(t);g&&!ij(g,x)&&r(),g=x,v=requestAnimationFrame(y)}return r(),()=>{var x;u.forEach(w=>{s&&w.removeEventListener("scroll",r),o&&w.removeEventListener("resize",r)}),h==null||h(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const PF=nF,AF=sF,IF=eF,DF=iF,LF=tF,aj=Z$,$F=oF,FF=(t,e,r)=>{const n=new Map,s={platform:RF,...r},o={...s.platform,_c:n};return X$(t,e,{...s,platform:o})};var zF=typeof document<"u",BF=function(){},np=zF?m.useLayoutEffect:BF;function sp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!sp(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!sp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function lj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cj(t,e){const r=lj(t);return Math.round(e*r)/r}function cx(t){const e=m.useRef(t);return np(()=>{e.current=t}),e}function UF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[u,h]=m.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(n);sp(f,n)||p(n);const[v,g]=m.useState(null),[y,x]=m.useState(null),w=m.useCallback(O=>{O!==N.current&&(N.current=O,g(O))},[]),b=m.useCallback(O=>{O!==C.current&&(C.current=O,x(O))},[]),k=o||v,S=i||y,N=m.useRef(null),C=m.useRef(null),E=m.useRef(u),j=c!=null,_=cx(c),P=cx(s),T=cx(d),A=m.useCallback(()=>{if(!N.current||!C.current)return;const O={placement:e,strategy:r,middleware:f};P.current&&(O.platform=P.current),FF(N.current,C.current,O).then(D=>{const H={...D,isPositioned:T.current!==!1};I.current&&!sp(E.current,H)&&(E.current=H,yn.flushSync(()=>{h(H)}))})},[f,e,r,P,T]);np(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[d]);const I=m.useRef(!1);np(()=>(I.current=!0,()=>{I.current=!1}),[]),np(()=>{if(k&&(N.current=k),S&&(C.current=S),k&&S){if(_.current)return _.current(k,S,A);A()}},[k,S,A,_,j]);const L=m.useMemo(()=>({reference:N,floating:C,setReference:w,setFloating:b}),[w,b]),F=m.useMemo(()=>({reference:k,floating:S}),[k,S]),V=m.useMemo(()=>{const O={position:r,left:0,top:0};if(!F.floating)return O;const D=cj(F.floating,u.x),H=cj(F.floating,u.y);return a?{...O,transform:"translate("+D+"px, "+H+"px)",...lj(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:H}},[r,a,F.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:A,refs:L,elements:F,floatingStyles:V}),[u,A,L,F,V])}const VF=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?aj({element:n.current,padding:s}).fn(r):{}:n?aj({element:n,padding:s}).fn(r):{}}}},WF=(t,e)=>({...PF(t),options:[t,e]}),HF=(t,e)=>({...AF(t),options:[t,e]}),qF=(t,e)=>({...$F(t),options:[t,e]}),KF=(t,e)=>({...IF(t),options:[t,e]}),GF=(t,e)=>({...DF(t),options:[t,e]}),YF=(t,e)=>({...LF(t),options:[t,e]}),JF=(t,e)=>({...VF(t),options:[t,e]});var QF="Arrow",dj=m.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return l.jsx(se.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});dj.displayName=QF;var XF=dj;function Jd(t){const[e,r]=m.useState(void 0);return gt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,a=d.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var dx="Popper",[uj,Al]=Ft(dx),[ZF,hj]=uj(dx),fj=t=>{const{__scopePopper:e,children:r}=t,[n,s]=m.useState(null);return l.jsx(ZF,{scope:e,anchor:n,onAnchorChange:s,children:r})};fj.displayName=dx;var pj="PopperAnchor",mj=m.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=hj(pj,r),i=m.useRef(null),a=we(e,i);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(se.div,{...s,ref:a})});mj.displayName=pj;var ux="PopperContent",[ez,tz]=uj(ux),gj=m.forwardRef((t,e)=>{var z,te,ee,Z,ve,ce;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=t,y=hj(ux,r),[x,w]=m.useState(null),b=we(e,Le=>w(Le)),[k,S]=m.useState(null),N=Jd(k),C=(N==null?void 0:N.width)??0,E=(N==null?void 0:N.height)??0,j=n+(o!=="center"?"-"+o:""),_=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(d)?d:[d],T=P.length>0,A={padding:_,boundary:P.filter(nz),altBoundary:T},{refs:I,floatingStyles:L,placement:F,isPositioned:V,middlewareData:O}=UF({strategy:"fixed",placement:j,whileElementsMounted:(...Le)=>OF(...Le,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[WF({mainAxis:s+E,alignmentAxis:i}),c&&HF({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?qF():void 0,...A}),c&&KF({...A}),GF({...A,apply:({elements:Le,rects:We,availableWidth:It,availableHeight:Dt})=>{const{width:Dn,height:cs}=We.reference,Ps=Le.floating.style;Ps.setProperty("--radix-popper-available-width",`${It}px`),Ps.setProperty("--radix-popper-available-height",`${Dt}px`),Ps.setProperty("--radix-popper-anchor-width",`${Dn}px`),Ps.setProperty("--radix-popper-anchor-height",`${cs}px`)}}),k&&JF({element:k,padding:a}),sz({arrowWidth:C,arrowHeight:E}),f&&YF({strategy:"referenceHidden",...A})]}),[D,H]=xj(F),ne=at(v);gt(()=>{V&&(ne==null||ne())},[V,ne]);const $=(z=O.arrow)==null?void 0:z.x,G=(te=O.arrow)==null?void 0:te.y,J=((ee=O.arrow)==null?void 0:ee.centerOffset)!==0,[M,B]=m.useState();return gt(()=>{x&&B(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:V?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:M,"--radix-popper-transform-origin":[(Z=O.transformOrigin)==null?void 0:Z.x,(ve=O.transformOrigin)==null?void 0:ve.y].join(" "),...((ce=O.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(ez,{scope:r,placedSide:D,onArrowChange:S,arrowX:$,arrowY:G,shouldHideArrow:J,children:l.jsx(se.div,{"data-side":D,"data-align":H,...g,ref:b,style:{...g.style,animation:V?void 0:"none"}})})})});gj.displayName=ux;var vj="PopperArrow",rz={top:"bottom",right:"left",bottom:"top",left:"right"},yj=m.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=tz(vj,n),i=rz[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(XF,{...s,ref:r,style:{...s.style,display:"block"}})})});yj.displayName=vj;function nz(t){return t!==null}var sz=t=>({name:"transformOrigin",options:t,fn(e){var y,x,w;const{placement:r,rects:n,middlewareData:s}=e,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[d,u]=xj(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",g="";return d==="bottom"?(v=i?h:`${f}px`,g=`${-c}px`):d==="top"?(v=i?h:`${f}px`,g=`${n.floating.height+c}px`):d==="right"?(v=`${-c}px`,g=i?h:`${p}px`):d==="left"&&(v=`${n.floating.width+c}px`,g=i?h:`${p}px`),{data:{x:v,y:g}}}});function xj(t){const[e,r="center"]=t.split("-");return[e,r]}var wj=fj,hx=mj,fx=gj,px=yj,[op]=Ft("Tooltip",[Al]),mx=Al(),bj="TooltipProvider",oz=700,kj="tooltip.open",[iz,Sj]=op(bj),Nj=t=>{const{__scopeTooltip:e,delayDuration:r=oz,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,i=m.useRef(!0),a=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),l.jsx(iz,{scope:e,isOpenDelayedRef:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:o})};Nj.displayName=bj;var Cj="Tooltip",[bre,ip]=op(Cj),gx="TooltipTrigger",az=m.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=ip(gx,r),o=Sj(gx,r),i=mx(r),a=m.useRef(null),c=we(e,a,s.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(hx,{asChild:!0,...i,children:l.jsx(se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Q(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Q(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Q(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Q(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Q(t.onBlur,s.onClose),onClick:Q(t.onClick,s.onClose)})})});az.displayName=gx;var lz="TooltipPortal",[kre,cz]=op(lz,{forceMount:void 0}),Il="TooltipContent",jj=m.forwardRef((t,e)=>{const r=cz(Il,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,i=ip(Il,t.__scopeTooltip);return l.jsx(er,{present:n||i.open,children:i.disableHoverableContent?l.jsx(Ej,{side:s,...o,ref:e}):l.jsx(dz,{side:s,...o,ref:e})})}),dz=m.forwardRef((t,e)=>{const r=ip(Il,t.__scopeTooltip),n=Sj(Il,t.__scopeTooltip),s=m.useRef(null),o=we(e,s),[i,a]=m.useState(null),{trigger:c,onClose:d}=r,u=s.current,{onPointerInTransitChange:h}=n,f=m.useCallback(()=>{a(null),h(!1)},[h]),p=m.useCallback((v,g)=>{const y=v.currentTarget,x={x:v.clientX,y:v.clientY},w=mz(x,y.getBoundingClientRect()),b=gz(x,w),k=vz(g.getBoundingClientRect()),S=xz([...b,...k]);a(S),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&u){const v=y=>p(y,u),g=y=>p(y,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[c,u,p,f]),m.useEffect(()=>{if(i){const v=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),b=!yz(x,i);w?f():b&&(f(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,i,d,f]),l.jsx(Ej,{...t,ref:o})}),[uz,hz]=op(Cj,{isInside:!1}),fz=X4("TooltipContent"),Ej=m.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,c=ip(Il,r),d=mx(r),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(kj,u),()=>document.removeEventListener(kj,u)),[u]),m.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),l.jsx(Sl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:l.jsxs(fx,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(fz,{children:n}),l.jsx(uz,{scope:r,isInside:!0,children:l.jsx(w3,{id:c.contentId,role:"tooltip",children:s||n})})]})})});jj.displayName=Il;var _j="TooltipArrow",pz=m.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=mx(r);return hz(_j,r).isInside?null:l.jsx(px,{...s,...n,ref:e})});pz.displayName=_j;function mz(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gz(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function vz(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function yz(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],c=e[i],d=a.x,u=a.y,h=c.x,f=c.y;u>n!=f>n&&r<(h-d)*(n-u)/(f-u)+d&&(s=!s)}return s}function xz(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),wz(e)}function wz(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var bz=Nj,Tj=jj;const kz=bz,Sz=m.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(Tj,{ref:n,sideOffset:e,className:U("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Sz.displayName=Tj.displayName;var Dl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ea=typeof window>"u"||"Deno"in globalThis;function Cr(){}function Nz(t,e){return typeof t=="function"?t(e):t}function vx(t){return typeof t=="number"&&t>=0&&t!==1/0}function Rj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wo(t,e){return typeof t=="function"?t(e):t}function xn(t,e){return typeof t=="function"?t(e):t}function Mj(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(n){if(e.queryHash!==yx(i,e.options))return!1}else if(!Qd(e.queryKey,i))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function Oj(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(ta(e.options.mutationKey)!==ta(o))return!1}else if(!Qd(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function yx(t,e){return((e==null?void 0:e.queryKeyHashFn)||ta)(t)}function ta(t){return JSON.stringify(t,(e,r)=>xx(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Qd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Qd(t[r],e[r])):!1}function Pj(t,e){if(t===e)return t;const r=Aj(t)&&Aj(e);if(r||xx(t)&&xx(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),i=o.length,a=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<i;u++){const h=r?u:o[u];(!r&&c.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,d++):(a[h]=Pj(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&d++)}return s===i&&d===s?t:a}return e}function ap(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Aj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xx(t){if(!Ij(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Ij(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ij(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cz(t){return new Promise(e=>{setTimeout(e,t)})}function wx(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Pj(t,e):e}function jz(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Ez(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var bx=Symbol();function Dj(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===bx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Lj(t,e){return typeof t=="function"?t(...e):!!t}var _z=(nD=class extends Dl{constructor(){super();ge(this,Ia);ge(this,ki);ge(this,Ac);ie(this,Ac,e=>{if(!ea&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,ki)||this.setEventListener(R(this,Ac))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,ki))==null||e.call(this),ie(this,ki,void 0))}setEventListener(e){var r;ie(this,Ac,e),(r=R(this,ki))==null||r.call(this),ie(this,ki,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,Ia)!==e&&(ie(this,Ia,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,Ia)=="boolean"?R(this,Ia):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ia=new WeakMap,ki=new WeakMap,Ac=new WeakMap,nD),kx=new _z,Tz=(sD=class extends Dl{constructor(){super();ge(this,Ic,!0);ge(this,Si);ge(this,Dc);ie(this,Dc,e=>{if(!ea&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Si)||this.setEventListener(R(this,Dc))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Si))==null||e.call(this),ie(this,Si,void 0))}setEventListener(e){var r;ie(this,Dc,e),(r=R(this,Si))==null||r.call(this),ie(this,Si,e(this.setOnline.bind(this)))}setOnline(e){R(this,Ic)!==e&&(ie(this,Ic,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,Ic)}},Ic=new WeakMap,Si=new WeakMap,Dc=new WeakMap,sD),lp=new Tz;function Sx(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function Rz(t){return Math.min(1e3*2**t,3e4)}function $j(t){return(t??"online")==="online"?lp.isOnline():!0}var Fj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Nx(t){return t instanceof Fj}function zj(t){let e=!1,r=0,n=!1,s;const o=Sx(),i=g=>{var y;n||(f(new Fj(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},c=()=>{e=!1},d=()=>kx.isFocused()&&(t.networkMode==="always"||lp.isOnline())&&t.canRun(),u=()=>$j(t.networkMode)&&t.canRun(),h=g=>{var y;n||(n=!0,(y=t.onSuccess)==null||y.call(t,g),s==null||s(),o.resolve(g))},f=g=>{var y;n||(n=!0,(y=t.onError)==null||y.call(t,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var y;s=x=>{(n||d())&&g(x)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;s=void 0,n||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(n)return;let g;const y=r===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var N;if(n)return;const w=t.retry??(ea?0:3),b=t.retryDelay??Rz,k=typeof b=="function"?b(r,x):b,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(e||!S){f(x);return}r++,(N=t.onFail)==null||N.call(t,r,x),Cz(k).then(()=>d()?void 0:p()).then(()=>{e?f(x):v()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?v():p().then(v),o)}}var Mz=t=>setTimeout(t,0);function Oz(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=Mz;const o=a=>{e?t.push(a):s(()=>{r(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Mt=Oz(),Bj=(oD=class{constructor(){ge(this,Da)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vx(this.gcTime)&&ie(this,Da,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ea?1/0:5*60*1e3))}clearGcTimeout(){R(this,Da)&&(clearTimeout(R(this,Da)),ie(this,Da,void 0))}},Da=new WeakMap,oD),Pz=(iD=class extends Bj{constructor(e){super();ge(this,as);ge(this,Lc);ge(this,La);ge(this,In);ge(this,$a);ge(this,vr);ge(this,vh);ge(this,Fa);ie(this,Fa,!1),ie(this,vh,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,$a,e.client),ie(this,In,R(this,$a).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,Lc,Az(this.options)),this.state=e.state??R(this,Lc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,vr))==null?void 0:e.promise}setOptions(e){this.options={...R(this,vh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,In).remove(this)}setData(e,r){const n=wx(this.state.data,e,this.options);return Te(this,as,vo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Te(this,as,vo).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=R(this,vr))==null?void 0:n.promise;return(s=R(this,vr))==null||s.cancel(e),r?r.then(Cr).catch(Cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Lc))}isActive(){return this.observers.some(e=>xn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Wo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Rj(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,vr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,vr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,In).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,vr)&&(R(this,Fa)?R(this,vr).cancel({revert:!0}):R(this,vr).cancelRetry()),this.scheduleGc()),R(this,In).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Te(this,as,vo).call(this,{type:"invalidate"})}fetch(e,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,vr))return R(this,vr).continueRetry(),R(this,vr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ie(this,Fa,!0),n.signal)})},o=()=>{const f=Dj(this.options,r),v=(()=>{const g={client:R(this,$a),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return ie(this,Fa,!1),this.options.persister?this.options.persister(f,v,this):f(v)},a=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,$a),state:this.state,fetchFn:o};return s(f),f})();(d=this.options.behavior)==null||d.onFetch(a,this),ie(this,La,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Te(this,as,vo).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,v,g,y;Nx(f)&&f.silent||Te(this,as,vo).call(this,{type:"error",error:f}),Nx(f)||((v=(p=R(this,In).config).onError)==null||v.call(p,f,this),(y=(g=R(this,In).config).onSettled)==null||y.call(g,this.state.data,f,this)),this.scheduleGc()};return ie(this,vr,zj({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var p,v,g,y;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){c(x);return}(v=(p=R(this,In).config).onSuccess)==null||v.call(p,f,this),(y=(g=R(this,In).config).onSettled)==null||y.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{Te(this,as,vo).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Te(this,as,vo).call(this,{type:"pause"})},onContinue:()=>{Te(this,as,vo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),R(this,vr).start()}},Lc=new WeakMap,La=new WeakMap,In=new WeakMap,$a=new WeakMap,vr=new WeakMap,vh=new WeakMap,Fa=new WeakMap,as=new WeakSet,vo=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Uj(n.data,this.options),fetchMeta:e.meta??null};case"success":return ie(this,La,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Nx(s)&&s.revert&&R(this,La)?{...R(this,La),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Mt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,In).notify({query:this,type:"updated",action:e})})},iD);function Uj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$j(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Az(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Iz=(aD=class extends Dl{constructor(e={}){super();ge(this,Rs);this.config=e,ie(this,Rs,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??yx(s,r);let i=this.get(o);return i||(i=new Pz({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){R(this,Rs).has(e.queryHash)||(R(this,Rs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,Rs).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,Rs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Rs).get(e)}getAll(){return[...R(this,Rs).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Mj(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Mj(e,n)):r}notify(e){Mt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rs=new WeakMap,aD),Dz=(lD=class extends Bj{constructor(e){super();ge(this,Os);ge(this,Ms);ge(this,Rr);ge(this,za);this.mutationId=e.mutationId,ie(this,Rr,e.mutationCache),ie(this,Ms,[]),this.state=e.state||Vj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,Ms).includes(e)||(R(this,Ms).push(e),this.clearGcTimeout(),R(this,Rr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,Ms,R(this,Ms).filter(r=>r!==e)),this.scheduleGc(),R(this,Rr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,Ms).length||(this.state.status==="pending"?this.scheduleGc():R(this,Rr).remove(this))}continue(){var e;return((e=R(this,za))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,i,a,c,d,u,h,f,p,v,g,y,x,w,b,k,S,N,C,E;const r=()=>{Te(this,Os,Ii).call(this,{type:"continue"})};ie(this,za,zj({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,_)=>{Te(this,Os,Ii).call(this,{type:"failed",failureCount:j,error:_})},onPause:()=>{Te(this,Os,Ii).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Rr).canRun(this)}));const n=this.state.status==="pending",s=!R(this,za).canStart();try{if(n)r();else{Te(this,Os,Ii).call(this,{type:"pending",variables:e,isPaused:s}),await((i=(o=R(this,Rr).config).onMutate)==null?void 0:i.call(o,e,this));const _=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));_!==this.state.context&&Te(this,Os,Ii).call(this,{type:"pending",context:_,variables:e,isPaused:s})}const j=await R(this,za).start();return await((u=(d=R(this,Rr).config).onSuccess)==null?void 0:u.call(d,j,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,j,e,this.state.context)),await((v=(p=R(this,Rr).config).onSettled)==null?void 0:v.call(p,j,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,j,null,e,this.state.context)),Te(this,Os,Ii).call(this,{type:"success",data:j}),j}catch(j){try{throw await((w=(x=R(this,Rr).config).onError)==null?void 0:w.call(x,j,e,this.state.context,this)),await((k=(b=this.options).onError)==null?void 0:k.call(b,j,e,this.state.context)),await((N=(S=R(this,Rr).config).onSettled)==null?void 0:N.call(S,void 0,j,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,j,e,this.state.context)),j}finally{Te(this,Os,Ii).call(this,{type:"error",error:j})}}finally{R(this,Rr).runNext(this)}}},Ms=new WeakMap,Rr=new WeakMap,za=new WeakMap,Os=new WeakSet,Ii=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mt.batch(()=>{R(this,Ms).forEach(n=>{n.onMutationUpdate(e)}),R(this,Rr).notify({mutation:this,type:"updated",action:e})})},lD);function Vj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lz=(cD=class extends Dl{constructor(e={}){super();ge(this,fo);ge(this,ls);ge(this,yh);this.config=e,ie(this,fo,new Set),ie(this,ls,new Map),ie(this,yh,0)}build(e,r,n){const s=new Dz({mutationCache:this,mutationId:++pg(this,yh)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){R(this,fo).add(e);const r=cp(e);if(typeof r=="string"){const n=R(this,ls).get(r);n?n.push(e):R(this,ls).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,fo).delete(e)){const r=cp(e);if(typeof r=="string"){const n=R(this,ls).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&R(this,ls).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=cp(e);if(typeof r=="string"){const n=R(this,ls).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=cp(e);if(typeof r=="string"){const s=(n=R(this,ls).get(r))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mt.batch(()=>{R(this,fo).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,fo).clear(),R(this,ls).clear()})}getAll(){return Array.from(R(this,fo))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Oj(r,n))}findAll(e={}){return this.getAll().filter(r=>Oj(e,r))}notify(e){Mt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Mt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Cr))))}},fo=new WeakMap,ls=new WeakMap,yh=new WeakMap,cD);function cp(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Wj(t){return{onFetch:(e,r)=>{var u,h,f,p,v;const n=e.options,s=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],i=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=Dj(e.options,e.fetchOptions),w=async(b,k,S)=>{if(g)return Promise.reject();if(k==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:k,direction:S?"backward":"forward",meta:e.options.meta};return y(P),P})(),E=await x(C),{maxPages:j}=e.options,_=S?Ez:jz;return{pages:_(b.pages,E,j),pageParams:_(b.pageParams,k,j)}};if(s&&o.length){const b=s==="backward",k=b?$z:Hj,S={pages:o,pageParams:i},N=k(n,S);a=await w(S,N,b)}else{const b=t??o.length;do{const k=c===0?i[0]??n.initialPageParam:Hj(n,a);if(c>0&&k==null)break;a=await w(a,k),c++}while(c<b)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function Hj(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function $z(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Fz=(dD=class{constructor(t={}){ge(this,ut);ge(this,Ni);ge(this,Ci);ge(this,$c);ge(this,Fc);ge(this,ji);ge(this,zc);ge(this,Bc);ie(this,ut,t.queryCache||new Iz),ie(this,Ni,t.mutationCache||new Lz),ie(this,Ci,t.defaultOptions||{}),ie(this,$c,new Map),ie(this,Fc,new Map),ie(this,ji,0)}mount(){pg(this,ji)._++,R(this,ji)===1&&(ie(this,zc,kx.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,ut).onFocus())})),ie(this,Bc,lp.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,ut).onOnline())})))}unmount(){var t,e;pg(this,ji)._--,R(this,ji)===0&&((t=R(this,zc))==null||t.call(this),ie(this,zc,void 0),(e=R(this,Bc))==null||e.call(this),ie(this,Bc,void 0))}isFetching(t){return R(this,ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Ni).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,ut).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,ut).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Wo(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,ut).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=R(this,ut).get(n.queryHash),o=s==null?void 0:s.state.data,i=Nz(e,o);if(i!==void 0)return R(this,ut).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return Mt.batch(()=>R(this,ut).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,ut).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,ut);Mt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,ut);return Mt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Mt.batch(()=>R(this,ut).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Cr).catch(Cr)}invalidateQueries(t,e={}){return Mt.batch(()=>(R(this,ut).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Mt.batch(()=>R(this,ut).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Cr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Cr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,ut).build(this,e);return r.isStaleByTime(Wo(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cr).catch(Cr)}fetchInfiniteQuery(t){return t.behavior=Wj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cr).catch(Cr)}ensureInfiniteQueryData(t){return t.behavior=Wj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lp.isOnline()?R(this,Ni).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,ut)}getMutationCache(){return R(this,Ni)}getDefaultOptions(){return R(this,Ci)}setDefaultOptions(t){ie(this,Ci,t)}setQueryDefaults(t,e){R(this,$c).set(ta(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,$c).values()],r={};return e.forEach(n=>{Qd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,Fc).set(ta(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Fc).values()],r={};return e.forEach(n=>{Qd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Ci).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===bx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ci).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,ut).clear(),R(this,Ni).clear()}},ut=new WeakMap,Ni=new WeakMap,Ci=new WeakMap,$c=new WeakMap,Fc=new WeakMap,ji=new WeakMap,zc=new WeakMap,Bc=new WeakMap,dD),zz=(uD=class extends Dl{constructor(e,r){super();ge(this,ze);ge(this,Hr);ge(this,De);ge(this,xh);ge(this,Mr);ge(this,Ba);ge(this,Uc);ge(this,Ei);ge(this,_i);ge(this,wh);ge(this,Vc);ge(this,Wc);ge(this,Ua);ge(this,Va);ge(this,Ti);ge(this,Hc,new Set);this.options=r,ie(this,Hr,e),ie(this,_i,null),ie(this,Ei,Sx()),this.options.experimental_prefetchInRender||R(this,Ei).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,De).addObserver(this),qj(R(this,De),this.options)?Te(this,ze,jh).call(this):this.updateResult(),Te(this,ze,o1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cx(R(this,De),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cx(R(this,De),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Te(this,ze,i1).call(this),Te(this,ze,a1).call(this),R(this,De).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,De);if(this.options=R(this,Hr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xn(this.options.enabled,R(this,De))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Te(this,ze,l1).call(this),R(this,De).setOptions(this.options),r._defaulted&&!ap(this.options,r)&&R(this,Hr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,De),observer:this});const s=this.hasListeners();s&&Kj(R(this,De),n,this.options,r)&&Te(this,ze,jh).call(this),this.updateResult(),s&&(R(this,De)!==n||xn(this.options.enabled,R(this,De))!==xn(r.enabled,R(this,De))||Wo(this.options.staleTime,R(this,De))!==Wo(r.staleTime,R(this,De)))&&Te(this,ze,r1).call(this);const o=Te(this,ze,n1).call(this);s&&(R(this,De)!==n||xn(this.options.enabled,R(this,De))!==xn(r.enabled,R(this,De))||o!==R(this,Ti))&&Te(this,ze,s1).call(this,o)}getOptimisticResult(e){const r=R(this,Hr).getQueryCache().build(R(this,Hr),e),n=this.createResult(r,e);return Uz(this,n)&&(ie(this,Mr,n),ie(this,Uc,this.options),ie(this,Ba,R(this,De).state)),n}getCurrentResult(){return R(this,Mr)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(e){R(this,Hc).add(e)}getCurrentQuery(){return R(this,De)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Hr).defaultQueryOptions(e),n=R(this,Hr).getQueryCache().build(R(this,Hr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Te(this,ze,jh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Mr)))}createResult(e,r){var j;const n=R(this,De),s=this.options,o=R(this,Mr),i=R(this,Ba),a=R(this,Uc),d=e!==n?e.state:R(this,xh),{state:u}=e;let h={...u},f=!1,p;if(r._optimisticResults){const _=this.hasListeners(),P=!_&&qj(e,r),T=_&&Kj(e,n,r,s);(P||T)&&(h={...h,...Uj(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:y}=h;p=h.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let _;o!=null&&o.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(_=o.data,x=!0):_=typeof r.placeholderData=="function"?r.placeholderData((j=R(this,Wc))==null?void 0:j.state.data,R(this,Wc)):r.placeholderData,_!==void 0&&(y="success",p=wx(o==null?void 0:o.data,_,r),f=!0)}if(r.select&&p!==void 0&&!x)if(o&&p===(i==null?void 0:i.data)&&r.select===R(this,wh))p=R(this,Vc);else try{ie(this,wh,r.select),p=r.select(p),p=wx(o==null?void 0:o.data,p,r),ie(this,Vc,p),ie(this,_i,null)}catch(_){ie(this,_i,_)}R(this,_i)&&(v=R(this,_i),p=R(this,Vc),g=Date.now(),y="error");const w=h.fetchStatus==="fetching",b=y==="pending",k=y==="error",S=b&&w,N=p!==void 0,E={status:y,fetchStatus:h.fetchStatus,isPending:b,isSuccess:y==="success",isError:k,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:k&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:k&&N,isStale:jx(e,r),refetch:this.refetch,promise:R(this,Ei),isEnabled:xn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const _=A=>{E.status==="error"?A.reject(E.error):E.data!==void 0&&A.resolve(E.data)},P=()=>{const A=ie(this,Ei,E.promise=Sx());_(A)},T=R(this,Ei);switch(T.status){case"pending":e.queryHash===n.queryHash&&_(T);break;case"fulfilled":(E.status==="error"||E.data!==T.value)&&P();break;case"rejected":(E.status!=="error"||E.error!==T.reason)&&P();break}}return E}updateResult(){const e=R(this,Mr),r=this.createResult(R(this,De),this.options);if(ie(this,Ba,R(this,De).state),ie(this,Uc,this.options),R(this,Ba).data!==void 0&&ie(this,Wc,R(this,De)),ap(r,e))return;ie(this,Mr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!R(this,Hc).size)return!0;const i=new Set(o??R(this,Hc));return this.options.throwOnError&&i.add("error"),Object.keys(R(this,Mr)).some(a=>{const c=a;return R(this,Mr)[c]!==e[c]&&i.has(c)})};Te(this,ze,pD).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Te(this,ze,o1).call(this)}},Hr=new WeakMap,De=new WeakMap,xh=new WeakMap,Mr=new WeakMap,Ba=new WeakMap,Uc=new WeakMap,Ei=new WeakMap,_i=new WeakMap,wh=new WeakMap,Vc=new WeakMap,Wc=new WeakMap,Ua=new WeakMap,Va=new WeakMap,Ti=new WeakMap,Hc=new WeakMap,ze=new WeakSet,jh=function(e){Te(this,ze,l1).call(this);let r=R(this,De).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Cr)),r},r1=function(){Te(this,ze,i1).call(this);const e=Wo(this.options.staleTime,R(this,De));if(ea||R(this,Mr).isStale||!vx(e))return;const n=Rj(R(this,Mr).dataUpdatedAt,e)+1;ie(this,Ua,setTimeout(()=>{R(this,Mr).isStale||this.updateResult()},n))},n1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,De)):this.options.refetchInterval)??!1},s1=function(e){Te(this,ze,a1).call(this),ie(this,Ti,e),!(ea||xn(this.options.enabled,R(this,De))===!1||!vx(R(this,Ti))||R(this,Ti)===0)&&ie(this,Va,setInterval(()=>{(this.options.refetchIntervalInBackground||kx.isFocused())&&Te(this,ze,jh).call(this)},R(this,Ti)))},o1=function(){Te(this,ze,r1).call(this),Te(this,ze,s1).call(this,Te(this,ze,n1).call(this))},i1=function(){R(this,Ua)&&(clearTimeout(R(this,Ua)),ie(this,Ua,void 0))},a1=function(){R(this,Va)&&(clearInterval(R(this,Va)),ie(this,Va,void 0))},l1=function(){const e=R(this,Hr).getQueryCache().build(R(this,Hr),this.options);if(e===R(this,De))return;const r=R(this,De);ie(this,De,e),ie(this,xh,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},pD=function(e){Mt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Mr))}),R(this,Hr).getQueryCache().notify({query:R(this,De),type:"observerResultsUpdated"})})},uD);function Bz(t,e){return xn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qj(t,e){return Bz(t,e)||t.state.data!==void 0&&Cx(t,e,e.refetchOnMount)}function Cx(t,e,r){if(xn(e.enabled,t)!==!1&&Wo(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&jx(t,e)}return!1}function Kj(t,e,r,n){return(t!==e||xn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&jx(t,r)}function jx(t,e){return xn(e.enabled,t)!==!1&&t.isStaleByTime(Wo(e.staleTime,t))}function Uz(t,e){return!ap(t.getCurrentResult(),e)}var Vz=(hD=class extends Dl{constructor(r,n){super();ge(this,mo);ge(this,Ri);ge(this,Mi);ge(this,qr);ge(this,po);ie(this,Ri,r),this.setOptions(n),this.bindMethods(),Te(this,mo,mg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=R(this,Ri).defaultMutationOptions(r),ap(this.options,n)||R(this,Ri).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,qr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ta(n.mutationKey)!==ta(this.options.mutationKey)?this.reset():((s=R(this,qr))==null?void 0:s.state.status)==="pending"&&R(this,qr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=R(this,qr))==null||r.removeObserver(this)}onMutationUpdate(r){Te(this,mo,mg).call(this),Te(this,mo,c1).call(this,r)}getCurrentResult(){return R(this,Mi)}reset(){var r;(r=R(this,qr))==null||r.removeObserver(this),ie(this,qr,void 0),Te(this,mo,mg).call(this),Te(this,mo,c1).call(this)}mutate(r,n){var s;return ie(this,po,n),(s=R(this,qr))==null||s.removeObserver(this),ie(this,qr,R(this,Ri).getMutationCache().build(R(this,Ri),this.options)),R(this,qr).addObserver(this),R(this,qr).execute(r)}},Ri=new WeakMap,Mi=new WeakMap,qr=new WeakMap,po=new WeakMap,mo=new WeakSet,mg=function(){var n;const r=((n=R(this,qr))==null?void 0:n.state)??Vj();ie(this,Mi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},c1=function(r){Mt.batch(()=>{var n,s,o,i,a,c,d,u;if(R(this,po)&&this.hasListeners()){const h=R(this,Mi).variables,f=R(this,Mi).context;(r==null?void 0:r.type)==="success"?((s=(n=R(this,po)).onSuccess)==null||s.call(n,r.data,h,f),(i=(o=R(this,po)).onSettled)==null||i.call(o,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(a=R(this,po)).onError)==null||c.call(a,r.error,h,f),(u=(d=R(this,po)).onSettled)==null||u.call(d,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(R(this,Mi))})})},hD),Gj=m.createContext(void 0),Ll=t=>{const e=m.useContext(Gj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Wz=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(Gj.Provider,{value:t,children:e})),Yj=m.createContext(!1),Hz=()=>m.useContext(Yj);Yj.Provider;function qz(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Kz=m.createContext(qz()),Gz=()=>m.useContext(Kz),Yz=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Jz=t=>{m.useEffect(()=>{t.clearReset()},[t])},Qz=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||Lj(r,[t.error,n])),Xz=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Zz=(t,e)=>t.isLoading&&t.isFetching&&!e,eB=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Jj=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function tB(t,e,r){var h,f,p,v,g;const n=Hz(),s=Gz(),o=Ll(),i=o.defaultQueryOptions(t);(f=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,i),i._optimisticResults=n?"isRestoring":"optimistic",Xz(i),Yz(i,s),Jz(s);const a=!o.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new e(o,i)),d=c.getOptimisticResult(i),u=!n&&t.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(y=>{const x=u?c.subscribe(Mt.batchCalls(y)):Cr;return c.updateResult(),x},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i)},[i,c]),eB(i,d))throw Jj(i,c,s);if(Qz({result:d,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((v=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,i,d),i.experimental_prefetchInRender&&!ea&&Zz(d,n)){const y=a?Jj(i,c,s):(g=o.getQueryCache().get(i.queryHash))==null?void 0:g.promise;y==null||y.catch(Cr).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function wn(t,e){return tB(t,zz)}function ra(t,e){const r=Ll(),[n]=m.useState(()=>new Vz(r,t));m.useEffect(()=>{n.setOptions(t)},[n,t]);const s=m.useSyncExternalStore(m.useCallback(i=>n.subscribe(Mt.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=m.useCallback((i,a)=>{n.mutate(i,a).catch(Cr)},[n]);if(s.error&&Lj(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xd.apply(this,arguments)}var Ho;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ho||(Ho={}));const Qj="popstate";function rB(t){t===void 0&&(t={});function e(n,s){let{pathname:o,search:i,hash:a}=n.location;return Ex("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:dp(s)}return sB(e,r,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nB(){return Math.random().toString(36).substr(2,8)}function Zj(t,e){return{usr:t.state,key:t.key,idx:e}}function Ex(t,e,r,n){return r===void 0&&(r=null),Xd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$l(e):e,{state:r,key:e&&e.key||n||nB()})}function dp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $l(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function sB(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Ho.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Xd({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function h(){a=Ho.Pop;let y=u(),x=y==null?null:y-d;d=y,c&&c({action:a,location:g.location,delta:x})}function f(y,x){a=Ho.Push;let w=Ex(g.location,y,x);d=u()+1;let b=Zj(w,d),k=g.createHref(w);try{i.pushState(b,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}o&&c&&c({action:a,location:g.location,delta:1})}function p(y,x){a=Ho.Replace;let w=Ex(g.location,y,x);d=u();let b=Zj(w,d),k=g.createHref(w);i.replaceState(b,"",k),o&&c&&c({action:a,location:g.location,delta:0})}function v(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:dp(y);return w=w.replace(/ $/,"%20"),lt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let g={get action(){return a},get location(){return t(s,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Qj,h),c=y,()=>{s.removeEventListener(Qj,h),c=null}},createHref(y){return e(s,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(y){return i.go(y)}};return g}var eE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eE||(eE={}));function oB(t,e,r){return r===void 0&&(r="/"),iB(t,e,r)}function iB(t,e,r,n){let s=typeof e=="string"?$l(e):e,o=Fl(s.pathname||"/",r);if(o==null)return null;let i=tE(t);aB(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let d=yB(o);a=gB(i[c],d)}return a}function tE(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(lt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=qo([n,c.relativePath]),u=r.concat(c);o.children&&o.children.length>0&&(lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),tE(o.children,e,u,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:pB(d,o.index),routesMeta:u})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of rE(o.path))s(o,i,c)}),e}function rE(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=rE(n.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function aB(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:mB(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lB=/^:[\w-]+$/,cB=3,dB=2,uB=1,hB=10,fB=-2,nE=t=>t==="*";function pB(t,e){let r=t.split("/"),n=r.length;return r.some(nE)&&(n+=fB),e&&(n+=dB),r.filter(s=>!nE(s)).reduce((s,o)=>s+(lB.test(o)?cB:o===""?uB:hB),n)}function mB(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function gB(t,e,r){let{routesMeta:n}=t,s={},o="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],d=a===n.length-1,u=o==="/"?e:e.slice(o.length)||"/",h=_x({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:qo([o,h.pathname]),pathnameBase:kB(qo([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=qo([o,h.pathnameBase]))}return i}function _x(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=vB(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[h]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[h];return p&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:t}}function vB(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Xj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function yB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function xB(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?$l(t):t;return{pathname:r?r.startsWith("/")?r:wB(r,e):e,search:SB(n),hash:NB(s)}}function wB(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Tx(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bB(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function sE(t,e){let r=bB(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oE(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=$l(t):(s=Xd({},t),lt(!s.pathname||!s.pathname.includes("?"),Tx("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),Tx("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),Tx("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let h=e.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let c=xB(s,a),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const qo=t=>t.join("/").replace(/\/\/+/g,"/"),kB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iE=["post","put","patch","delete"];new Set(iE);const jB=["get",...iE];new Set(jB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zd.apply(this,arguments)}const up=m.createContext(null),aE=m.createContext(null),Ko=m.createContext(null),hp=m.createContext(null),Xs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),lE=m.createContext(null);function EB(t,e){let{relative:r}=e===void 0?{}:e;eu()||lt(!1);let{basename:n,navigator:s}=m.useContext(Ko),{hash:o,pathname:i,search:a}=fp(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:qo([n,i])),s.createHref({pathname:c,search:a,hash:o})}function eu(){return m.useContext(hp)!=null}function na(){return eu()||lt(!1),m.useContext(hp).location}function cE(t){m.useContext(Ko).static||m.useLayoutEffect(t)}function Zs(){let{isDataRoute:t}=m.useContext(Xs);return t?UB():_B()}function _B(){eu()||lt(!1);let t=m.useContext(up),{basename:e,future:r,navigator:n}=m.useContext(Ko),{matches:s}=m.useContext(Xs),{pathname:o}=na(),i=JSON.stringify(sE(s,r.v7_relativeSplatPath)),a=m.useRef(!1);return cE(()=>{a.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!a.current)return;if(typeof d=="number"){n.go(d);return}let h=oE(d,JSON.parse(i),o,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qo([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,i,o,t])}const TB=m.createContext(null);function RB(t){let e=m.useContext(Xs).outlet;return e&&m.createElement(TB.Provider,{value:t},e)}function dE(){let{matches:t}=m.useContext(Xs),e=t[t.length-1];return e?e.params:{}}function fp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=m.useContext(Ko),{matches:s}=m.useContext(Xs),{pathname:o}=na(),i=JSON.stringify(sE(s,n.v7_relativeSplatPath));return m.useMemo(()=>oE(t,JSON.parse(i),o,r==="path"),[t,i,o,r])}function MB(t,e){return OB(t,e)}function OB(t,e,r,n){eu()||lt(!1);let{navigator:s}=m.useContext(Ko),{matches:o}=m.useContext(Xs),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=na(),u;if(e){var h;let y=typeof e=="string"?$l(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||lt(!1),u=y}else u=d;let f=u.pathname||"/",p=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=oB(t,{pathname:p}),g=LB(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:qo([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:qo([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return e&&g?m.createElement(hp.Provider,{value:{location:Zd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ho.Pop}},g):g}function PB(){let t=BB(),e=CB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),r?m.createElement("pre",{style:s},r):null,null)}const AB=m.createElement(PB,null);class IB extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?m.createElement(Xs.Provider,{value:this.props.routeContext},m.createElement(lE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DB(t){let{routeContext:e,match:r,children:n}=t,s=m.useContext(up);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Xs.Provider,{value:e},n)}function LB(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||lt(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,f)=>{let p,v=!1,g=null,y=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||AB,c&&(d<0&&f===0?(VB("route-fallback"),v=!0,y=null):d===f&&(v=!0,y=h.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,f+1)),w=()=>{let b;return p?b=g:v?b=y:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,m.createElement(DB,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(IB,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var uE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uE||{}),hE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hE||{});function $B(t){let e=m.useContext(up);return e||lt(!1),e}function FB(t){let e=m.useContext(aE);return e||lt(!1),e}function zB(t){let e=m.useContext(Xs);return e||lt(!1),e}function fE(t){let e=zB(),r=e.matches[e.matches.length-1];return r.route.id||lt(!1),r.route.id}function BB(){var t;let e=m.useContext(lE),r=FB(),n=fE();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function UB(){let{router:t}=$B(uE.UseNavigateStable),e=fE(hE.UseNavigateStable),r=m.useRef(!1);return cE(()=>{r.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zd({fromRouteId:e},o)))},[t,e])}const pE={};function VB(t,e,r){pE[t]||(pE[t]=!0)}function WB(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function HB(t){return RB(t.context)}function zr(t){lt(!1)}function qB(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ho.Pop,navigator:o,static:i=!1,future:a}=t;eu()&&lt(!1);let c=e.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Zd({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof n=="string"&&(n=$l(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,g=m.useMemo(()=>{let y=Fl(u,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:v},navigationType:s}},[c,u,h,f,p,v,s]);return g==null?null:m.createElement(Ko.Provider,{value:d},m.createElement(hp.Provider,{children:r,value:g}))}function KB(t){let{children:e,location:r}=t;return MB(Rx(e),r)}new Promise(()=>{});function Rx(t,e){e===void 0&&(e=[]);let r=[];return m.Children.forEach(t,(n,s)=>{if(!m.isValidElement(n))return;let o=[...e,s];if(n.type===m.Fragment){r.push.apply(r,Rx(n.props.children,o));return}n.type!==zr&&lt(!1),!n.props.index||!n.props.children||lt(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Rx(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pp.apply(this,arguments)}function mE(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function GB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YB(t,e){return t.button===0&&(!e||e==="_self")&&!GB(t)}const JB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QB=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],XB="6";try{window.__reactRouterVersion=XB}catch{}const ZB=m.createContext({isTransitioning:!1}),gE=bg["startTransition"];function e6(t){let{basename:e,children:r,future:n,window:s}=t,o=m.useRef();o.current==null&&(o.current=rB({window:s,v5Compat:!0}));let i=o.current,[a,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=m.useCallback(h=>{d&&gE?gE(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>i.listen(u),[i,u]),m.useEffect(()=>WB(n),[n]),m.createElement(qB,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const t6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=m.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,f=mE(e,JB),{basename:p}=m.useContext(Ko),v,g=!1;if(typeof d=="string"&&r6.test(d)&&(v=d,t6))try{let b=new URL(window.location.href),k=d.startsWith("//")?new URL(b.protocol+d):new URL(d),S=Fl(k.pathname,p);k.origin===b.origin&&S!=null?d=S+k.search+k.hash:g=!0}catch{}let y=EB(d,{relative:s}),x=s6(d,{replace:i,state:a,target:c,preventScrollReset:u,relative:s,viewTransition:h});function w(b){n&&n(b),b.defaultPrevented||x(b)}return m.createElement("a",pp({},f,{href:v||y,onClick:g||o?n:w,ref:r,target:c}))}),Mx=m.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:o="",end:i=!1,style:a,to:c,viewTransition:d,children:u}=e,h=mE(e,QB),f=fp(c,{relative:h.relative}),p=na(),v=m.useContext(aE),{navigator:g,basename:y}=m.useContext(Ko),x=v!=null&&o6(f)&&d===!0,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(b=b.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&y&&(k=Fl(k,y)||k);const S=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=b===w||!i&&b.startsWith(w)&&b.charAt(S)==="/",C=k!=null&&(k===w||!i&&k.startsWith(w)&&k.charAt(w.length)==="/"),E={isActive:N,isPending:C,isTransitioning:x},j=N?n:void 0,_;typeof o=="function"?_=o(E):_=[o,N?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(E):a;return m.createElement(rn,pp({},h,{"aria-current":j,className:_,ref:r,style:P,to:c,viewTransition:d}),typeof u=="function"?u(E):u)});var Ox;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ox||(Ox={}));var vE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vE||(vE={}));function n6(t){let e=m.useContext(up);return e||lt(!1),e}function s6(t,e){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=e===void 0?{}:e,c=Zs(),d=na(),u=fp(t,{relative:i});return m.useCallback(h=>{if(YB(h,r)){h.preventDefault();let f=n!==void 0?n:dp(d)===dp(u);c(t,{replace:f,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[d,c,u,n,s,r,t,o,i,a])}function o6(t,e){e===void 0&&(e={});let r=m.useContext(ZB);r==null&&lt(!1);let{basename:n}=n6(Ox.useViewTransitionState),s=fp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=Fl(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Fl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _x(s.pathname,i)!=null||_x(s.pathname,o)!=null}const i6=Nl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-border bg-transparent hover:bg-secondary hover:border-primary/30 text-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-secondary hover:text-foreground text-muted-foreground",link:"text-primary underline-offset-4 hover:underline",glow:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-[0_4px_14px_-2px_hsl(var(--primary)/0.4)] hover:shadow-[0_6px_20px_-4px_hsl(var(--primary)/0.5)] transition-shadow",recording:"bg-destructive text-destructive-foreground hover:bg-destructive/90 animate-pulse",success:"bg-success text-primary-foreground hover:opacity-90 shadow-sm",calendar:"bg-accent text-accent-foreground hover:bg-accent/80",nav:"text-muted-foreground hover:text-foreground hover:bg-secondary/50 justify-start","nav-active":"text-primary bg-primary/10 hover:bg-primary/15 justify-start font-medium"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),K=m.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const i=n?J4:"button";return l.jsx(i,{className:U(i6({variant:e,size:r,className:t})),ref:o,...s})});K.displayName="Button";const a6=Nl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-success/30 bg-success/20 text-success",warning:"border-warning/30 bg-warning/20 text-warning",info:"border-info/30 bg-info/20 text-info",class:"border text-foreground"}},defaultVariants:{variant:"default"}});function ue({className:t,variant:e,...r}){return l.jsx("div",{className:U(a6({variant:e}),t),...r})}function tu(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mp="Switch",[l6]=Ft(mp),[c6,d6]=l6(mp),yE=m.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,p]=m.useState(null),v=we(e,b=>p(b)),g=m.useRef(!1),y=f?u||!!f.closest("form"):!0,[x,w]=Wn({prop:s,defaultProp:o??!1,onChange:d,caller:mp});return l.jsxs(c6,{scope:r,checked:x,disabled:a,children:[l.jsx(se.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":kE(x),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:v,onClick:Q(t.onClick,b=>{w(k=>!k),y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),y&&l.jsx(bE,{control:f,bubbles:!g.current,name:n,value:c,checked:x,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});yE.displayName=mp;var xE="SwitchThumb",wE=m.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=d6(xE,r);return l.jsx(se.span,{"data-state":kE(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});wE.displayName=xE;var u6="SwitchBubbleInput",bE=m.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},o)=>{const i=m.useRef(null),a=we(i,o),c=tu(r),d=Jd(e);return m.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const v=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(v)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bE.displayName=u6;function kE(t){return t?"checked":"unchecked"}var SE=yE,h6=wE;const Go=m.forwardRef(({className:t,...e},r)=>l.jsx(SE,{className:U("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:l.jsx(h6,{className:U("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Go.displayName=SE.displayName;var Px="focusScope.autoFocusOnMount",Ax="focusScope.autoFocusOnUnmount",NE={bubbles:!1,cancelable:!0},f6="FocusScope",gp=m.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,c]=m.useState(null),d=at(s),u=at(o),h=m.useRef(null),f=we(e,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(b){if(p.paused||!a)return;const k=b.target;a.contains(k)?h.current=k:Yo(h.current,{select:!0})},y=function(b){if(p.paused||!a)return;const k=b.relatedTarget;k!==null&&(a.contains(k)||Yo(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Yo(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[n,a,p.paused]),m.useEffect(()=>{if(a){EE.add(p);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(Px,NE);a.addEventListener(Px,d),a.dispatchEvent(x),x.defaultPrevented||(p6(x6(CE(a)),{select:!0}),document.activeElement===g&&Yo(a))}return()=>{a.removeEventListener(Px,d),setTimeout(()=>{const x=new CustomEvent(Ax,NE);a.addEventListener(Ax,u),a.dispatchEvent(x),x.defaultPrevented||Yo(g??document.body,{select:!0}),a.removeEventListener(Ax,u),EE.remove(p)},0)}}},[a,d,u,p]);const v=m.useCallback(g=>{if(!r&&!n||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const w=g.currentTarget,[b,k]=m6(w);b&&k?!g.shiftKey&&x===k?(g.preventDefault(),r&&Yo(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),r&&Yo(k,{select:!0})):x===w&&g.preventDefault()}},[r,n,p.paused]);return l.jsx(se.div,{tabIndex:-1,...i,ref:f,onKeyDown:v})});gp.displayName=f6;function p6(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Yo(n,{select:e}),document.activeElement!==r)return}function m6(t){const e=CE(t),r=jE(e,t),n=jE(e.reverse(),t);return[r,n]}function CE(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function jE(t,e){for(const r of t)if(!g6(r,{upTo:e}))return r}function g6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function v6(t){return t instanceof HTMLInputElement&&"select"in t}function Yo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&v6(t)&&e&&t.select()}}var EE=y6();function y6(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=_E(t,e),t.unshift(e)},remove(e){var r;t=_E(t,e),(r=t[0])==null||r.resume()}}}function _E(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function x6(t){return t.filter(e=>e.tagName!=="A")}var Ix=0;function Dx(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??TE()),document.body.insertAdjacentElement("beforeend",t[1]??TE()),Ix++,()=>{Ix===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ix--}},[])}function TE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bs=function(){return bs=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},bs.apply(this,arguments)};function zl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function w6(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):s(u.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function b6(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var vp="right-scroll-bar-position",yp="width-before-scroll-bar",k6="with-scroll-bars-hidden",S6="--removed-body-scroll-bar-size";function Lx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function N6(t,e){var r=m.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var C6=typeof window<"u"?m.useLayoutEffect:m.useEffect,RE=new WeakMap;function j6(t,e){var r=N6(null,function(n){return t.forEach(function(s){return Lx(s,n)})});return C6(function(){var n=RE.get(r);if(n){var s=new Set(n),o=new Set(t),i=r.current;s.forEach(function(a){o.has(a)||Lx(a,null)}),o.forEach(function(a){s.has(a)||Lx(a,i)})}RE.set(r,t)},[t]),r}function E6(t){return t}function _6(t,e){e===void 0&&(e=E6);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=e(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),r}}}};return s}function T6(t){t===void 0&&(t={});var e=_6(null);return e.options=bs({async:!0,ssr:!1},t),e}var ME=function(t){var e=t.sideCar,r=zl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,bs({},r))};ME.isSideCarExport=!0;function R6(t,e){return t.useMedium(e),ME}var OE=T6(),$x=function(){},xp=m.forwardRef(function(t,e){var r=m.useRef(null),n=m.useState({onScrollCapture:$x,onWheelCapture:$x,onTouchMoveCapture:$x}),s=n[0],o=n[1],i=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,v=t.noIsolation,g=t.inert,y=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,b=t.gapMode,k=zl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,N=j6([r,e]),C=bs(bs({},k),s);return m.createElement(m.Fragment,null,u&&m.createElement(S,{sideCar:OE,removeScrollBar:d,shards:h,noRelative:p,noIsolation:v,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(a),bs(bs({},C),{ref:N})):m.createElement(w,bs({},C,{className:c,ref:N}),a))});xp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},xp.classNames={fullWidth:yp,zeroRight:vp};var M6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function O6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=M6();return e&&t.setAttribute("nonce",e),t}function P6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function A6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var I6=function(){var t=0,e=null;return{add:function(r){t==0&&(e=O6())&&(P6(e,r),A6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},D6=function(){var t=I6();return function(e,r){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},PE=function(){var t=D6(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},L6={left:0,top:0,right:0,gap:0},Fx=function(t){return parseInt(t||"",10)||0},$6=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Fx(r),Fx(n),Fx(s)]},F6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return L6;var e=$6(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},z6=PE(),Bl="data-scroll-locked",B6=function(t,e,r,n){var s=t.left,o=t.top,i=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(k6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Bl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vp,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(yp,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(vp," .").concat(vp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yp," .").concat(yp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bl,`] {
    `).concat(S6,": ").concat(a,`px;
  }
`)},AE=function(){var t=parseInt(document.body.getAttribute(Bl)||"0",10);return isFinite(t)?t:0},U6=function(){m.useEffect(function(){return document.body.setAttribute(Bl,(AE()+1).toString()),function(){var t=AE()-1;t<=0?document.body.removeAttribute(Bl):document.body.setAttribute(Bl,t.toString())}},[])},V6=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;U6();var o=m.useMemo(function(){return F6(s)},[s]);return m.createElement(z6,{styles:B6(o,!e,s,r?"":"!important")})},zx=!1;if(typeof window<"u")try{var wp=Object.defineProperty({},"passive",{get:function(){return zx=!0,!0}});window.addEventListener("test",wp,wp),window.removeEventListener("test",wp,wp)}catch{zx=!1}var Ul=zx?{passive:!1}:!1,W6=function(t){return t.tagName==="TEXTAREA"},IE=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!W6(t)&&r[e]==="visible")},H6=function(t){return IE(t,"overflowY")},q6=function(t){return IE(t,"overflowX")},DE=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=LE(t,n);if(s){var o=$E(t,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},K6=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},G6=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},LE=function(t,e){return t==="v"?H6(e):q6(e)},$E=function(t,e){return t==="v"?K6(e):G6(e)},Y6=function(t,e){return t==="h"&&e==="rtl"?-1:1},J6=function(t,e,r,n,s){var o=Y6(t,window.getComputedStyle(e).direction),i=o*n,a=r.target,c=e.contains(a),d=!1,u=i>0,h=0,f=0;do{if(!a)break;var p=$E(t,a),v=p[0],g=p[1],y=p[2],x=g-y-o*v;(v||x)&&LE(t,a)&&(h+=x,f+=v);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},bp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},FE=function(t){return[t.deltaX,t.deltaY]},zE=function(t){return t&&"current"in t?t.current:t},Q6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},X6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Z6=0,Vl=[];function eU(t){var e=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(Z6++)[0],o=m.useState(PE)[0],i=m.useRef(t);m.useEffect(function(){i.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=b6([t.lockRef.current],(t.shards||[]).map(zE),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var x=bp(g),w=r.current,b="deltaX"in g?g.deltaX:w[0]-x[0],k="deltaY"in g?g.deltaY:w[1]-x[1],S,N=g.target,C=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in g&&C==="h"&&N.type==="range")return!1;var E=DE(C,N);if(!E)return!0;if(E?S=C:(S=C==="v"?"h":"v",E=DE(C,N)),!E)return!1;if(!n.current&&"changedTouches"in g&&(b||k)&&(n.current=S),!S)return!0;var j=n.current||S;return J6(j,y,g,j==="h"?b:k)},[]),c=m.useCallback(function(g){var y=g;if(!(!Vl.length||Vl[Vl.length-1]!==o)){var x="deltaY"in y?FE(y):bp(y),w=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&Q6(S.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(zE).filter(Boolean).filter(function(S){return S.contains(y.target)}),k=b.length>0?a(y,b[0]):!i.current.noIsolation;k&&y.cancelable&&y.preventDefault()}}},[]),d=m.useCallback(function(g,y,x,w){var b={name:g,delta:y,target:x,should:w,shadowParent:tU(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(k){return k!==b})},1)},[]),u=m.useCallback(function(g){r.current=bp(g),n.current=void 0},[]),h=m.useCallback(function(g){d(g.type,FE(g),g.target,a(g,t.lockRef.current))},[]),f=m.useCallback(function(g){d(g.type,bp(g),g.target,a(g,t.lockRef.current))},[]);m.useEffect(function(){return Vl.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ul),document.addEventListener("touchmove",c,Ul),document.addEventListener("touchstart",u,Ul),function(){Vl=Vl.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,Ul),document.removeEventListener("touchmove",c,Ul),document.removeEventListener("touchstart",u,Ul)}},[]);var p=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(o,{styles:X6(s)}):null,p?m.createElement(V6,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function tU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rU=R6(OE,eU);var kp=m.forwardRef(function(t,e){return m.createElement(xp,bs({},t,{ref:e,sideCar:rU}))});kp.classNames=xp.classNames;var nU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wl=new WeakMap,Sp=new WeakMap,Np={},Bx=0,BE=function(t){return t&&(t.host||BE(t.parentNode))},sU=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=BE(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},oU=function(t,e,r,n){var s=sU(e,Array.isArray(t)?t:[t]);Np[r]||(Np[r]=new WeakMap);var o=Np[r],i=[],a=new Set,c=new Set(s),d=function(h){!h||a.has(h)||(a.add(h),d(h.parentNode))};s.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(n),v=p!==null&&p!=="false",g=(Wl.get(f)||0)+1,y=(o.get(f)||0)+1;Wl.set(f,g),o.set(f,y),i.push(f),g===1&&v&&Sp.set(f,!0),y===1&&f.setAttribute(r,"true"),v||f.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return u(e),a.clear(),Bx++,function(){i.forEach(function(h){var f=Wl.get(h)-1,p=o.get(h)-1;Wl.set(h,f),o.set(h,p),f||(Sp.has(h)||h.removeAttribute(n),Sp.delete(h)),p||h.removeAttribute(r)}),Bx--,Bx||(Wl=new WeakMap,Wl=new WeakMap,Sp=new WeakMap,Np={})}},Ux=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=nU(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),oU(n,s,r,"aria-hidden")):function(){return null}},Cp="Dialog",[UE]=Ft(Cp),[iU,Gn]=UE(Cp),VE=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=m.useRef(null),c=m.useRef(null),[d,u]=Wn({prop:n,defaultProp:s??!1,onChange:o,caller:Cp});return l.jsx(iU,{scope:e,triggerRef:a,contentRef:c,contentId:hr(),titleId:hr(),descriptionId:hr(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:i,children:r})};VE.displayName=Cp;var WE="DialogTrigger",HE=m.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Gn(WE,r),o=we(e,s.triggerRef);return l.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hx(s.open),...n,ref:o,onClick:Q(t.onClick,s.onOpenToggle)})});HE.displayName=WE;var Vx="DialogPortal",[aU,qE]=UE(Vx,{forceMount:void 0}),KE=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=Gn(Vx,e);return l.jsx(aU,{scope:e,forceMount:r,children:m.Children.map(n,i=>l.jsx(er,{present:r||o.open,children:l.jsx($d,{asChild:!0,container:s,children:i})}))})};KE.displayName=Vx;var jp="DialogOverlay",GE=m.forwardRef((t,e)=>{const r=qE(jp,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Gn(jp,t.__scopeDialog);return o.modal?l.jsx(er,{present:n||o.open,children:l.jsx(cU,{...s,ref:e})}):null});GE.displayName=jp;var lU=Qi("DialogOverlay.RemoveScroll"),cU=m.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Gn(jp,r);return l.jsx(kp,{as:lU,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(se.div,{"data-state":Hx(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),sa="DialogContent",YE=m.forwardRef((t,e)=>{const r=qE(sa,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Gn(sa,t.__scopeDialog);return l.jsx(er,{present:n||o.open,children:o.modal?l.jsx(dU,{...s,ref:e}):l.jsx(uU,{...s,ref:e})})});YE.displayName=sa;var dU=m.forwardRef((t,e)=>{const r=Gn(sa,t.__scopeDialog),n=m.useRef(null),s=we(e,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return Ux(o)},[]),l.jsx(JE,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Q(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Q(t.onFocusOutside,o=>o.preventDefault())})}),uU=m.forwardRef((t,e)=>{const r=Gn(sa,t.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return l.jsx(JE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),JE=m.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=Gn(sa,r),c=m.useRef(null),d=we(e,c);return Dx(),l.jsxs(l.Fragment,{children:[l.jsx(gp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Sl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Hx(a.open),...i,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(hU,{titleId:a.titleId}),l.jsx(pU,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Wx="DialogTitle",QE=m.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Gn(Wx,r);return l.jsx(se.h2,{id:s.titleId,...n,ref:e})});QE.displayName=Wx;var XE="DialogDescription",ZE=m.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Gn(XE,r);return l.jsx(se.p,{id:s.descriptionId,...n,ref:e})});ZE.displayName=XE;var e_="DialogClose",t_=m.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Gn(e_,r);return l.jsx(se.button,{type:"button",...n,ref:e,onClick:Q(t.onClick,()=>s.onOpenChange(!1))})});t_.displayName=e_;function Hx(t){return t?"open":"closed"}var r_="DialogTitleWarning",[Nre,n_]=G4(r_,{contentName:sa,titleName:Wx,docsSlug:"dialog"}),hU=({titleId:t})=>{const e=n_(r_),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},fU="DialogDescriptionWarning",pU=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n_(fU).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},qx=VE,mU=HE,Kx=KE,ru=GE,nu=YE,Ep=QE,_p=ZE,s_=t_;const bn=qx,o_=mU,gU=Kx,i_=m.forwardRef(({className:t,...e},r)=>l.jsx(ru,{ref:r,className:U("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));i_.displayName=ru.displayName;const nn=m.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(gU,{children:[l.jsx(i_,{}),l.jsxs(nu,{ref:n,className:U("fixed left-[50%] top-[50%] z-50 grid w-[calc(100%-2rem)] max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 sm:p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] max-h-[90vh] overflow-y-auto rounded-lg sm:rounded-lg",t),...r,children:[e,l.jsxs(s_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Wd,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nn.displayName=nu.displayName;const kn=({className:t,...e})=>l.jsx("div",{className:U("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});kn.displayName="DialogHeader";const a_=({className:t,...e})=>l.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});a_.displayName="DialogFooter";const Sn=m.forwardRef(({className:t,...e},r)=>l.jsx(Ep,{ref:r,className:U("text-lg font-semibold leading-none tracking-tight",t),...e}));Sn.displayName=Ep.displayName;const Hl=m.forwardRef(({className:t,...e},r)=>l.jsx(_p,{ref:r,className:U("text-sm text-muted-foreground",t),...e}));Hl.displayName=_p.displayName;const l_=t=>{let e;const r=new Set,n=(d,u)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},s=()=>e,a={setState:n,getState:s,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=e=t(n,s,a);return a},vU=t=>t?l_(t):l_,yU=t=>t;function xU(t,e=yU){const r=W.useSyncExternalStore(t.subscribe,W.useCallback(()=>e(t.getState()),[t,e]),W.useCallback(()=>e(t.getInitialState()),[t,e]));return W.useDebugValue(r),r}const c_=t=>{const e=vU(t),r=n=>xU(e,n);return Object.assign(r,e),r},wU=t=>t?c_(t):c_;function qe(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Yn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function yt(t,e){const r=qe(t);return isNaN(e)?Yn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Gx(t,e){const r=qe(t);if(isNaN(e))return Yn(t,NaN);if(!e)return r;const n=r.getDate(),s=Yn(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return n>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const d_=6048e5,bU=864e5,u_=6e4,h_=36e5;let kU={};function su(){return kU}function Nn(t,e){var a,c,d,u;const r=su(),n=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=qe(t),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Tp(t){return Nn(t,{weekStartsOn:1})}function f_(t){const e=qe(t),r=e.getFullYear(),n=Yn(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Tp(n),o=Yn(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Tp(o);return e.getTime()>=s.getTime()?r+1:e.getTime()>=i.getTime()?r:r-1}function ou(t){const e=qe(t);return e.setHours(0,0,0,0),e}function p_(t){const e=qe(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function SU(t,e){const r=ou(t),n=ou(e),s=+r-p_(r),o=+n-p_(n);return Math.round((s-o)/bU)}function NU(t){const e=f_(t),r=Yn(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Tp(r)}function m_(t,e){const r=e*7;return yt(t,r)}function g_(t){return Yn(t,Date.now())}function eo(t,e){const r=ou(t),n=ou(e);return+r==+n}function CU(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jU(t){if(!CU(t)&&typeof t!="number")return!1;const e=qe(t);return!isNaN(Number(e))}function v_(t){const e=qe(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Yx(t,e){const r=qe(t.start),n=qe(t.end);let s=+r>+n;const o=s?+r:+n,i=s?n:r;i.setHours(0,0,0,0);let a=1;const c=[];for(;+i<=o;)c.push(qe(i)),i.setDate(i.getDate()+a),i.setHours(0,0,0,0);return s?c.reverse():c}function y_(t){const e=qe(t);return e.setDate(1),e.setHours(0,0,0,0),e}function EU(t){const e=qe(t),r=Yn(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Rp(t,e){var a,c,d,u;const r=su(),n=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=qe(t),o=s.getDay(),i=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}const _U={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TU=(t,e,r)=>{let n;const s=_U[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Jx(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const RU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PU={date:Jx({formats:RU,defaultWidth:"full"}),time:Jx({formats:MU,defaultWidth:"full"}),dateTime:Jx({formats:OU,defaultWidth:"full"})},AU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IU=(t,e,r,n)=>AU[t];function iu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=t.formattingValues[a]||t.formattingValues[i]}else{const i=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[a]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const DU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$U={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UU={ordinalNumber:(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:iu({values:DU,defaultWidth:"wide"}),quarter:iu({values:LU,defaultWidth:"wide",argumentCallback:t=>t-1}),month:iu({values:$U,defaultWidth:"wide"}),day:iu({values:FU,defaultWidth:"wide"}),dayPeriod:iu({values:zU,defaultWidth:"wide",formattingValues:BU,defaultFormattingWidth:"wide"})};function au(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const i=o[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?WU(a,h=>h.test(i)):VU(a,h=>h.test(i));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(i.length);return{value:d,rest:u}}}function VU(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function WU(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function HU(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=e.slice(s.length);return{value:i,rest:a}}}const qU=/^(\d+)(th|st|nd|rd)?/i,KU=/\d+/i,GU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YU={any:[/^b/i,/^(a|c)/i]},JU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QU={any:[/1/i,/2/i,/3/i,/4/i]},XU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},r8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},s8={ordinalNumber:HU({matchPattern:qU,parsePattern:KU,valueCallback:t=>parseInt(t,10)}),era:au({matchPatterns:GU,defaultMatchWidth:"wide",parsePatterns:YU,defaultParseWidth:"any"}),quarter:au({matchPatterns:JU,defaultMatchWidth:"wide",parsePatterns:QU,defaultParseWidth:"any",valueCallback:t=>t+1}),month:au({matchPatterns:XU,defaultMatchWidth:"wide",parsePatterns:ZU,defaultParseWidth:"any"}),day:au({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:t8,defaultParseWidth:"any"}),dayPeriod:au({matchPatterns:r8,defaultMatchWidth:"any",parsePatterns:n8,defaultParseWidth:"any"})},o8={code:"en-US",formatDistance:TU,formatLong:PU,formatRelative:IU,localize:UU,match:s8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function i8(t){const e=qe(t);return SU(e,EU(e))+1}function a8(t){const e=qe(t),r=+Tp(e)-+NU(e);return Math.round(r/d_)+1}function x_(t,e){var u,h,f,p;const r=qe(t),n=r.getFullYear(),s=su(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=Yn(t,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=Nn(i,e),c=Yn(t,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const d=Nn(c,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function l8(t,e){var a,c,d,u;const r=su(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=x_(t,e),o=Yn(t,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Nn(o,e)}function c8(t,e){const r=qe(t),n=+Nn(r,e)-+l8(r,e);return Math.round(n/d_)+1}function Ue(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Jo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ue(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ue(r+1,2)},d(t,e){return Ue(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ue(t.getHours()%12||12,e.length)},H(t,e){return Ue(t.getHours(),e.length)},m(t,e){return Ue(t.getMinutes(),e.length)},s(t,e){return Ue(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ue(s,e.length)}},ql={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},w_={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Jo.y(t,e)},Y:function(t,e,r,n){const s=x_(t,n),o=s>0?s:1-s;if(e==="YY"){const i=o%100;return Ue(i,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ue(o,e.length)},R:function(t,e){const r=f_(t);return Ue(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ue(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ue(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ue(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Jo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ue(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=c8(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Ue(s,e.length)},I:function(t,e,r){const n=a8(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ue(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Jo.d(t,e)},D:function(t,e,r){const n=i8(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ue(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ue(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ue(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Ue(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=ql.noon:n===0?s=ql.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=ql.evening:n>=12?s=ql.afternoon:n>=4?s=ql.morning:s=ql.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Jo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Jo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ue(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ue(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Jo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Jo.s(t,e)},S:function(t,e){return Jo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return k_(n);case"XXXX":case"XX":return oa(n);case"XXXXX":case"XXX":default:return oa(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return k_(n);case"xxxx":case"xx":return oa(n);case"xxxxx":case"xxx":default:return oa(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+b_(n,":");case"OOOO":default:return"GMT"+oa(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+b_(n,":");case"zzzz":default:return"GMT"+oa(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ue(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ue(n,e.length)}};function b_(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+e+Ue(o,2)}function k_(t,e){return t%60===0?(t>0?"-":"+")+Ue(Math.abs(t)/60,2):oa(t,e)}function oa(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Ue(Math.trunc(n/60),2),o=Ue(n%60,2);return r+s+e+o}const S_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},N_=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},d8={p:N_,P:(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return S_(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",S_(n,e)).replace("{{time}}",N_(s,e))}},u8=/^D+$/,h8=/^Y+$/,f8=["D","DD","YY","YYYY"];function p8(t){return u8.test(t)}function m8(t){return h8.test(t)}function g8(t,e,r){const n=v8(t,e,r);if(console.warn(n),f8.includes(t))throw new RangeError(n)}function v8(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const y8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w8=/^'([^]*?)'?$/,b8=/''/g,k8=/[a-zA-Z]/;function me(t,e,r){var u,h,f,p;const n=su(),s=n.locale??o8,o=n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=qe(t);if(!jU(a))throw new RangeError("Invalid time value");let c=e.match(x8).map(v=>{const g=v[0];if(g==="p"||g==="P"){const y=d8[g];return y(v,s.formatLong)}return v}).join("").match(y8).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:S8(v)};if(w_[g])return{isToken:!0,value:v};if(g.match(k8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(m8(g)||p8(g))&&g8(g,e,String(t));const y=w_[g[0]];return y(a,g,s.localize,d)}).join("")}function S8(t){const e=t.match(w8);return e?e[1].replace(b8,"'"):t}function N8(t){return qe(t).getDay()}function C8(t,e){const r=qe(t),n=qe(e);return+r<+n}function j8(t){return+qe(t)>Date.now()}function Qx(t){return+qe(t)<Date.now()}function C_(t,e){const r=qe(t),n=qe(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Cn(t){return eo(t,g_(t))}function E8(t){return eo(t,yt(g_(t),1))}function Pe(t,e){return yt(t,-e)}function lu(t,e){const n=M8(t);let s;if(n.date){const c=O8(n.date,2);s=P8(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let i=0,a;if(n.time&&(i=A8(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(a=I8(n.timezone),isNaN(a))return new Date(NaN)}else{const c=new Date(o+i),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(o+i+a)}const Mp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_8=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,T8=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,R8=/^([+-])(\d{2})(?::?(\d{2}))?$/;function M8(t){const e={},r=t.split(Mp.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Mp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Mp.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=Mp.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function O8(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:t.slice((n[1]||n[2]).length)}}function P8(t,e){if(e===null)return new Date(NaN);const r=t.match(_8);if(!r)return new Date(NaN);const n=!!r[4],s=cu(r[1]),o=cu(r[2])-1,i=cu(r[3]),a=cu(r[4]),c=cu(r[5])-1;if(n)return z8(e,a,c)?D8(e,a,c):new Date(NaN);{const d=new Date(0);return!$8(e,o,i)||!F8(e,s)?new Date(NaN):(d.setUTCFullYear(e,o,Math.max(s,i)),d)}}function cu(t){return t?parseInt(t):1}function A8(t){const e=t.match(T8);if(!e)return NaN;const r=Xx(e[1]),n=Xx(e[2]),s=Xx(e[3]);return B8(r,n,s)?r*h_+n*u_+s*1e3:NaN}function Xx(t){return t&&parseFloat(t.replace(",","."))||0}function I8(t){if(t==="Z")return 0;const e=t.match(R8);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return U8(n,s)?r*(n*h_+s*u_):NaN}function D8(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,o=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const L8=[31,null,31,30,31,30,31,31,30,31,30,31];function j_(t){return t%400===0||t%4===0&&t%100!==0}function $8(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(L8[e]||(j_(t)?29:28))}function F8(t,e){return e>=1&&e<=(j_(t)?366:365)}function z8(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function B8(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function U8(t,e){return e>=0&&e<=59}function E_(t,e){return Gx(t,-1)}function V8(t,e){return m_(t,-1)}const Ae=new Date,Br=Nn(Ae,{weekStartsOn:0}),W8=[{id:"class-1",userId:"user-1",name:"Introduction to Computer Science",code:"CS101",color:"#14b8a6",instructor:"Dr. Sarah Chen",location:"Engineering Hall 201",schedule:[{dayOfWeek:1,startTime:"09:00",endTime:"10:30"},{dayOfWeek:3,startTime:"09:00",endTime:"10:30"}],createdAt:Pe(Ae,30)},{id:"class-2",userId:"user-1",name:"Calculus II",code:"MATH201",color:"#f59e0b",instructor:"Prof. James Miller",location:"Science Building 105",schedule:[{dayOfWeek:2,startTime:"11:00",endTime:"12:30"},{dayOfWeek:4,startTime:"11:00",endTime:"12:30"}],createdAt:Pe(Ae,30)},{id:"class-3",userId:"user-1",name:"Modern Philosophy",code:"PHIL302",color:"#8b5cf6",instructor:"Dr. Emma Thompson",location:"Humanities 301",schedule:[{dayOfWeek:1,startTime:"14:00",endTime:"15:30"},{dayOfWeek:3,startTime:"14:00",endTime:"15:30"},{dayOfWeek:5,startTime:"14:00",endTime:"15:30"}],createdAt:Pe(Ae,30)},{id:"class-4",userId:"user-1",name:"Organic Chemistry",code:"CHEM301",color:"#ec4899",instructor:"Dr. Michael Park",location:"Chemistry Lab 102",schedule:[{dayOfWeek:2,startTime:"09:00",endTime:"10:30"},{dayOfWeek:4,startTime:"09:00",endTime:"10:30"}],createdAt:Pe(Ae,30)}],H8=[{id:"event-1",classId:"class-1",userId:"user-1",title:"Algorithms & Data Structures",date:yt(Br,0),startTime:"09:00",endTime:"10:30",type:"lecture",location:"Engineering Hall 201",notes:[],createdAt:Pe(Ae,7)},{id:"event-2",classId:"class-2",userId:"user-1",title:"Integration Techniques",date:yt(Br,1),startTime:"11:00",endTime:"12:30",type:"lecture",location:"Science Building 105",notes:[],createdAt:Pe(Ae,7)},{id:"event-3",classId:"class-3",userId:"user-1",title:"Kant's Critique of Pure Reason",date:yt(Br,0),startTime:"14:00",endTime:"15:30",type:"lecture",location:"Humanities 301",notes:[],createdAt:Pe(Ae,7)},{id:"event-4",classId:"class-4",userId:"user-1",title:"Stereochemistry",date:yt(Br,1),startTime:"09:00",endTime:"10:30",type:"lecture",location:"Chemistry Lab 102",notes:[],createdAt:Pe(Ae,7)},{id:"event-5",classId:"class-1",userId:"user-1",title:"Recursion & Dynamic Programming",date:yt(Br,2),startTime:"09:00",endTime:"10:30",type:"lecture",location:"Engineering Hall 201",notes:[],createdAt:Pe(Ae,5)},{id:"event-6",classId:"class-3",userId:"user-1",title:"Hegel's Dialectic",date:yt(Br,2),startTime:"14:00",endTime:"15:30",type:"lecture",location:"Humanities 301",notes:[],createdAt:Pe(Ae,5)},{id:"event-7",classId:"class-2",userId:"user-1",title:"Series Convergence",date:yt(Br,3),startTime:"11:00",endTime:"12:30",type:"lecture",location:"Science Building 105",notes:[],createdAt:Pe(Ae,4)},{id:"event-8",classId:"class-4",userId:"user-1",title:"Organic Reactions Lab",date:yt(Br,3),startTime:"09:00",endTime:"10:30",type:"lab",location:"Chemistry Lab 102",notes:[],createdAt:Pe(Ae,4)},{id:"event-9",classId:"class-3",userId:"user-1",title:"Nietzsche & Existentialism",date:yt(Br,4),startTime:"14:00",endTime:"15:30",type:"lecture",location:"Humanities 301",notes:[],createdAt:Pe(Ae,3)},{id:"event-10",classId:"class-1",userId:"user-1",title:"CS101 Midterm Exam",date:yt(Br,7),startTime:"09:00",endTime:"11:00",type:"exam",location:"Engineering Hall 201",notes:[],createdAt:Pe(Ae,14)}],q8=[{id:"note-1",eventId:"event-1",classId:"class-1",userId:"user-1",type:"audio",content:"",audioUrl:"/audio/lecture1.mp3",transcription:`Today we covered algorithms and data structures. Key points:
    
1. **Big O Notation** - We learned about time complexity analysis. O(1) constant, O(n) linear, O(n) quadratic, O(log n) logarithmic.

2. **Arrays vs Linked Lists** - Arrays have O(1) access but O(n) insertion. Linked lists have O(n) access but O(1) insertion at head.

3. **Binary Search** - Only works on sorted arrays. Divides search space in half each iteration. Time complexity: O(log n).

4. **Hash Tables** - Average O(1) for insert, delete, search. Collision handling: chaining vs open addressing.

Professor mentioned this will be heavily tested on the midterm.`,topics:["Big O Notation","Arrays","Linked Lists","Binary Search","Hash Tables"],keywords:["time complexity","data structures","algorithms","midterm"],createdAt:Pe(Ae,7),updatedAt:Pe(Ae,7)},{id:"note-2",eventId:"event-2",classId:"class-2",userId:"user-1",type:"text",content:`## Integration Techniques

### Integration by Parts
Formula: u dv = uv - v du

Remember LIATE for choosing u:
- Logarithmic
- Inverse trig
- Algebraic
- Trigonometric
- Exponential

### Partial Fractions
Used when integrating rational functions P(x)/Q(x)

Steps:
1. Factor denominator completely
2. Set up partial fraction decomposition
3. Solve for coefficients
4. Integrate each term

### Practice Problems
- Problem Set 4.3: #1-15, 22-30
- Due next Thursday`,topics:["Integration by Parts","Partial Fractions","LIATE"],keywords:["calculus","integration","formulas"],createdAt:Pe(Ae,6),updatedAt:Pe(Ae,6)},{id:"note-3",eventId:"event-3",content:"",classId:"class-3",userId:"user-1",type:"audio",transcription:`Kant's Critique of Pure Reason - Key Concepts:

**The Copernican Revolution in Philosophy**
- Kant reversed traditional epistemology
- Instead of mind conforming to objects, objects conform to our mind's structures
- This explains how synthetic a priori knowledge is possible

**Categories of Understanding**
- Quantity: Unity, Plurality, Totality
- Quality: Reality, Negation, Limitation
- Relation: Substance, Causality, Community
- Modality: Possibility, Existence, Necessity

**Phenomena vs Noumena**
- Phenomena: Things as they appear to us
- Noumena: Things in themselves (unknowable)
- We can never know the "thing-in-itself"

Essay due in 2 weeks on the synthetic a priori.`,topics:["Kant","Epistemology","Categories","Phenomena","Noumena"],keywords:["philosophy","critique","knowledge","essay"],createdAt:Pe(Ae,7),updatedAt:Pe(Ae,7)}],K8=[{id:"assign-1",classId:"class-1",userId:"user-1",title:"Algorithm Analysis Problem Set",description:"Complete problems 1-15 from Chapter 4. Show all work for Big O derivations.",dueDate:yt(Ae,3),priority:"high",status:"in-progress",createdAt:Pe(Ae,10)},{id:"assign-2",classId:"class-2",userId:"user-1",title:"Integration Practice Set 4.3",description:"Problems #1-15, 22-30. Focus on integration by parts and partial fractions.",dueDate:yt(Ae,5),priority:"medium",status:"todo",createdAt:Pe(Ae,6)},{id:"assign-3",classId:"class-3",userId:"user-1",title:"Essay: Synthetic A Priori Knowledge",description:"2000-word essay analyzing Kant's argument for synthetic a priori propositions.",dueDate:yt(Ae,14),priority:"high",status:"todo",createdAt:Pe(Ae,7)},{id:"assign-4",classId:"class-4",userId:"user-1",title:"Lab Report: Stereochemistry",description:"Write up results from Thursday's lab. Include all observations and conclusions.",dueDate:yt(Ae,7),priority:"medium",status:"todo",createdAt:Pe(Ae,4)},{id:"assign-5",classId:"class-1",userId:"user-1",title:"Study for CS101 Midterm",description:"Review chapters 1-5. Focus on algorithms, data structures, and time complexity.",dueDate:yt(Ae,7),priority:"high",status:"in-progress",createdAt:Pe(Ae,14)},{id:"assign-6",classId:"class-2",userId:"user-1",title:"Quiz Prep: Series",description:"Review convergence tests for infinite series.",dueDate:yt(Ae,1),priority:"high",status:"in-progress",createdAt:Pe(Ae,3)}],__=[{id:"summary-1",userId:"user-1",classId:"class-1",weekStartDate:Pe(Br,7),weekEndDate:Pe(Br,1),summary:`This week in CS101, we covered fundamental algorithm analysis and core data structures. 

**Key Concepts Learned:**
- Big O notation for analyzing time and space complexity
- Comparison of array vs linked list performance characteristics
- Binary search algorithm and its logarithmic time complexity
- Hash table implementation with collision resolution strategies

**Important for Midterm:**
The professor emphasized that Big O analysis and data structure trade-offs will be heavily tested. Practice identifying time complexity of nested loops and recursive functions.

**Action Items:**
- Complete Problem Set on algorithm analysis
- Review lecture recording on hash tables
- Practice whiteboard problems for common data structures`,keyTopics:["Big O Notation","Data Structures","Binary Search","Hash Tables"],sourceNoteIds:["note-1"],generatedAt:Pe(Ae,1)},{id:"summary-2",userId:"user-1",classId:"class-3",weekStartDate:Pe(Br,7),weekEndDate:Pe(Br,1),summary:`Philosophy 302 this week focused on Kant's revolutionary approach to epistemology.

**Core Ideas:**
- The "Copernican Revolution" in philosophy: objects conform to our minds, not vice versa
- The 12 Categories of Understanding that structure our experience
- The distinction between phenomena (appearances) and noumena (things-in-themselves)

**Essay Preparation:**
The upcoming essay on synthetic a priori knowledge requires understanding how Kant bridges rationalism and empiricism. Key examples: mathematical truths and the principle of causality.

**Reading Notes:**
Focus on Critique of Pure Reason, Introduction and Transcendental Aesthetic sections.`,keyTopics:["Kant","Epistemology","Categories of Understanding","Phenomena vs Noumena"],sourceNoteIds:["note-3"],generatedAt:Pe(Ae,1)}],Ot=wU(t=>({classes:W8,events:H8,notes:q8,assignments:K8,currentDate:new Date,calendarView:"week",selectedDate:null,selectedEvent:null,sidebarOpen:!0,mobileSidebarOpen:!1,searchOpen:!1,searchFilters:{query:"",classIds:[],dateRange:null,types:[],topics:[]},isRecording:!1,focusModeEnabled:!1,setCurrentDate:e=>t({currentDate:e}),setCalendarView:e=>t({calendarView:e}),setSelectedDate:e=>t({selectedDate:e}),setSelectedEvent:e=>t({selectedEvent:e}),toggleSidebar:()=>t(e=>({sidebarOpen:!e.sidebarOpen})),setMobileSidebarOpen:e=>t({mobileSidebarOpen:e}),toggleSearch:()=>t(e=>({searchOpen:!e.searchOpen})),setSearchFilters:e=>t(r=>({searchFilters:{...r.searchFilters,...e}})),setIsRecording:e=>t({isRecording:e}),setFocusMode:e=>t({focusModeEnabled:e}),addNote:e=>t(r=>({notes:[...r.notes,e]})),updateNote:(e,r)=>t(n=>({notes:n.notes.map(s=>s.id===e?{...s,...r}:s)})),addAssignment:e=>t(r=>({assignments:[...r.assignments,e]})),updateAssignment:(e,r)=>t(n=>({assignments:n.assignments.map(s=>s.id===e?{...s,...r}:s)})),addClass:e=>t(r=>({classes:[...r.classes,e]})),addEvent:e=>t(r=>({events:[...r.events,e]})),updateEvent:(e,r)=>t(n=>({events:n.events.map(s=>s.id===e?{...s,...r}:s)}))})),Zx=768;function du(){const[t,e]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Zx-1}px)`),n=()=>{e(window.innerWidth<Zx)};return r.addEventListener("change",n),e(window.innerWidth<Zx),()=>r.removeEventListener("change",n)},[]),!!t}function T_(){const{focusModeEnabled:t,setFocusMode:e}=Ot(),r=m.useCallback(()=>{const n=!t;e(n),n?Se.success("Focus Mode enabled",{description:"In-app notifications are now muted. For full iOS Do Not Disturb, enable it in iOS Settings  Focus.",duration:4e3}):Se("Focus Mode disabled",{description:"Notifications are back on.",duration:2e3})},[t,e]);return m.useEffect(()=>{t?document.body.classList.add("focus-mode-active"):document.body.classList.remove("focus-mode-active")},[t]),{focusModeEnabled:t,toggleFocusMode:r,setFocusMode:e}}const G8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ew extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Y8 extends ew{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class R_ extends ew{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class M_ extends ew{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(tw||(tw={}));class J8{constructor(e,{headers:r={},customFetch:n,region:s=tw.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=G8(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return w6(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:c,body:d,signal:u,timeout:h}=n;let f={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let g;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(f["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(f["Content-Type"]="application/json",g=JSON.stringify(d)):g=d;let y=u;h&&(i=new AbortController,o=setTimeout(()=>i.abort(),h),u?(y=i.signal,u.addEventListener("abort",()=>i.abort())):y=i.signal);const x=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:g,signal:y}).catch(S=>{throw new Y8(S)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new R_(x);if(!x.ok)throw new M_(x);let b=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return b==="application/json"?k=yield x.json():b==="application/octet-stream"||b==="application/pdf"?k=yield x.blob():b==="text/event-stream"?k=x:b==="multipart/form-data"?k=yield x.formData():k=yield x.text(),{data:k,error:null,response:x}}catch(a){return{data:null,error:a,response:a instanceof M_||a instanceof R_?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var Q8=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},X8=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,c=null,d=o.status,u=o.statusText;if(o.ok){var h,f;if(r.method!=="HEAD"){var p;const x=await o.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=x:a=JSON.parse(x))}const g=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),y=(f=o.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");g&&y&&y.length>1&&(c=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,d=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const g=await o.text();try{i=JSON.parse(g),Array.isArray(i)&&o.status===404&&(a=[],i=null,d=200,u="OK")}catch{o.status===404&&g===""?(d=204,u="No Content"):i={message:g}}if(i&&r.isMaybeSingle&&(!(i==null||(v=i.details)===null||v===void 0)&&v.includes("0 rows"))&&(i=null,d=200,u="OK"),i&&r.shouldThrowOnError)throw new Q8(i)}return{error:i,data:a,count:c,status:d,statusText:u}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="";const c=o==null?void 0:o.cause;if(c){var d,u,h,f;const v=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",g=(u=c==null?void 0:c.code)!==null&&u!==void 0?u:"";a=`${(h=o==null?void 0:o.name)!==null&&h!==void 0?h:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${v}`,g&&(a+=` (${g})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var p;a=(p=o==null?void 0:o.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},Z8=class extends X8{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const O_=new RegExp("[,()]");var Kl=class extends Z8{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&O_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&O_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},eV=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new Kl({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((i,a)=>i.concat(Object.keys(a)),[]);if(o.length>0){const i=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",i.join(","))}}return new Kl({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Kl({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Kl({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Kl({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},tV=class mD{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new eV(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new mD(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let a;const c=new URL(`${this.url}/rpc/${e}`);let d;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(a="POST",d=r);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new Kl({method:a,url:c,headers:u,schema:this.schemaName,body:d,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class rV{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const nV="realtime-js/2.88.0",P_="1.0.0",sV="2.0.0",A_=P_,rw=1e4,oV=1e3,iV=100;var Qo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qo||(Qo={}));var Pt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pt||(Pt={}));var Jn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jn||(Jn={}));var nw;(function(t){t.websocket="websocket"})(nw||(nw={}));var ia;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ia||(ia={}));class aV{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,r,n){var s,o;const i=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",d=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+i.length+d.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(p),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,a.length),v.setUint8(g++,i.length),v.setUint8(g++,d.length),v.setUint8(g++,h.length),v.setUint8(g++,r),Array.from(c,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(a,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(i,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(d,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(h,x=>v.setUint8(g++,x.charCodeAt(0)));var y=new Uint8Array(p.byteLength+n.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(n),p.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,o,i,a,c]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(e.slice(c,c+s));c=c+s;const u=n.decode(e.slice(c,c+o));c=c+o;const h=n.decode(e.slice(c,c+i));c=c+i;const f=e.slice(c,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:u,payload:p};return i>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class I_{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ke||(Ke={}));const D_=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=lV(i,t,e,s),o),{}):{}},lV=(t,e,r,n)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?L_(o,i):sw(i)},L_=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return hV(e,r)}switch(t){case Ke.bool:return cV(e);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return dV(e);case Ke.json:case Ke.jsonb:return uV(e);case Ke.timestamp:return fV(e);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return sw(e);default:return sw(e)}},sw=t=>t,cV=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},dV=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uV=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},hV=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>L_(e,a))}return t},fV=t=>typeof t=="string"?t.replace(" ","T"):t,$_=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ow{constructor(e,r,n={},s=rw){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var F_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(F_||(F_={}));class uu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uu.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=uu.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=uu.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),a={},c={};return this.map(o,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const h=o[d];if(h){const f=u.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),v=u.filter(y=>p.indexOf(y.presence_ref)<0),g=h.filter(y=>f.indexOf(y.presence_ref)<0);v.length>0&&(a[d]=v),g.length>0&&(c[d]=g)}else a[d]=u}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var d;const u=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(c),u.length>0){const h=e[a].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}n(a,u,c)}),this.map(i,(a,c)=>{let d=e[a];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=d,s(a,d,c),d.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var z_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(z_||(z_={}));var hu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hu||(hu={}));var to;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(to||(to={}));class Gl{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ow(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new I_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new uu(this),this.broadcastEndpointURL=$_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:i,presence:a,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[hu.PRESENCE]&&this.bindings[hu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(to.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(to.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(to.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,x=[];for(let w=0;w<y;w++){const b=g[w],{filter:{event:k,schema:S,table:N,filter:C}}=b,E=p&&p[w];if(E&&E.event===k&&Gl.isFilterValueEqual(E.schema,S)&&Gl.isFilterValueEqual(E.table,N)&&Gl.isFilterValueEqual(E.filter,C))x.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Pt.errored,e==null||e(to.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(to.SUBSCRIBED);return}}).receive("error",p=>{this.state=Pt.errored,e==null||e(to.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(to.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Pt.joined&&e===hu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const d=await a.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ow(this,Jn.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ow(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>iV){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:c,leave:d,join:u}=Jn;if(n&&[a,c,d,u].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,g,y;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(p=>p.callback(f,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var v,g,y,x,w,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const k=p.id,S=(v=p.filter)===null||v===void 0?void 0:v.event;return k&&((g=r.ids)===null||g===void 0?void 0:g.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(w=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return k==="*"||k===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:g,table:y,commit_timestamp:x,type:w,errors:b}=v;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Gl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jn.close,{},e)}_onError(e){this._on(Jn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=D_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=D_(e.columns,e.old_record)),r}}const iw=()=>{},Op={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pV=[1e3,2e3,5e3,1e4],mV=1e4,gV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vV{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rw,this.transport=null,this.heartbeatIntervalMs=Op.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iw,this.ref=0,this.reconnectTimer=null,this.vsn=A_,this.logger=iw,this.conn=null,this.sendBuffer=[],this.serializer=new aV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${nw.websocket}`,this.httpEndpoint=$_(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rV.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qo.connecting:return ia.Connecting;case Qo.open:return ia.Open;case Qo.closing:return ia.Closing;default:return ia.Closed}}isConnected(){return this.connectionState()===ia.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Gl(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(oV,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Op.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),o),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Qo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qo.open||this.conn.readyState===Qo.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([gV],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:nV};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new I_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Op.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,a,c,d,u,h,f,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:rw,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Op.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:iw,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:A_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:v=>pV[v-1]||mV,this.vsn){case P_:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(v,g)=>g(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,g)=>g(JSON.parse(v));break;case sV:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var fu=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yV(t,e,r){const n=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function xV(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function wV(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const a=yV(t.baseUrl,n,s),c=await xV(t.auth),d=await e(a,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),f=h&&u?JSON.parse(u):u;if(!d.ok){const p=h?f:void 0,v=p==null?void 0:p.error;throw new fu((v==null?void 0:v.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:d.status,headers:d.headers,data:f}}}}function Pp(t){return t.join("")}var bV=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Pp(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pp(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pp(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pp(t.namespace)}`}),!0}catch(e){if(e instanceof fu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof fu&&r.status===409)return;throw r}}};function Yl(t){return t.join("")}var kV=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yl(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yl(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yl(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yl(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yl(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yl(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof fu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof fu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},SV=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=wV({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new bV(this.client,e),this.tableOps=new kV(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ap=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ot(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var NV=class extends Ap{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},aw=class extends Ap{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const lw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CV=()=>Response,cw=t=>{if(Array.isArray(t))return t.map(r=>cw(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=cw(n)}),e},jV=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},EV=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function _V(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TV(t){var e=_V(t,"string");return pu(e)=="symbol"?e:e+""}function RV(t,e,r){return(e=TV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(r),!0).forEach(function(n){RV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const dw=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},MV=async(t,e,r)=>{t instanceof await CV()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,o=(n==null?void 0:n.statusCode)||s+"";e(new NV(dw(n),s,o))}).catch(n=>{e(new aw(dw(n),n))}):e(new aw(dw(t),t))},OV=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(jV(n)?(s.headers=be({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),be(be({},s),r))};async function mu(t,e,r,n,s,o){return new Promise((i,a)=>{t(r,OV(e,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>MV(c,a,n))})}async function gu(t,e,r,n){return mu(t,"GET",e,r,n)}async function Qn(t,e,r,n,s){return mu(t,"POST",e,n,s,r)}async function uw(t,e,r,n,s){return mu(t,"PUT",e,n,s,r)}async function PV(t,e,r,n){return mu(t,"HEAD",e,be(be({},r),{},{noResolveJson:!0}),n)}async function hw(t,e,r,n,s){return mu(t,"DELETE",e,n,s,r)}var AV=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}}};let U_;U_=Symbol.toStringTag;var IV=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[U_]="BlobDownloadBuilder",this.promise=null}asStream(){return new AV(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}}};const DV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},V_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var LV=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=lw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let o;const i=be(be({},V_),n);let a=be(be({},s.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(a=be(be({},a),n.headers));const d=s._removeEmptyFolders(e),u=s._getFinalPath(d),h=await(t=="PUT"?uw:Qn)(s.fetch,`${s.url}/object/${u}`,o,be({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const o=s._removeEmptyFolders(t),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);a.searchParams.set("token",e);try{let c;const d=be({upsert:V_.upsert},n),u=be(be({},s.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType),{data:{path:o,fullPath:(await uw(s.fetch,a.toString(),c,{headers:u})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(ot(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=be({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const o=await Qn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),a=i.searchParams.get("token");if(!a)throw new Ap("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Qn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await Qn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),o=await Qn(n.fetch,`${n.url}/object/sign/${s}`,be({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await Qn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>be(be({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(t),i=()=>gu(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new IV(i,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:cw(await gu(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await PV(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ot(n)&&n instanceof aw){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});i!==""&&n.push(i);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await hw(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=be(be(be({},DV),e),{},{prefix:t||""});return{data:await Qn(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=be({},t);return{data:await Qn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const W_="2.88.0",H_={"X-Client-Info":`storage-js/${W_}`};var $V=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=be(be({},H_),e),this.fetch=lw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await gu(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await gu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Qn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await uw(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Qn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await hw(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},FV=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=be(be({},H_),e),this.fetch=lw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Qn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await gu(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await hw(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!EV(t))throw new Ap("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new SV({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const fw={"X-Client-Info":`storage-js/${W_}`,"Content-Type":"application/json"};var q_=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function sn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var pw=class extends q_{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zV=class extends q_{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const mw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BV=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},K_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UV=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new pw(K_(o),n,i))}).catch(()=>{const o=n+"";e(new pw(s.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new pw(s.statusText||`HTTP ${n} error`,n,o))}}else e(new zV(K_(t),t))},VV=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(BV(n)?(s.headers=be({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,be(be({},s),r)):s};async function WV(t,e,r,n,s,o){return new Promise((i,a)=>{t(r,VV(e,n,s,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>UV(c,a,n))})}async function on(t,e,r,n,s){return WV(t,"POST",e,n,s,r)}var HV=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=be(be({},fw),e),this.fetch=mw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await on(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await on(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}}},qV=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=be(be({},fw),e),this.fetch=mw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await on(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await on(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await on(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}},KV=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=be(be({},fw),e),this.fetch=mw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await on(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}}},GV=class extends KV{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new YV(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},YV=class extends HV{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new JV(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},JV=class extends qV{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,be(be({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},QV=class extends $V{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new LV(this.url,this.headers,t,this.fetch)}get vectors(){return new GV(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new FV(this.url+"/iceberg",this.headers,this.fetch)}};const G_="2.88.0",Jl=30*1e3,gw=3,vw=gw*Jl,XV="http://localhost:9999",ZV="supabase.auth.token",eW={"X-Client-Info":`gotrue-js/${G_}`},yw="X-Supabase-Api-Version",Y_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rW=10*60*1e3;class vu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function he(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nW extends vu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sW(t){return he(t)&&t.name==="AuthApiError"}class aa extends vu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ro extends vu{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class an extends ro{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oW(t){return he(t)&&t.name==="AuthSessionMissingError"}class Ql extends ro{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ip extends ro{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dp extends ro{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iW(t){return he(t)&&t.name==="AuthImplicitGrantRedirectError"}class J_ extends ro{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aW extends ro{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class xw extends ro{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ww(t){return he(t)&&t.name==="AuthRetryableFetchError"}class Q_ extends ro{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bw extends ro{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X_=` 	
\r=`.split(""),lW=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<X_.length;e+=1)t[X_[e].charCodeAt(0)]=-2;for(let e=0;e<Lp.length;e+=1)t[Lp[e].charCodeAt(0)]=e;return t})();function Z_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Lp[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Lp[n]),e.queuedBits-=6}}function e2(t,e,r){const n=lW[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function t2(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{uW(i,n,r)};for(let i=0;i<t.length;i+=1)e2(t.charCodeAt(i),s,o);return e.join("")}function cW(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function dW(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}cW(n,e)}}function uW(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Xl(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)e2(t.charCodeAt(s),r,n);return new Uint8Array(e)}function hW(t){const e=[];return dW(t,r=>e.push(r)),new Uint8Array(e)}function la(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Z_(s,r,n)),Z_(null,r,n),e.join("")}function fW(t){return Math.round(Date.now()/1e3)+t}function pW(){return Symbol("auth-callback")}const rr=()=>typeof window<"u"&&typeof document<"u",ca={tested:!1,writable:!1},r2=()=>{if(!rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ca.tested)return ca.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ca.tested=!0,ca.writable=!0}catch{ca.tested=!0,ca.writable=!1}return ca.writable};function mW(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const n2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gW=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},da=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nr=async(t,e)=>{await t.removeItem(e)};class $p{constructor(){this.promise=new $p.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$p.promiseConstructor=Promise;function kw(t){const e=t.split(".");if(e.length!==3)throw new bw("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!tW.test(e[n]))throw new bw("JWT not in base64url format");return{header:JSON.parse(t2(e[0])),payload:JSON.parse(t2(e[1])),signature:Xl(e[2]),raw:{header:e[0],payload:e[1]}}}async function vW(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yW(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function xW(t){return("0"+t.toString(16)).substr(-2)}function wW(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,xW).join("")}async function bW(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function kW(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await bW(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ec(t,e,r=!1){const n=wW();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Zl(t,`${e}-code-verifier`,s);const o=await kW(n);return[o,n===o?"plain":"s256"]}const SW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NW(t){const e=t.headers.get(yw);if(!e||!e.match(SW))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CW(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jW(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tc(t){if(!EW.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sw(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _W(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function s2(t){return JSON.parse(JSON.stringify(t))}const ua=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TW=[502,503,504];async function o2(t){var e;if(!gW(t))throw new xw(ua(t),0);if(TW.includes(t.status))throw new xw(ua(t),t.status);let r;try{r=await t.json()}catch(o){throw new aa(ua(o),o)}let n;const s=NW(t);if(s&&s.getTime()>=Y_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Q_(ua(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new an}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Q_(ua(r),t.status,r.weak_password.reasons);throw new nW(ua(r),t.status||500,n)}const RW=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ke(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[yw]||(o[yw]=Y_["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await MW(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function MW(t,e,r,n,s,o){const i=RW(e,n,s,o);let a;try{a=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new xw(ua(c),0)}if(a.ok||await o2(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await o2(c)}}function Xn(t){var e;let r=null;AW(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fW(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function i2(t){const e=Xn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function OW(t){return{data:t,error:null}}function PW(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=zl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function a2(t){return t}function AW(t){return t.access_token&&t.refresh_token&&t.expires_in}const Nw=["global","local","others"];class IW{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=n2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Nw[0]){if(Nw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nw.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xo})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=zl(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:PW,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(he(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xo})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,a,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:a2});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(he(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){tc(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xo})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){tc(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Xo})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){tc(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xo})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){tc(e.userId);try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteFactor(e){tc(e.userId),tc(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,i,a,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:a2});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(he(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}}function l2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const rc={debug:!!(globalThis&&r2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class DW extends c2{}async function LW(t,e,r){rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),rc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new DW(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(rc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $W(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function d2(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function FW(t){return parseInt(t,16)}function zW(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function BW(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:c,resources:d,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=d2(t.address),v=u?`${u}://${n}`:n,g=t.statement?`${t.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${p}

${g}`;let x=`URI: ${h}
Version: ${f}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),a&&(x+=`
Not Before: ${a.toISOString()}`),c&&(x+=`
Request ID: ${c}`),d){let w=`
Resources:`;for(const b of d){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}x+=w}return`${y}
${x}`}class bt extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Fp extends bt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function UW({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new bt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(u2(i)){if(o.rp.id!==i)return new bt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function VW({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new bt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(u2(n)){if(r.rpId!==n)return new bt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WW{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const HW=new WW;function qW(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=zl(t,["challenge","user","excludeCredentials"]),o=Xl(e).buffer,i=Object.assign(Object.assign({},r),{id:Xl(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Xl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function KW(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=zl(t,["challenge","allowCredentials"]),s=Xl(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Xl(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function GW(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:la(new Uint8Array(t.response.attestationObject)),clientDataJSON:la(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function YW(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:la(new Uint8Array(s.authenticatorData)),clientDataJSON:la(new Uint8Array(s.clientDataJSON)),signature:la(new Uint8Array(s.signature)),userHandle:s.userHandle?la(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function u2(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function h2(){var t,e;return!!(rr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function JW(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fp("Browser returned unexpected credential type",e)}:{data:null,error:new Fp("Empty credential response",e)}}catch(e){return{data:null,error:UW({error:e,options:t})}}}async function QW(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fp("Browser returned unexpected credential type",e)}:{data:null,error:new Fp("Empty credential response",e)}}catch(e){return{data:null,error:VW({error:e,options:t})}}}const XW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zp(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(e(i)){const a=n[o];e(a)?n[o]=zp(a,i):n[o]=zp(i)}else n[o]=i}return n}function eH(t,e){return zp(XW,t,e||{})}function tH(t,e){return zp(ZW,t,e||{})}class rH{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!i)return{data:null,error:a};const c=s??HW.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:d}=i.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(i.webauthn.type){case"create":{const d=eH(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:u,error:h}=await JW({publicKey:d,signal:c});return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=tH(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:u,error:h}=await QW(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(i){return he(i)?{data:null,error:i}:{data:null,error:new aa("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new vu("rpId is required for WebAuthn authentication")};try{if(!h2())return{data:null,error:new aa("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:c}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return he(i)?{data:null,error:i}:{data:null,error:new aa("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new vu("rpId is required for WebAuthn registration")};try{if(!h2())return{data:null,error:new aa("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:c,error:d}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(i){return he(i)?{data:null,error:i}:{data:null,error:new aa("Unexpected error in register",i)}}}}$W();const nH={url:XV,storageKey:ZV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function f2(t,e,r){return await r()}const nc={};class yu{get jwks(){var e,r;return(r=(e=nc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=nc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},nH),e);if(this.storageKey=o.storageKey,this.instanceID=(r=yu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,yu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&rr()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new IW({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=n2(o.fetch),this.lock=o.lock||f2,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&rr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=LW:this.lock=f2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:r2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=l2(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=l2(this.memoryStorage)),rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${G_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(rr()&&(r=mW(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),rr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),iW(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return he(r)?this._returnResult({error:r}):this._returnResult({error:new aa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xn}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(o){if(he(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ec(this.storage,this.storageKey)),o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:Xn})}else if("phone"in e){const{phone:u,password:h,options:f}=e;o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xn})}else throw new Ip("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await nr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(o){if(await nr(this.storage,`${this.storageKey}-code-verifier`),he(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:i2})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:i2})}else throw new Ip("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new Ql;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,i,a,c,d,u,h,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:g,wallet:y,statement:x,options:w}=e;let b;if(rr())if(typeof y=="object")b=y;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")b=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const k=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=d2(S[0]);let C=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const j=await b.request({method:"eth_chainId"});C=FW(j)}const E={domain:k.host,address:N,statement:x,uri:k.href,version:"1",chainId:C,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=BW(E),v=await b.request({method:"personal_sign",params:[zW(p),N]})}try{const{data:g,error:y}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Xn});if(y)throw y;if(!g||!g.session||!g.user){const x=new Ql;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(he(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,n,s,o,i,a,c,d,u,h,f,p;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:y,wallet:x,statement:w,options:b}=e;let k;if(rr())if(typeof x=="object")k=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))k=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const N=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:y,error:x}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:la(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Xn});if(x)throw x;if(!y||!y.session||!y.user){const w=new Ql;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(he(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await da(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new aW;const{data:o,error:i}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Xn});if(await nr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new Ql;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await nr(this.storage,`${this.storageKey}-code-verifier`),he(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,a=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xn}),{data:c,error:d}=a;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new Ql;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:a,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await ec(this.storage,this.storageKey));const{error:h}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:c}=e,{data:d,error:u}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new Ip("You must provide either an email or phone number.")}catch(a){if(await nr(this.storage,`${this.storageKey}-code-verifier`),he(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Xn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,o,i;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await ec(this.storage,this.storageKey));const d=await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:OW});return!((o=d.data)===null||o===void 0)&&o.url&&rr()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(a){if(await nr(this.storage,`${this.storageKey}-code-verifier`),he(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new an;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(he(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:a}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new Ip("You must provide either an email or phone number and a type")}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<vw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await da(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Sw()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=_W(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xo}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new an}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Xo})})}catch(r){if(he(r))return oW(r)&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new an;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await ec(this.storage,this.storageKey));const{data:d,error:u}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:Xo});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await nr(this.storage,`${this.storageKey}-code-verifier`),he(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new an;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=kw(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(he(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new an;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!rr())throw new Dp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new J_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new J_("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:d}=e;if(!o||!a||!i||!d)throw new Dp("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;c&&(f=parseInt(c));const p=f-u;p*1e3<=Jl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:g,error:y}=await this._getUser(o);if(y)throw y;const x={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(n){if(he(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await da(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(sW(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=pW(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ec(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await nr(this.storage,`${this.storageKey}-code-verifier`),he(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,d,u;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return rr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(he(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:c,access_token:d,nonce:u}=e,h=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Xn}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Ql}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await nr(this.storage,`${this.storageKey}-code-verifier`),he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yW(async s=>(s>0&&await vW(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ww(o)&&Date.now()+i-n<Jl})}catch(n){if(this._debug(r,"error",n),he(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),rr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await da(this.storage,this.storageKey);if(s&&this.userStorage){let i=await da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Zl(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Sw()}else if(s&&!s.user&&!s.user){const i=await da(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await nr(this.storage,this.storageKey+"-user"),await Zl(this.storage,this.storageKey,s)):s.user=Sw()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vw;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${vw}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ww(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new an;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $p;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new an;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),he(o)){const i={data:null,error:o};return ww(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await nr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=s2(s);await Zl(this.storage,this.storageKey,o)}else{const s=s2(r);await Zl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nr(this.storage,this.storageKey),await nr(this.storage,this.storageKey+"-code-verifier"),await nr(this.storage,this.storageKey+"-user"),this.userStorage&&await nr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Jl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Jl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Jl}ms, refresh threshold is ${gw} ticks`),s<=gw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof c2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await ec(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?GW(e.webauthn.credential_response):YW(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:qW(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:KW(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=kw(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new an})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new an});const i=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&rr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new an});const i=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&rr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ke(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new an})})}catch(e){if(he(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ke(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new an})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+rW>s)return n;const{data:o,error:i}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=kw(n);r!=null&&r.allowExpired||CW(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=jW(s.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,hW(`${a}.${c}`)))throw new bw("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}}yu.nextInstanceID={};const sH=yu,oH="2.88.0";let xu="";typeof Deno<"u"?xu="deno":typeof document<"u"?xu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xu="react-native":xu="node";const iH={headers:{"X-Client-Info":`supabase-js-${xu}/${oH}`}},aH={schema:"public"},lH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cH={};function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function dH(t,e){if(wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uH(t){var e=dH(t,"string");return wu(e)=="symbol"?e:e+""}function hH(t,e,r){return(e=uH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(r),!0).forEach(function(n){hH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const fH=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pH=()=>Headers,mH=(t,e,r)=>{const n=fH(r),s=pH();return async(o,i)=>{var a;const c=(a=await e())!==null&&a!==void 0?a:t;let d=new s(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(o,ct(ct({},i),{},{headers:d}))}};function gH(t){return t.endsWith("/")?t:t+"/"}function vH(t,e){var r,n;const{db:s,auth:o,realtime:i,global:a}=t,{db:c,auth:d,realtime:u,global:h}=e,f={db:ct(ct({},c),s),auth:ct(ct({},d),o),realtime:ct(ct({},u),i),storage:{},global:ct(ct(ct({},h),a),{},{headers:ct(ct({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function yH(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gH(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var xH=class extends sH{constructor(t){super(t)}},wH=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const o=yH(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:aH,realtime:cH,auth:ct(ct({},lH),{},{storageKey:i}),global:iH},c=vH(r??{},a);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=mH(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new tV(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new QV(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new J8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:a,debug:c,throwOnError:d},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xH({url:this.authUrl.href,headers:ct(ct({},f),u),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:a,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new vV(this.realtimeUrl.href,ct(ct({},t),{},{params:ct(ct({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const bH=(t,e,r)=>new wH(t,e,r);function kH(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const q=bH("https://jqoaxvwjqgjxmenvuwql.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impxb2F4dndqcWdqeG1lbnZ1d3FsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwOTUxMTYsImV4cCI6MjA4NjY3MTExNn0.0em4louFIEQkjQwCvudwxWQILppMpGcPtWTIwd1yvQw",{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),jn=new Date().toISOString(),SH=[{id:"sample-1",user_id:"demo-user",name:"Introduction to Computer Science",code:"CS101",professor_name:"Dr. Sarah Chen",professor_email:"schen@university.edu",color:"#14b8a6",meeting_days:[1,3],start_time:"09:00",end_time:"10:30",location:"Engineering Hall 201",timezone:"America/New_York",semester_start:"2025-01-13",semester_end:"2025-05-02",section_number:"001",office_hours_day:"Wednesday",office_hours_time:"2:00 PM - 4:00 PM",office_hours_location:"Engineering 305",class_website:null,notes:null,syllabus_url:null,syllabus_parsed_at:null,created_at:jn,updated_at:jn},{id:"sample-2",user_id:"demo-user",name:"Calculus II",code:"MATH201",professor_name:"Prof. James Miller",professor_email:"jmiller@university.edu",color:"#f59e0b",meeting_days:[2,4],start_time:"11:00",end_time:"12:30",location:"Science Building 105",timezone:"America/New_York",semester_start:"2025-01-13",semester_end:"2025-05-02",section_number:"002",office_hours_day:"Thursday",office_hours_time:"1:00 PM - 3:00 PM",office_hours_location:"Science 210",class_website:null,notes:null,syllabus_url:null,syllabus_parsed_at:null,created_at:jn,updated_at:jn},{id:"sample-3",user_id:"demo-user",name:"Modern Philosophy",code:"PHIL302",professor_name:"Dr. Emma Thompson",professor_email:"ethompson@university.edu",color:"#8b5cf6",meeting_days:[1,3,5],start_time:"14:00",end_time:"15:30",location:"Humanities 301",timezone:"America/New_York",semester_start:"2025-01-13",semester_end:"2025-05-02",section_number:null,office_hours_day:"Tuesday",office_hours_time:"10:00 AM - 12:00 PM",office_hours_location:"Humanities 205",class_website:null,notes:null,syllabus_url:null,syllabus_parsed_at:null,created_at:jn,updated_at:jn},{id:"sample-4",user_id:"demo-user",name:"Organic Chemistry",code:"CHEM301",professor_name:"Dr. Michael Park",professor_email:"mpark@university.edu",color:"#ec4899",meeting_days:[2,4],start_time:"09:00",end_time:"10:30",location:"Chemistry Lab 102",timezone:"America/New_York",semester_start:"2025-01-13",semester_end:"2025-05-02",section_number:"A",office_hours_day:"Monday",office_hours_time:"3:00 PM - 5:00 PM",office_hours_location:"Chemistry 150",class_website:null,notes:null,syllabus_url:null,syllabus_parsed_at:null,created_at:jn,updated_at:jn},{id:"sample-5",user_id:"demo-user",name:"Introduction to Psychology",code:"PSYCH101",professor_name:"Dr. Lisa Rodriguez",professor_email:"lrodriguez@university.edu",color:"#6366f1",meeting_days:[1,4],start_time:"10:00",end_time:"11:30",location:"Social Sciences 201",timezone:"America/New_York",semester_start:"2025-01-13",semester_end:"2025-05-02",section_number:"001",office_hours_day:"Wednesday",office_hours_time:"9:00 AM - 11:00 AM",office_hours_location:"Social Sciences 315",class_website:null,notes:null,syllabus_url:null,syllabus_parsed_at:null,created_at:jn,updated_at:jn},{id:"sample-6",user_id:"demo-user",name:"Principles of Economics",code:"ECON201",professor_name:"Prof. David Kim",professor_email:"dkim@university.edu",color:"#22c55e",meeting_days:[2,5],start_time:"13:00",end_time:"14:30",location:"Business Hall 104",timezone:"America/New_York",semester_start:"2025-01-13",semester_end:"2025-05-02",section_number:"003",office_hours_day:"Friday",office_hours_time:"11:00 AM - 1:00 PM",office_hours_location:"Business 220",class_website:null,notes:null,syllabus_url:null,syllabus_parsed_at:null,created_at:jn,updated_at:jn}];function ha(){const{toast:t}=gs(),e=Ll(),r=wn({queryKey:["classes"],queryFn:async()=>{const{data:{user:a}}=await q.auth.getUser();if(!a)return SH;const{data:c,error:d}=await q.from("classes").select("*").eq("user_id",a.id).order("created_at",{ascending:!1});if(d)throw d;return c}}),n=(a,c,d,u,h,f,p,v)=>{const g=[],y=lu(p),x=lu(v);let w=y;for(;C8(w,x)||me(w,"yyyy-MM-dd")===me(x,"yyyy-MM-dd");){const b=N8(w);d.includes(b)&&g.push({class_id:a,user_id:c,session_date:me(w,"yyyy-MM-dd"),start_time:u,end_time:h,location:f,topics:[],attendance:"pending",notes:null,calendar_event_id:null}),w=yt(w,1)}return g},s=ra({mutationFn:async a=>{const{data:{user:c}}=await q.auth.getUser();if(!c)throw new Error("Not authenticated");const{data:d,error:u}=await q.from("classes").insert({user_id:c.id,name:a.name,code:a.code||null,professor_name:a.professor_name,professor_email:a.professor_email||null,color:a.color,meeting_days:a.meeting_days,start_time:a.start_time,end_time:a.end_time,location:a.location,timezone:a.timezone,semester_start:a.semester_start,semester_end:a.semester_end,section_number:a.section_number||null,office_hours_day:a.office_hours_day||null,office_hours_time:a.office_hours_time||null,office_hours_location:a.office_hours_location||null,class_website:a.class_website||null,notes:a.notes||null}).select().single();if(u)throw u;const h=n(d.id,c.id,a.meeting_days,a.start_time,a.end_time,a.location,a.semester_start,a.semester_end);if(h.length>0){const{error:f}=await q.from("sessions").insert(h);f&&console.error("Error creating sessions:",f)}return d},onSuccess:()=>{e.invalidateQueries({queryKey:["classes"]}),e.invalidateQueries({queryKey:["sessions"]}),t({title:"Class created",description:"Your class and sessions have been added."})},onError:a=>{t({title:"Failed to create class",description:a.message,variant:"destructive"})}}),o=ra({mutationFn:async({id:a,...c})=>{const{data:d,error:u}=await q.from("classes").update(c).eq("id",a).select().single();if(u)throw u;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["classes"]}),t({title:"Class updated"})},onError:a=>{t({title:"Failed to update class",description:a.message,variant:"destructive"})}}),i=ra({mutationFn:async a=>{if(a.startsWith("sample-"))return;const{error:c}=await q.from("classes").delete().eq("id",a);if(c)throw c},onSuccess:(a,c)=>{c.startsWith("sample-")?e.setQueryData(["classes"],d=>d?d.filter(u=>u.id!==c):[]):(e.invalidateQueries({queryKey:["classes"]}),e.invalidateQueries({queryKey:["sessions"]}),e.invalidateQueries({queryKey:["deadlines"]})),t({title:"Class deleted"})},onError:a=>{t({title:"Failed to delete class",description:a.message,variant:"destructive"})}});return{classes:r.data??[],isLoading:r.isLoading,error:r.error,createClass:s.mutate,updateClass:o.mutate,deleteClass:i.mutate,isCreating:s.isPending,isUpdating:o.isPending,isDeleting:i.isPending}}function NH(t){const e=Ll(),{toast:r}=gs(),n=wn({queryKey:["class",t],queryFn:async()=>{if(!t)return null;const{data:f,error:p}=await q.from("classes").select("*").eq("id",t).maybeSingle();if(p)throw p;return f},enabled:!!t}),s=wn({queryKey:["sessions",t],queryFn:async()=>{if(!t)return[];const{data:f,error:p}=await q.from("sessions").select("*").eq("class_id",t).order("session_date",{ascending:!0});if(p)throw p;return f},enabled:!!t}),o=wn({queryKey:["deadlines",t],queryFn:async()=>{if(!t)return[];const{data:f,error:p}=await q.from("deadlines").select("*").eq("class_id",t).order("due_date",{ascending:!0});if(p)throw p;return f},enabled:!!t}),i=wn({queryKey:["class-todos",t],queryFn:async()=>{if(!t)return[];const{data:f,error:p}=await q.from("class_todos").select("*").eq("class_id",t).order("created_at",{ascending:!1});if(p)throw p;return f},enabled:!!t}),a=wn({queryKey:["class-notes",t],queryFn:async()=>{if(!t)return[];const{data:f,error:p}=await q.from("notes").select("*").eq("class_id",t).order("created_at",{ascending:!1});if(p)throw p;return f},enabled:!!t}),c=ra({mutationFn:async f=>{const{data:p,error:v}=await q.from("deadlines").insert(f).select().single();if(v)throw v;return p},onSuccess:()=>{e.invalidateQueries({queryKey:["deadlines",t]}),r({title:"Deadline added"})}}),d=ra({mutationFn:async({id:f,...p})=>{const{data:v,error:g}=await q.from("deadlines").update(p).eq("id",f).select().single();if(g)throw g;return v},onSuccess:()=>{e.invalidateQueries({queryKey:["deadlines",t]})}}),u=ra({mutationFn:async f=>{const{data:p,error:v}=await q.from("class_todos").insert(f).select().single();if(v)throw v;return p},onSuccess:()=>{e.invalidateQueries({queryKey:["class-todos",t]}),r({title:"To-do added"})}}),h=ra({mutationFn:async({id:f,...p})=>{const{data:v,error:g}=await q.from("class_todos").update(p).eq("id",f).select().single();if(g)throw g;return v},onSuccess:()=>{e.invalidateQueries({queryKey:["class-todos",t]})}});return{classData:n.data,sessions:s.data??[],deadlines:o.data??[],todos:i.data??[],notes:a.data??[],isLoading:n.isLoading||s.isLoading||o.isLoading,addDeadline:c.mutate,updateDeadline:d.mutate,addTodo:u.mutate,updateTodo:h.mutate}}const Bp=qx,CH=Kx,m2=m.forwardRef(({className:t,...e},r)=>l.jsx(ru,{className:U("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));m2.displayName=ru.displayName;const jH=Nl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bu=m.forwardRef(({side:t="right",className:e,children:r,...n},s)=>l.jsxs(CH,{children:[l.jsx(m2,{}),l.jsxs(nu,{ref:s,className:U(jH({side:t}),e),...n,children:[r,l.jsxs(s_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Wd,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bu.displayName=nu.displayName;const ku=({className:t,...e})=>l.jsx("div",{className:U("flex flex-col space-y-2 text-center sm:text-left",t),...e});ku.displayName="SheetHeader";const Up=m.forwardRef(({className:t,...e},r)=>l.jsx(Ep,{ref:r,className:U("text-lg font-semibold text-foreground",t),...e}));Up.displayName=Ep.displayName;const EH=m.forwardRef(({className:t,...e},r)=>l.jsx(_p,{ref:r,className:U("text-sm text-muted-foreground",t),...e}));EH.displayName=_p.displayName;const Ce=m.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,className:U("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-colors",t),ref:n,...r}));Ce.displayName="Input";var _H=m.createContext(void 0);function fa(t){const e=m.useContext(_H);return t||e||"ltr"}var Cw="rovingFocusGroup.onEntryFocus",TH={bubbles:!1,cancelable:!0},Su="RovingFocusGroup",[jw,g2,RH]=Ld(Su),[MH,sc]=Ft(Su,[RH]),[OH,PH]=MH(Su),v2=m.forwardRef((t,e)=>l.jsx(jw.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(jw.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(AH,{...t,ref:e})})}));v2.displayName=Su;var AH=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=m.useRef(null),p=we(e,f),v=fa(o),[g,y]=Wn({prop:i,defaultProp:a??null,onChange:c,caller:Su}),[x,w]=m.useState(!1),b=at(d),k=g2(r),S=m.useRef(!1),[N,C]=m.useState(0);return m.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(Cw,b),()=>E.removeEventListener(Cw,b)},[b]),l.jsx(OH,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(E=>y(E),[y]),onItemShiftTab:m.useCallback(()=>w(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>C(E=>E-1),[]),children:l.jsx(se.div,{tabIndex:x||N===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:Q(t.onMouseDown,()=>{S.current=!0}),onFocus:Q(t.onFocus,E=>{const j=!S.current;if(E.target===E.currentTarget&&j&&!x){const _=new CustomEvent(Cw,TH);if(E.currentTarget.dispatchEvent(_),!_.defaultPrevented){const P=k().filter(F=>F.focusable),T=P.find(F=>F.active),A=P.find(F=>F.id===g),L=[T,A,...P].filter(Boolean).map(F=>F.ref.current);w2(L,u)}}S.current=!1}),onBlur:Q(t.onBlur,()=>w(!1))})})}),y2="RovingFocusGroupItem",x2=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=t,c=hr(),d=o||c,u=PH(y2,r),h=u.currentTabStopId===d,f=g2(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=u;return m.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),l.jsx(jw.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:l.jsx(se.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Q(t.onMouseDown,y=>{n?u.onItemFocus(d):y.preventDefault()}),onFocus:Q(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:Q(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=LH(y,u.orientation,u.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=f().filter(k=>k.focusable).map(k=>k.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const k=b.indexOf(y.currentTarget);b=u.loop?$H(b,k+1):b.slice(k+1)}setTimeout(()=>w2(b))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:g!=null}):i})})});x2.displayName=y2;var IH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function LH(t,e,r){const n=DH(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return IH[n]}function w2(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function $H(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Ew=v2,_w=x2,Vp="Tabs",[FH]=Ft(Vp,[sc]),b2=sc(),[zH,Tw]=FH(Vp),k2=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...d}=t,u=fa(a),[h,f]=Wn({prop:n,onChange:s,defaultProp:o??"",caller:Vp});return l.jsx(zH,{scope:r,baseId:hr(),value:h,onValueChange:f,orientation:i,dir:u,activationMode:c,children:l.jsx(se.div,{dir:u,"data-orientation":i,...d,ref:e})})});k2.displayName=Vp;var S2="TabsList",N2=m.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=Tw(S2,r),i=b2(r);return l.jsx(Ew,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(se.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});N2.displayName=S2;var C2="TabsTrigger",j2=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,i=Tw(C2,r),a=b2(r),c=T2(i.baseId,n),d=R2(i.baseId,n),u=n===i.value;return l.jsx(_w,{asChild:!0,...a,focusable:!s,active:u,children:l.jsx(se.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:Q(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:Q(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:Q(t.onFocus,()=>{const h=i.activationMode!=="manual";!u&&!s&&h&&i.onValueChange(n)})})})});j2.displayName=C2;var E2="TabsContent",_2=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=t,a=Tw(E2,r),c=T2(a.baseId,n),d=R2(a.baseId,n),u=n===a.value,h=m.useRef(u);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(er,{present:s||u,children:({present:f})=>l.jsx(se.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&o})})});_2.displayName=E2;function T2(t,e){return`${t}-trigger-${e}`}function R2(t,e){return`${t}-content-${e}`}var BH=k2,M2=N2,O2=j2,P2=_2;const no=BH,ks=m.forwardRef(({className:t,...e},r)=>l.jsx(M2,{ref:r,className:U("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ks.displayName=M2.displayName;const Ze=m.forwardRef(({className:t,...e},r)=>l.jsx(O2,{ref:r,className:U("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Ze.displayName=O2.displayName;const et=m.forwardRef(({className:t,...e},r)=>l.jsx(P2,{ref:r,className:U("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));et.displayName=P2.displayName;function sr(t){this.content=t}sr.prototype={constructor:sr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,s=n.find(t),o=n.content.slice();return s==-1?o.push(r||t,e):(o[s+1]=e,r&&(o[s]=r)),new sr(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new sr(r)},addToStart:function(t,e){return new sr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new sr(r)},addBefore:function(t,e,r){var n=this.remove(e),s=n.content.slice(),o=n.find(t);return s.splice(o==-1?s.length:o,0,e,r),new sr(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=sr.from(t),t.size?new sr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=sr.from(t),t.size?new sr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=sr.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}},sr.from=function(t){if(t instanceof sr)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new sr(e)};function A2(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let s=t.child(n),o=e.child(n);if(s==o){r+=s.nodeSize;continue}if(!s.sameMarkup(o))return r;if(s.isText&&s.text!=o.text){for(let i=0;s.text[i]==o.text[i];i++)r++;return r}if(s.content.size||o.content.size){let i=A2(s.content,o.content,r+1);if(i!=null)return i}r+=s.nodeSize}}function I2(t,e,r,n){for(let s=t.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:r,b:n};let i=t.child(--s),a=e.child(--o),c=i.nodeSize;if(i==a){r-=c,n-=c;continue}if(!i.sameMarkup(a))return{a:r,b:n};if(i.isText&&i.text!=a.text){let d=0,u=Math.min(i.text.length,a.text.length);for(;d<u&&i.text[i.text.length-d-1]==a.text[a.text.length-d-1];)d++,r--,n--;return{a:r,b:n}}if(i.content.size||a.content.size){let d=I2(i.content,a.content,r-1,n-1);if(d)return d}r-=c,n-=c}}class Y{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,s=0,o){for(let i=0,a=0;a<r;i++){let c=this.content[i],d=a+c.nodeSize;if(d>e&&n(c,s+a,o||null,i)!==!1&&c.content.size){let u=a+1;c.nodesBetween(Math.max(0,e-u),Math.min(c.content.size,r-u),n,s+u)}a=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,s){let o="",i=!0;return this.nodesBetween(e,r,(a,c)=>{let d=a.isText?a.text.slice(Math.max(e,c)-c,r-c):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&d||a.isTextblock)&&n&&(i?i=!1:o+=n),o+=d},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,s=this.content.slice(),o=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new Y(s,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],s=0;if(r>e)for(let o=0,i=0;i<r;o++){let a=this.content[o],c=i+a.nodeSize;c>e&&((i<e||c>r)&&(a.isText?a=a.cut(Math.max(0,e-i),Math.min(a.text.length,r-i)):a=a.cut(Math.max(0,e-i-1),Math.min(a.content.size,r-i-1))),n.push(a),s+=a.nodeSize),i=c}return new Y(n,s)}cutByIndex(e,r){return e==r?Y.empty:e==0&&r==this.content.length?this:new Y(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let s=this.content.slice(),o=this.size+r.nodeSize-n.nodeSize;return s[e]=r,new Y(s,o)}addToStart(e){return new Y([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Y(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];e(s,n,r),n+=s.nodeSize}}findDiffStart(e,r=0){return A2(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return I2(this,e,r,n)}findIndex(e){if(e==0)return Wp(0,e);if(e==this.size)return Wp(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let s=this.child(r),o=n+s.nodeSize;if(o>=e)return o==e?Wp(r+1,o):Wp(r,n);n=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Y.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Y(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Y.empty;let r,n=0;for(let s=0;s<e.length;s++){let o=e[s];n+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(r||(r=e.slice(0,s)),r[r.length-1]=o.withText(r[r.length-1].text+o.text)):r&&r.push(o)}return new Y(r||e,n)}static from(e){if(!e)return Y.empty;if(e instanceof Y)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Y([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Y.empty=new Y([],0);const Rw={index:0,offset:0};function Wp(t,e){return Rw.index=t,Rw.offset=e,Rw}function Hp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Hp(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Hp(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Ve=class d1{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))r||(r=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),n=!0),r&&r.push(o)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Hp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return d1.none;if(e instanceof d1)return[e];let r=e.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};Ve.none=[];class qp extends Error{}class oe{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=L2(this.content,e+this.openStart,r);return n&&new oe(n,this.openStart,this.openEnd)}removeBetween(e,r){return new oe(D2(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return oe.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new oe(Y.fromJSON(e,r.content),n,s)}static maxOpen(e,r=!0){let n=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.lastChild)s++;return new oe(e,n,s)}}oe.empty=new oe(Y.empty,0,0);function D2(t,e,r){let{index:n,offset:s}=t.findIndex(e),o=t.maybeChild(n),{index:i,offset:a}=t.findIndex(r);if(s==e||o.isText){if(a!=r&&!t.child(i).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=i)throw new RangeError("Removing non-flat range");return t.replaceChild(n,o.copy(D2(o.content,e-s-1,r-s-1)))}function L2(t,e,r,n){let{index:s,offset:o}=t.findIndex(e),i=t.maybeChild(s);if(o==e||i.isText)return n&&!n.canReplace(s,s,r)?null:t.cut(0,e).append(r).append(t.cut(e));let a=L2(i.content,e-o-1,r,i);return a&&t.replaceChild(s,i.copy(a))}function UH(t,e,r){if(r.openStart>t.depth)throw new qp("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new qp("Inconsistent open depths");return $2(t,e,r,0)}function $2(t,e,r,n){let s=t.index(n),o=t.node(n);if(s==e.index(n)&&n<t.depth-r.openStart){let i=$2(t,e,r,n+1);return o.copy(o.content.replaceChild(s,i))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let i=t.parent,a=i.content;return ma(i,a.cut(0,t.parentOffset).append(r.content).append(a.cut(e.parentOffset)))}else{let{start:i,end:a}=VH(r,t);return ma(o,z2(t,i,a,e,n))}else return ma(o,Kp(t,e,n))}function F2(t,e){if(!e.type.compatibleContent(t.type))throw new qp("Cannot join "+e.type.name+" onto "+t.type.name)}function Mw(t,e,r){let n=t.node(r);return F2(n,e.node(r)),n}function pa(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Nu(t,e,r,n){let s=(e||t).node(r),o=0,i=e?e.index(r):s.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(pa(t.nodeAfter,n),o++));for(let a=o;a<i;a++)pa(s.child(a),n);e&&e.depth==r&&e.textOffset&&pa(e.nodeBefore,n)}function ma(t,e){return t.type.checkContent(e),t.copy(e)}function z2(t,e,r,n,s){let o=t.depth>s&&Mw(t,e,s+1),i=n.depth>s&&Mw(r,n,s+1),a=[];return Nu(null,t,s,a),o&&i&&e.index(s)==r.index(s)?(F2(o,i),pa(ma(o,z2(t,e,r,n,s+1)),a)):(o&&pa(ma(o,Kp(t,e,s+1)),a),Nu(e,r,s,a),i&&pa(ma(i,Kp(r,n,s+1)),a)),Nu(n,null,s,a),new Y(a)}function Kp(t,e,r){let n=[];if(Nu(null,t,r,n),t.depth>r){let s=Mw(t,e,r+1);pa(ma(s,Kp(t,e,r+1)),n)}return Nu(e,null,r,n),new Y(n)}function VH(t,e){let r=e.depth-t.openStart,s=e.node(r).copy(t.content);for(let o=r-1;o>=0;o--)s=e.node(o).copy(Y.from(s));return{start:s.resolveNoCache(t.openStart+r),end:s.resolveNoCache(s.content.size-t.openEnd-r)}}class Cu{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(r);return n?e.child(r).cut(n):s}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let o=0;o<e;o++)s+=n.child(o).nodeSize;return s}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Ve.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),s=e.maybeChild(r);if(!n){let a=n;n=s,s=a}let o=n.marks;for(var i=0;i<o.length;i++)o[i].type.spec.inclusive===!1&&(!s||!o[i].isInSet(s.marks))&&(o=o[i--].removeFromSet(o));return o}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!s||!n[o].isInSet(s.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Gp(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,o=r;for(let i=e;;){let{index:a,offset:c}=i.content.findIndex(o),d=o-c;if(n.push(i,a,s+c),!d||(i=i.child(a),i.isText))break;o=d-1,s+=c+1}return new Cu(r,n,o)}static resolveCached(e,r){let n=B2.get(e);if(n)for(let o=0;o<n.elts.length;o++){let i=n.elts[o];if(i.pos==r)return i}else B2.set(e,n=new WH);let s=n.elts[n.i]=Cu.resolve(e,r);return n.i=(n.i+1)%HH,s}}class WH{constructor(){this.elts=[],this.i=0}}const HH=12,B2=new WeakMap;class Gp{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const qH=Object.create(null);let Zo=class u1{constructor(e,r,n,s=Ve.none){this.type=e,this.attrs=r,this.marks=s,this.content=n||Y.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,s=0){this.content.nodesBetween(e,r,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,s){return this.content.textBetween(e,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Hp(this.attrs,r||e.defaultAttrs||qH)&&Ve.sameSet(this.marks,n||Ve.none)}copy(e=null){return e==this.content?this:new u1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new u1(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return oe.empty;let s=this.resolve(e),o=this.resolve(r),i=n?0:s.sharedDepth(r),a=s.start(i),d=s.node(i).content.cut(s.pos-a,o.pos-a);return new oe(d,s.depth-i,o.depth-i)}replace(e,r,n){return UH(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(s==e||r.isText)return r;e-=s+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(e){return Cu.resolveCached(this,e)}resolveNoCache(e){return Cu.resolve(this,e)}rangeHasMark(e,r,n){let s=!1;return r>e&&this.nodesBetween(e,r,o=>(n.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),U2(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Y.empty,s=0,o=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,s,o),a=i&&i.matchFragment(this.content,r);if(!a||!a.validEnd)return!1;for(let c=s;c<o;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,r);return i?i.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ve.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Ve.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let s=Y.fromJSON(e,r.content),o=e.nodeType(r.type).create(r.attrs,s,n);return o.type.checkAttrs(o.attrs),o}};Zo.prototype.text=void 0;class Yp extends Zo{constructor(e,r,n,s){if(super(e,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):U2(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Yp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Yp(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function U2(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class ga{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new KH(e,r);if(n.next==null)return ga.empty;let s=V2(n);n.next&&n.err("Unexpected trailing text");let o=e9(ZH(s));return t9(o,n),o}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let s=this;for(let o=r;s&&o<n;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let s=[this];function o(i,a){let c=i.matchFragment(e,n);if(c&&(!r||c.validEnd))return Y.from(a.map(d=>d.createAndFill()));for(let d=0;d<i.next.length;d++){let{type:u,next:h}=i.next[d];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(h)==-1){s.push(h);let f=o(h,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),o=s.match;if(o.matchType(e)){let i=[];for(let a=s;a.type;a=a.via)i.push(a.type);return i.reverse()}for(let i=0;i<o.next.length;i++){let{type:a,next:c}=o.next[i];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in r)&&(!s.type||c.validEnd)&&(n.push({match:a.contentMatch,type:a,via:s}),r[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),e.map((n,s)=>{let o=s+(n.validEnd?"*":" ")+" ";for(let i=0;i<n.next.length;i++)o+=(i?", ":"")+n.next[i].type.name+"->"+e.indexOf(n.next[i].next);return o}).join(`
`)}}ga.empty=new ga(!0);class KH{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function V2(t){let e=[];do e.push(GH(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function GH(t){let e=[];do e.push(YH(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function YH(t){let e=XH(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=JH(t,e);else break;return e}function W2(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function JH(t,e){let r=W2(t),n=r;return t.eat(",")&&(t.next!="}"?n=W2(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function QH(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let s=[];for(let o in r){let i=r[o];i.isInGroup(e)&&s.push(i)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function XH(t){if(t.eat("(")){let e=V2(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=QH(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function ZH(t){let e=[[]];return s(o(t,0),r()),e;function r(){return e.push([])-1}function n(i,a,c){let d={term:c,to:a};return e[i].push(d),d}function s(i,a){i.forEach(c=>c.to=a)}function o(i,a){if(i.type=="choice")return i.exprs.reduce((c,d)=>c.concat(o(d,a)),[]);if(i.type=="seq")for(let c=0;;c++){let d=o(i.exprs[c],a);if(c==i.exprs.length-1)return d;s(d,a=r())}else if(i.type=="star"){let c=r();return n(a,c),s(o(i.expr,c),c),[n(c)]}else if(i.type=="plus"){let c=r();return s(o(i.expr,a),c),s(o(i.expr,c),c),[n(c)]}else{if(i.type=="opt")return[n(a)].concat(o(i.expr,a));if(i.type=="range"){let c=a;for(let d=0;d<i.min;d++){let u=r();s(o(i.expr,c),u),c=u}if(i.max==-1)s(o(i.expr,c),c);else for(let d=i.min;d<i.max;d++){let u=r();n(c,u),s(o(i.expr,c),u),c=u}return[n(c)]}else{if(i.type=="name")return[n(a,void 0,i.value)];throw new Error("Unknown expr type")}}}}function H2(t,e){return e-t}function q2(t,e){let r=[];return n(e),r.sort(H2);function n(s){let o=t[s];if(o.length==1&&!o[0].term)return n(o[0].to);r.push(s);for(let i=0;i<o.length;i++){let{term:a,to:c}=o[i];!a&&r.indexOf(c)==-1&&n(c)}}}function e9(t){let e=Object.create(null);return r(q2(t,0));function r(n){let s=[];n.forEach(i=>{t[i].forEach(({term:a,to:c})=>{if(!a)return;let d;for(let u=0;u<s.length;u++)s[u][0]==a&&(d=s[u][1]);q2(t,c).forEach(u=>{d||s.push([a,d=[]]),d.indexOf(u)==-1&&d.push(u)})})});let o=e[n.join(",")]=new ga(n.indexOf(t.length-1)>-1);for(let i=0;i<s.length;i++){let a=s[i][1].sort(H2);o.next.push({type:s[i][0],next:e[a.join(",")]||r(a)})}return o}}function t9(t,e){for(let r=0,n=[t];r<n.length;r++){let s=n[r],o=!s.validEnd,i=[];for(let a=0;a<s.next.length;a++){let{type:c,next:d}=s.next[a];i.push(c.name),o&&!(c.isText||c.hasRequiredAttrs())&&(o=!1),n.indexOf(d)==-1&&n.push(d)}o&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function K2(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function G2(t,e){let r=Object.create(null);for(let n in t){let s=e&&e[n];if(s===void 0){let o=t[n];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function Y2(t,e,r,n){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in t){let o=t[s];o.validate&&o.validate(e[s])}}function J2(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new n9(t,n,e[n]);return r}let Q2=class gD{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=J2(e,n.attrs),this.defaultAttrs=K2(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ga.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:G2(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Zo(this,this.computeAttrs(e),Y.from(r),Ve.setFrom(n))}createChecked(e=null,r,n){return r=Y.from(r),this.checkContent(r),new Zo(this,this.computeAttrs(e),r,Ve.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Y.from(r),r.size){let i=this.contentMatch.fillBefore(r);if(!i)return null;r=i.append(r)}let s=this.contentMatch.matchFragment(r),o=s&&s.fillBefore(Y.empty,!0);return o?new Zo(this,e,r.append(o),Ve.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Y2(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Ve.none:e}static compile(e,r){let n=Object.create(null);e.forEach((o,i)=>n[o]=new gD(o,r,i));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function r9(t,e,r){let n=r.split("|");return s=>{let o=s===null?"null":typeof s;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${o}`)}}class n9{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?r9(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Jp{constructor(e,r,n,s){this.name=e,this.rank=r,this.schema=n,this.spec=s,this.attrs=J2(e,s.attrs),this.excluded=null;let o=K2(this.attrs);this.instance=o?new Ve(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ve(this,G2(this.attrs,e))}static compile(e,r){let n=Object.create(null),s=0;return e.forEach((o,i)=>n[o]=new Jp(o,s++,r,i)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){Y2(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class X2{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in e)r[s]=e[s];r.nodes=sr.from(e.nodes),r.marks=sr.from(e.marks||{}),this.nodes=Q2.compile(this.spec.nodes,this),this.marks=Jp.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],i=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=n[i]||(n[i]=ga.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?Z2(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],i=o.spec.excludes;o.excluded=i==null?[o]:i==""?[]:Z2(this,i.split(" "))}this.nodeFromJSON=s=>Zo.fromJSON(this,s),this.markFromJSON=s=>Ve.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Q2){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,s)}text(e,r){let n=this.nodes.text;return new Yp(n,n.defaultAttrs,e,Ve.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function Z2(t,e){let r=[];for(let n=0;n<e.length;n++){let s=e[n],o=t.marks[s],i=o;if(o)r.push(o);else for(let a in t.marks){let c=t.marks[a];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&r.push(i=c)}if(!i)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function s9(t){return t.tag!=null}function o9(t){return t.style!=null}class ei{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(s9(s))this.tags.push(s);else if(o9(s)){let o=/[^=]*/.exec(s.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,r={}){let n=new nT(this,r,!1);return n.addAll(e,Ve.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new nT(this,r,!0);return n.addAll(e,Ve.none,r.from,r.to),oe.maxOpen(n.finish())}matchTag(e,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(l9(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||r.matchesContext(o.context))){if(o.getAttrs){let i=o.getAttrs(e);if(i===!1)continue;o.attrs=i||void 0}return o}}}matchStyle(e,r,n,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let i=this.styles[o],a=i.style;if(!(a.indexOf(e)!=0||i.context&&!n.matchesContext(i.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=r))){if(i.getAttrs){let c=i.getAttrs(r);if(c===!1)continue;i.attrs=c||void 0}return i}}}static schemaRules(e){let r=[];function n(s){let o=s.priority==null?50:s.priority,i=0;for(;i<r.length;i++){let a=r[i];if((a.priority==null?50:a.priority)<o)break}r.splice(i,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(i=>{n(i=sT(i)),i.mark||i.ignore||i.clearMark||(i.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(i=>{n(i=sT(i)),i.node||i.ignore||i.mark||(i.node=s)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ei(e,ei.schemaRules(e)))}}const eT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},i9={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tT={ol:!0,ul:!0},ju=1,Ow=2,Eu=4;function rT(t,e,r){return e!=null?(e?ju:0)|(e==="full"?Ow:0):t&&t.whitespace=="pre"?ju|Ow:r&~Eu}class Qp{constructor(e,r,n,s,o,i){this.type=e,this.attrs=r,this.marks=n,this.solid=s,this.options=i,this.content=[],this.activeMarks=Ve.none,this.match=o||(i&Eu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Y.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ju)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let r=Y.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Y.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!eT.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class nT{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=r.topNode,o,i=rT(null,r.preserveWhitespace,0)|(n?Eu:0);s?o=new Qp(s.type,s.attrs,Ve.none,!0,r.topMatch||s.type.contentMatch,i):n?o=new Qp(null,null,Ve.none,!0,null,i):o=new Qp(e.schema.topNodeType,null,Ve.none,!0,null,i),this.nodes=[o],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,s=this.top,o=s.options&Ow?"full":this.localPreserveWS||(s.options&ju)>0,{schema:i}=this.parser;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(o)if(o==="full")n=n.replace(/\r\n?/g,`
`);else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let a=n.split(/\r?\n|\r/);for(let c=0;c<a.length;c++)c&&this.insertNode(i.linebreakReplacement.create(),r,!0),a[c]&&this.insertNode(i.text(a[c]),r,!/\S/.test(a[c]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i=e.nodeName.toLowerCase(),a;tT.hasOwnProperty(i)&&this.parser.normalizeLists&&a9(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,n));e:if(c?c.ignore:i9.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,u=this.needsBlock;if(eT.hasOwnProperty(i))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),d=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let h=c&&c.skip?r:this.readStyles(e,r);h&&this.addAll(e,h),d&&this.sync(o),this.needsBlock=u}else{let d=this.readStyles(e,r);d&&this.addElementByRule(e,c,d,c.consuming===!1?a:void 0)}this.localPreserveWS=s}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],i=n.getPropertyValue(o);if(i)for(let a=void 0;;){let c=this.parser.matchStyle(o,i,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(d=>!c.clearMark(d)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)a=c;else break}}return r}addElementByRule(e,r,n,s){let o,i;if(r.node)if(i=this.parser.schema.nodes[r.node],i.isLeaf)this.insertNode(i.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(i,r.attrs||null,n,r.preserveWhitespace);c&&(o=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}o&&this.sync(a)&&this.open--}addAll(e,r,n,s){let o=n||0;for(let i=n?e.childNodes[n]:e.firstChild,a=s==null?null:e.childNodes[s];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i,r);this.findAtPoint(e,o)}findPlace(e,r,n){let s,o;for(let i=this.open,a=0;i>=0;i--){let c=this.nodes[i],d=c.findWrapping(e);if(d&&(!s||s.length>d.length+a)&&(s=d,o=c,!d.length))break;if(c.solid){if(n)break;a+=2}}if(!s)return null;this.sync(o);for(let i=0;i<s.length;i++)r=this.enterInner(s[i],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(r=this.enterInner(o,null,r))}let s=this.findPlace(e,r,n);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let i=Ve.none;for(let a of s.concat(e.marks))(o.type?o.type.allowsMarkType(a.type):oT(a.type,e.type))&&(i=a.addToSet(i));return o.content.push(e.mark(i)),!0}return!1}enter(e,r,n,s){let o=this.findPlace(e.create(r),n,!1);return o&&(o=this.enterInner(e,r,n,!0,s)),o}enterInner(e,r,n,s=!1,o){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let a=rT(e,o,i.options);i.options&Eu&&i.content.length==0&&(a|=Eu);let c=Ve.none;return n=n.filter(d=>(i.type?i.type.allowsMarkType(d.type):oT(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new Qp(e,r,c,s,null,a)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=ju)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(s?0:1),i=(a,c)=>{for(;a>=0;a--){let d=r[a];if(d==""){if(a==r.length-1||a==0)continue;for(;c>=o;c--)if(i(a-1,c))return!0;return!1}else{let u=c>0||c==0&&s?this.nodes[c].type:n&&c>=o?n.node(c-o).type:null;if(!u||u.name!=d&&!u.isInGroup(d))return!1;c--}}return!0};return i(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function a9(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&tT.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function l9(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function sT(t){let e={};for(let r in t)e[r]=t[r];return e}function oT(t,e){let r=e.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(t))continue;let o=[],i=a=>{o.push(a);for(let c=0;c<a.edgeCount;c++){let{type:d,next:u}=a.edge(c);if(d==e||o.indexOf(u)<0&&i(u))return!0}};if(i(s.contentMatch))return!0}}class va{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Pw(r).createDocumentFragment());let s=n,o=[];return e.forEach(i=>{if(o.length||i.marks.length){let a=0,c=0;for(;a<o.length&&c<i.marks.length;){let d=i.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(o[a][0])||d.type.spec.spanning===!1)break;a++,c++}for(;a<o.length;)s=o.pop()[1];for(;c<i.marks.length;){let d=i.marks[c++],u=this.serializeMark(d,i.isInline,r);u&&(o.push([d,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(i,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:s}=Xp(Pw(r),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,s)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,r);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,r,n={}){let s=this.marks[e.type.name];return s&&Xp(Pw(n),s(e,r),null,e.attrs)}static renderSpec(e,r,n=null,s){return Xp(e,r,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new va(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=iT(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return iT(e.marks)}}function iT(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Pw(t){return t.document||window.document}const aT=new WeakMap;function c9(t){let e=aT.get(t);return e===void 0&&aT.set(t,e=d9(t)),e}function d9(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(t),e}function Xp(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=c9(n))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=s.indexOf(" ");i>0&&(r=s.slice(0,i),s=s.slice(i+1));let a,c=r?t.createElementNS(r,s):t.createElement(s),d=e[1],u=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){u=2;for(let h in d)if(d[h]!=null){let f=h.indexOf(" ");f>0?c.setAttributeNS(h.slice(0,f),h.slice(f+1),d[h]):h=="style"&&c.style?c.style.cssText=d[h]:c.setAttribute(h,d[h])}}for(let h=u;h<e.length;h++){let f=e[h];if(f===0){if(h<e.length-1||h>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:p,contentDOM:v}=Xp(t,f,r,n);if(c.appendChild(p),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:c,contentDOM:a}}const lT=65535,cT=Math.pow(2,16);function u9(t,e){return t+e*cT}function dT(t){return t&lT}function h9(t){return(t-(t&lT))/cT}const uT=1,hT=2,Zp=4,fT=8;class Aw{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&fT)>0}get deletedBefore(){return(this.delInfo&(uT|Zp))>0}get deletedAfter(){return(this.delInfo&(hT|Zp))>0}get deletedAcross(){return(this.delInfo&Zp)>0}}class ln{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&ln.empty)return ln.empty}recover(e){let r=0,n=dT(e);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+h9(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let s=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?s:0);if(c>e)break;let d=this.ranges[a+o],u=this.ranges[a+i],h=c+d;if(e<=h){let f=d?e==c?-1:e==h?1:r:r,p=c+s+(f<0?0:u);if(n)return p;let v=e==(r<0?c:h)?null:u9(a/3,e-c),g=e==c?hT:e==h?uT:Zp;return(r<0?e!=c:e!=h)&&(g|=fT),new Aw(p,g,v)}s+=u-d}return n?e+s:new Aw(e+s,0,null)}touches(e,r){let n=0,s=dT(r),o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?n:0);if(c>e)break;let d=this.ranges[a+o],u=c+d;if(e<=u&&a==s*3)return!0;n+=this.ranges[a+i]-d}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let i=this.ranges[s],a=i-(this.inverted?o:0),c=i+(this.inverted?0:o),d=this.ranges[s+r],u=this.ranges[s+n];e(a,a+d,c,c+u),o+=u-d}}invert(){return new ln(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ln.empty:new ln(e<0?[0,-e,0]:[0,0,e])}}ln.empty=new ln([]);class _u{constructor(e,r,n=0,s=e?e.length:0){this.mirror=r,this.from=n,this.to=s,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new _u(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let s=e.getMirror(r);this.appendMap(e._maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let s=e.getMirror(r);this.appendMap(e._maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let e=new _u;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let s=0;for(let o=this.from;o<this.to;o++){let i=this._maps[o],a=i.mapResult(e,r);if(a.recover!=null){let c=this.getMirror(o);if(c!=null&&c>o&&c<this.to){o=c,e=this._maps[c].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return n?e:new Aw(e,s,null)}}const Iw=Object.create(null);class fr{getMap(){return ln.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Iw[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Iw)throw new RangeError("Duplicate use of step JSON ID "+e);return Iw[e]=r,r.prototype.jsonID=e,r}}class kt{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new kt(e,null)}static fail(e){return new kt(null,e)}static fromReplace(e,r,n,s){try{return kt.ok(e.replace(r,n,s))}catch(o){if(o instanceof qp)return kt.fail(o.message);throw o}}}function Dw(t,e,r){let n=[];for(let s=0;s<t.childCount;s++){let o=t.child(s);o.content.size&&(o=o.copy(Dw(o.content,e,o))),o.isInline&&(o=e(o,r,s)),n.push(o)}return Y.fromArray(n)}class ti extends fr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),o=new oe(Dw(r.content,(i,a)=>!i.isAtom||!a.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),s),r.openStart,r.openEnd);return kt.fromReplace(e,this.from,this.to,o)}invert(){return new Ss(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new ti(r.pos,n.pos,this.mark)}merge(e){return e instanceof ti&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ti(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ti(r.from,r.to,e.markFromJSON(r.mark))}}fr.jsonID("addMark",ti);class Ss extends fr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new oe(Dw(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),r.openStart,r.openEnd);return kt.fromReplace(e,this.from,this.to,n)}invert(){return new ti(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ss(r.pos,n.pos,this.mark)}merge(e){return e instanceof Ss&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ss(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ss(r.from,r.to,e.markFromJSON(r.mark))}}fr.jsonID("removeMark",Ss);class ri extends fr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return kt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return kt.fromReplace(e,this.pos,this.pos+1,new oe(Y.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new ri(this.pos,r.marks[s]);return new ri(this.pos,this.mark)}}return new ya(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ri(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ri(r.pos,e.markFromJSON(r.mark))}}fr.jsonID("addNodeMark",ri);class ya extends fr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return kt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return kt.fromReplace(e,this.pos,this.pos+1,new oe(Y.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new ri(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ya(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ya(r.pos,e.markFromJSON(r.mark))}}fr.jsonID("removeNodeMark",ya);class Ut extends fr{constructor(e,r,n,s=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=s}apply(e){return this.structure&&Lw(e,this.from,this.to)?kt.fail("Structure replace would overwrite content"):kt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ln([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ut(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Ut(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ut)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?oe.empty:new oe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ut(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?oe.empty:new oe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ut(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ut(r.from,r.to,oe.fromJSON(e,r.slice),!!r.structure)}}fr.jsonID("replace",Ut);class Vt extends fr{constructor(e,r,n,s,o,i,a=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=o,this.insert=i,this.structure=a}apply(e){if(this.structure&&(Lw(e,this.from,this.gapFrom)||Lw(e,this.gapTo,this.to)))return kt.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return kt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?kt.fromReplace(e,this.from,this.to,n):kt.fail("Content does not fit in gap")}getMap(){return new ln([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Vt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||o>n.pos?null:new Vt(r.pos,n.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Vt(r.from,r.to,r.gapFrom,r.gapTo,oe.fromJSON(e,r.slice),r.insert,!!r.structure)}}fr.jsonID("replaceAround",Vt);function Lw(t,e,r){let n=t.resolve(e),s=r-e,o=n.depth;for(;s>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,s--;if(s>0){let i=n.node(o).maybeChild(n.indexAfter(o));for(;s>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,s--}}return!1}function f9(t,e,r,n){let s=[],o=[],i,a;t.doc.nodesBetween(e,r,(c,d,u)=>{if(!c.isInline)return;let h=c.marks;if(!n.isInSet(h)&&u.type.allowsMarkType(n.type)){let f=Math.max(d,e),p=Math.min(d+c.nodeSize,r),v=n.addToSet(h);for(let g=0;g<h.length;g++)h[g].isInSet(v)||(i&&i.to==f&&i.mark.eq(h[g])?i.to=p:s.push(i=new Ss(f,p,h[g])));a&&a.to==f?a.to=p:o.push(a=new ti(f,p,n))}}),s.forEach(c=>t.step(c)),o.forEach(c=>t.step(c))}function p9(t,e,r,n){let s=[],o=0;t.doc.nodesBetween(e,r,(i,a)=>{if(!i.isInline)return;o++;let c=null;if(n instanceof Jp){let d=i.marks,u;for(;u=n.isInSet(d);)(c||(c=[])).push(u),d=u.removeFromSet(d)}else n?n.isInSet(i.marks)&&(c=[n]):c=i.marks;if(c&&c.length){let d=Math.min(a+i.nodeSize,r);for(let u=0;u<c.length;u++){let h=c[u],f;for(let p=0;p<s.length;p++){let v=s[p];v.step==o-1&&h.eq(s[p].style)&&(f=v)}f?(f.to=d,f.step=o):s.push({style:h,from:Math.max(a,e),to:d,step:o})}}}),s.forEach(i=>t.step(new Ss(i.from,i.to,i.style)))}function $w(t,e,r,n=r.contentMatch,s=!0){let o=t.doc.nodeAt(e),i=[],a=e+1;for(let c=0;c<o.childCount;c++){let d=o.child(c),u=a+d.nodeSize,h=n.matchType(d.type);if(!h)i.push(new Ut(a,u,oe.empty));else{n=h;for(let f=0;f<d.marks.length;f++)r.allowsMarkType(d.marks[f].type)||t.step(new Ss(a,u,d.marks[f]));if(s&&d.isText&&r.whitespace!="pre"){let f,p=/\r?\n|\r/g,v;for(;f=p.exec(d.text);)v||(v=new oe(Y.from(r.schema.text(" ",r.allowedMarks(d.marks))),0,0)),i.push(new Ut(a+f.index,a+f.index+f[0].length,v))}}a=u}if(!n.validEnd){let c=n.fillBefore(Y.empty,!0);t.replace(a,a,new oe(c,0,0))}for(let c=i.length-1;c>=0;c--)t.step(i[c])}function m9(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function oc(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth,s=0,o=0;;--n){let i=t.$from.node(n),a=t.$from.index(n)+s,c=t.$to.indexAfter(n)-o;if(n<t.depth&&i.canReplace(a,c,r))return n;if(n==0||i.type.spec.isolating||!m9(i,a,c))break;a&&(s=1),c<i.childCount&&(o=1)}return null}function g9(t,e,r){let{$from:n,$to:s,depth:o}=e,i=n.before(o+1),a=s.after(o+1),c=i,d=a,u=Y.empty,h=0;for(let v=o,g=!1;v>r;v--)g||n.index(v)>0?(g=!0,u=Y.from(n.node(v).copy(u)),h++):c--;let f=Y.empty,p=0;for(let v=o,g=!1;v>r;v--)g||s.after(v+1)<s.end(v)?(g=!0,f=Y.from(s.node(v).copy(f)),p++):d++;t.step(new Vt(c,d,i,a,new oe(u.append(f),h,p),u.size-h,!0))}function Fw(t,e,r=null,n=t){let s=v9(t,e),o=s&&y9(n,e);return o?s.map(pT).concat({type:e,attrs:r}).concat(o.map(pT)):null}function pT(t){return{type:t,attrs:null}}function v9(t,e){let{parent:r,startIndex:n,endIndex:s}=t,o=r.contentMatchAt(n).findWrapping(e);if(!o)return null;let i=o.length?o[0]:e;return r.canReplaceWith(n,s,i)?o:null}function y9(t,e){let{parent:r,startIndex:n,endIndex:s}=t,o=r.child(n),i=e.contentMatch.findWrapping(o.type);if(!i)return null;let c=(i.length?i[i.length-1]:e).contentMatch;for(let d=n;c&&d<s;d++)c=c.matchType(r.child(d).type);return!c||!c.validEnd?null:i}function x9(t,e,r){let n=Y.empty;for(let i=r.length-1;i>=0;i--){if(n.size){let a=r[i].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Y.from(r[i].type.create(r[i].attrs,n))}let s=e.start,o=e.end;t.step(new Vt(s,o,s,o,new oe(n,0,0),r.length,!0))}function w9(t,e,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,r,(i,a)=>{let c=typeof s=="function"?s(i):s;if(i.isTextblock&&!i.hasMarkup(n,c)&&b9(t.doc,t.mapping.slice(o).map(a),n)){let d=null;if(n.schema.linebreakReplacement){let p=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);p&&!v?d=!1:!p&&v&&(d=!0)}d===!1&&gT(t,i,a,o),$w(t,t.mapping.slice(o).map(a,1),n,void 0,d===null);let u=t.mapping.slice(o),h=u.map(a,1),f=u.map(a+i.nodeSize,1);return t.step(new Vt(h,f,h+1,f-1,new oe(Y.from(n.create(c,null,i.marks)),0,0),1,!0)),d===!0&&mT(t,i,a,o),!1}})}function mT(t,e,r,n){e.forEach((s,o)=>{if(s.isText){let i,a=/\r?\n|\r/g;for(;i=a.exec(s.text);){let c=t.mapping.slice(n).map(r+1+o+i.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function gT(t,e,r,n){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let i=t.mapping.slice(n).map(r+1+o);t.replaceWith(i,i+1,e.type.schema.text(`
`))}})}function b9(t,e,r){let n=t.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function k9(t,e,r,n,s){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");r||(r=o.type);let i=r.create(n,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,i);if(!r.validContent(o.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Vt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new oe(Y.from(i),0,0),1,!0))}function so(t,e,r=1,n){let s=t.resolve(e),o=s.depth-r,i=n&&n[n.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!i.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let d=s.depth-1,u=r-2;d>o;d--,u--){let h=s.node(d),f=s.index(d);if(h.type.spec.isolating)return!1;let p=h.content.cutByIndex(f,h.childCount),v=n&&n[u+1];v&&(p=p.replaceChild(0,v.type.create(v.attrs)));let g=n&&n[u]||h;if(!h.canReplace(f+1,h.childCount)||!g.type.validContent(p))return!1}let a=s.indexAfter(o),c=n&&n[0];return s.node(o).canReplaceWith(a,a,c?c.type:s.node(o+1).type)}function S9(t,e,r=1,n){let s=t.doc.resolve(e),o=Y.empty,i=Y.empty;for(let a=s.depth,c=s.depth-r,d=r-1;a>c;a--,d--){o=Y.from(s.node(a).copy(o));let u=n&&n[d];i=Y.from(u?u.type.create(u.attrs,i):s.node(a).copy(i))}t.step(new Ut(e,e,new oe(o.append(i),r,r),!0))}function ni(t,e){let r=t.resolve(e),n=r.index();return vT(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function N9(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),i=o.type==n?t.type.schema.nodes.text:o.type;if(r=r.matchType(i),!r||!t.type.allowsMarks(o.marks))return!1}return r.validEnd}function vT(t,e){return!!(t&&e&&!t.isLeaf&&N9(t,e))}function em(t,e,r=-1){let n=t.resolve(e);for(let s=n.depth;;s--){let o,i,a=n.index(s);if(s==n.depth?(o=n.nodeBefore,i=n.nodeAfter):r>0?(o=n.node(s+1),a++,i=n.node(s).maybeChild(a)):(o=n.node(s).maybeChild(a-1),i=n.node(s+1)),o&&!o.isTextblock&&vT(o,i)&&n.node(s).canReplace(a,a+1))return e;if(s==0)break;e=r<0?n.before(s):n.after(s)}}function C9(t,e,r){let n=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-r),i=o.node().type;if(s&&i.inlineContent){let u=i.whitespace=="pre",h=!!i.contentMatch.matchType(s);u&&!h?n=!1:!u&&h&&(n=!0)}let a=t.steps.length;if(n===!1){let u=t.doc.resolve(e+r);gT(t,u.node(),u.before(),a)}i.inlineContent&&$w(t,e+r-1,i,o.node().contentMatchAt(o.index()),n==null);let c=t.mapping.slice(a),d=c.map(e-r);if(t.step(new Ut(d,c.map(e+r,-1),oe.empty,!0)),n===!0){let u=t.doc.resolve(d);mT(t,u.node(),u.before(),t.steps.length)}return t}function j9(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let o=n.index(s);if(n.node(s).canReplaceWith(o,o,r))return n.before(s+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let o=n.indexAfter(s);if(n.node(s).canReplaceWith(o,o,r))return n.after(s+1);if(o<n.node(s).childCount)return null}return null}function yT(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let s=r.content;for(let o=0;o<r.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(r.openStart==0&&r.size?2:1);o++)for(let i=n.depth;i>=0;i--){let a=i==n.depth?0:n.pos<=(n.start(i+1)+n.end(i+1))/2?-1:1,c=n.index(i)+(a>0?1:0),d=n.node(i),u=!1;if(o==1)u=d.canReplace(c,c,s);else{let h=d.contentMatchAt(c).findWrapping(s.firstChild.type);u=h&&d.canReplaceWith(c,c,h[0])}if(u)return a==0?n.pos:a<0?n.before(i+1):n.after(i+1)}return null}function tm(t,e,r=e,n=oe.empty){if(e==r&&!n.size)return null;let s=t.resolve(e),o=t.resolve(r);return xT(s,o,n)?new Ut(e,r,n):new E9(s,o,n).fit()}function xT(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class E9{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Y.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=Y.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let o=this.placed,i=n.depth,a=s.depth;for(;i&&a&&o.childCount==1;)o=o.firstChild.content,i--,a--;let c=new oe(o,i,a);return e>-1?new Vt(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new Ut(n.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let o=r.firstChild;if(r.childCount>1&&(s=0),o.type.spec.isolating&&s<=n){e=n;break}r=o.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let s,o=null;n?(o=zw(this.unplaced.content,n-1).firstChild,s=o.content):s=this.unplaced.content;let i=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:d}=this.frontier[a],u,h=null;if(r==1&&(i?d.matchType(i.type)||(h=d.fillBefore(Y.from(i),!1)):o&&c.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:a,parent:o,inject:h};if(r==2&&i&&(u=d.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:a,parent:o,wrap:u};if(o&&d.matchType(o.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=zw(e,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new oe(e,r+1,Math.max(n,s.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=zw(e,r);if(s.childCount<=1&&r>0){let o=e.size-r<=r+s.size;this.unplaced=new oe(Tu(e,r-1,1),r-1,o?r-1:n)}else this.unplaced=new oe(Tu(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:s,wrap:o}){for(;this.depth>r;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let i=this.unplaced,a=n?n.content:i.content,c=i.openStart-e,d=0,u=[],{match:h,type:f}=this.frontier[r];if(s){for(let g=0;g<s.childCount;g++)u.push(s.child(g));h=h.matchFragment(s)}let p=a.size+e-(i.content.size-i.openEnd);for(;d<a.childCount;){let g=a.child(d),y=h.matchType(g.type);if(!y)break;d++,(d>1||c==0||g.content.size)&&(h=y,u.push(wT(g.mark(f.allowedMarks(g.marks)),d==1?c:0,d==a.childCount?p:-1)))}let v=d==a.childCount;v||(p=-1),this.placed=Ru(this.placed,r,Y.from(u)),this.frontier[r].match=h,v&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<p;g++){let x=y.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),y=x.content}this.unplaced=v?e==0?oe.empty:new oe(Tu(i.content,e-1,1),e-1,p<0?i.openEnd:e-1):new oe(Tu(i.content,e,d),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Bw(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],o=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),i=Bw(e,r,s,n,o);if(i){for(let a=r-1;a>=0;a--){let{match:c,type:d}=this.frontier[a],u=Bw(e,a,d,c,!0);if(!u||u.childCount)continue e}return{depth:r,fit:i,move:o?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Ru(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let s=e.node(n),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Ru(this.placed,this.depth,Y.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Y.empty,!0);r.childCount&&(this.placed=Ru(this.placed,this.frontier.length,r))}}function Tu(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(Tu(t.firstChild.content,e-1,r)))}function Ru(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(Ru(t.lastChild.content,e-1,r)))}function zw(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function wT(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,wT(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(Y.empty,!0)))),t.copy(n)}function Bw(t,e,r,n,s){let o=t.node(e),i=s?t.indexAfter(e):t.index(e);if(i==o.childCount&&!r.compatibleContent(o.type))return null;let a=n.fillBefore(o.content,!0,i);return a&&!_9(r,o.content,i)?a:null}function _9(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function T9(t){return t.spec.defining||t.spec.definingForContent}function R9(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let s=t.doc.resolve(e),o=t.doc.resolve(r);if(xT(s,o,n))return t.step(new Ut(e,r,n));let i=kT(s,o);i[i.length-1]==0&&i.pop();let a=-(s.depth+1);i.unshift(a);for(let f=s.depth,p=s.pos-1;f>0;f--,p--){let v=s.node(f).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;i.indexOf(f)>-1?a=f:s.before(f)==p&&i.splice(1,0,-f)}let c=i.indexOf(a),d=[],u=n.openStart;for(let f=n.content,p=0;;p++){let v=f.firstChild;if(d.push(v),p==n.openStart)break;f=v.content}for(let f=u-1;f>=0;f--){let p=d[f],v=T9(p.type);if(v&&!p.sameMarkup(s.node(Math.abs(a)-1)))u=f;else if(v||!p.type.isTextblock)break}for(let f=n.openStart;f>=0;f--){let p=(f+u+1)%(n.openStart+1),v=d[p];if(v)for(let g=0;g<i.length;g++){let y=i[(g+c)%i.length],x=!0;y<0&&(x=!1,y=-y);let w=s.node(y-1),b=s.index(y-1);if(w.canReplaceWith(b,b,v.type,v.marks))return t.replace(s.before(y),x?o.after(y):r,new oe(bT(n.content,0,n.openStart,p),p,n.openEnd))}}let h=t.steps.length;for(let f=i.length-1;f>=0&&(t.replace(e,r,n),!(t.steps.length>h));f--){let p=i[f];p<0||(e=s.before(p),r=o.after(p))}}function bT(t,e,r,n,s){if(e<r){let o=t.firstChild;t=t.replaceChild(0,o.copy(bT(o.content,e+1,r,n,o)))}if(e>n){let o=s.contentMatchAt(0),i=o.fillBefore(t).append(t);t=i.append(o.matchFragment(i).fillBefore(Y.empty,!0))}return t}function M9(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let s=j9(t.doc,e,n.type);s!=null&&(e=r=s)}t.replaceRange(e,r,new oe(Y.from(n),0,0))}function O9(t,e,r){let n=t.doc.resolve(e),s=t.doc.resolve(r),o=kT(n,s);for(let i=0;i<o.length;i++){let a=o[i],c=i==o.length-1;if(c&&a==0||n.node(a).type.contentMatch.validEnd)return t.delete(n.start(a),s.end(a));if(a>0&&(c||n.node(a-1).canReplace(n.index(a-1),s.indexAfter(a-1))))return t.delete(n.before(a),s.after(a))}for(let i=1;i<=n.depth&&i<=s.depth;i++)if(e-n.start(i)==n.depth-i&&r>n.end(i)&&s.end(i)-r!=s.depth-i&&n.start(i-1)==s.start(i-1)&&n.node(i-1).canReplace(n.index(i-1),s.index(i-1)))return t.delete(n.before(i),r);t.delete(e,r)}function kT(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let s=n;s>=0;s--){let o=t.start(s);if(o<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&r.push(s)}return r}class ic extends fr{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return kt.fail("No node at attribute step's position");let n=Object.create(null);for(let o in r.attrs)n[o]=r.attrs[o];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return kt.fromReplace(e,this.pos,this.pos+1,new oe(Y.from(s),0,r.isLeaf?0:1))}getMap(){return ln.empty}invert(e){return new ic(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ic(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ic(r.pos,r.attr,r.value)}}fr.jsonID("attr",ic);class Mu extends fr{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return kt.ok(n)}getMap(){return ln.empty}invert(e){return new Mu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Mu(r.attr,r.value)}}fr.jsonID("docAttr",Mu);let ac=class extends Error{};ac=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r},ac.prototype=Object.create(Error.prototype),ac.prototype.constructor=ac,ac.prototype.name="TransformError";class P9{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new _u}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new ac(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,r=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let s=this.mapping.maps[n];n&&(e=s.map(e,1),r=s.map(r,-1)),s.forEach((o,i,a,c)=>{e=Math.min(e,a),r=Math.max(r,c)})}return e==1e9?null:{from:e,to:r}}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=oe.empty){let s=tm(this.doc,e,r,n);return s&&this.step(s),this}replaceWith(e,r,n){return this.replace(e,r,new oe(Y.from(n),0,0))}delete(e,r){return this.replace(e,r,oe.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return R9(this,e,r,n),this}replaceRangeWith(e,r,n){return M9(this,e,r,n),this}deleteRange(e,r){return O9(this,e,r),this}lift(e,r){return g9(this,e,r),this}join(e,r=1){return C9(this,e,r),this}wrap(e,r){return x9(this,e,r),this}setBlockType(e,r=e,n,s=null){return w9(this,e,r,n,s),this}setNodeMarkup(e,r,n=null,s){return k9(this,e,r,n,s),this}setNodeAttribute(e,r,n){return this.step(new ic(e,r,n)),this}setDocAttribute(e,r){return this.step(new Mu(e,r)),this}addNodeMark(e,r){return this.step(new ri(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof Ve)r.isInSet(n.marks)&&this.step(new ya(e,r));else{let s=n.marks,o,i=[];for(;o=r.isInSet(s);)i.push(new ya(e,o)),s=o.removeFromSet(s);for(let a=i.length-1;a>=0;a--)this.step(i[a])}return this}split(e,r=1,n){return S9(this,e,r,n),this}addMark(e,r,n){return f9(this,e,r,n),this}removeMark(e,r,n){return p9(this,e,r,n),this}clearIncompatible(e,r,n){return $w(this,e,r,n),this}}const Uw=Object.create(null);class _e{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new A9(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=oe.empty){let n=r.content.lastChild,s=null;for(let a=0;a<r.openEnd;a++)s=n,n=n.lastChild;let o=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:c,$to:d}=i[a],u=e.mapping.slice(o);e.replaceRange(u.map(c.pos),u.map(d.pos),a?oe.empty:r),a==0&&CT(e,o,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:i,$to:a}=s[o],c=e.mapping.slice(n),d=c.map(i.pos),u=c.map(a.pos);o?e.deleteRange(d,u):(e.replaceRangeWith(d,u,r),CT(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let s=e.parent.inlineContent?new Ne(e):lc(e.node(0),e.parent,e.pos,e.index(),r,n);if(s)return s;for(let o=e.depth-1;o>=0;o--){let i=r<0?lc(e.node(0),e.node(o),e.before(o+1),e.index(o),r,n):lc(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,r,n);if(i)return i}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new cn(e.node(0))}static atStart(e){return lc(e,e,0,0,1)||new cn(e)}static atEnd(e){return lc(e,e,e.content.size,e.childCount,-1)||new cn(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Uw[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Uw)throw new RangeError("Duplicate use of selection JSON ID "+e);return Uw[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Ne.between(this.$anchor,this.$head).getBookmark()}}_e.prototype.visible=!0;class A9{constructor(e,r){this.$from=e,this.$to=r}}let ST=!1;function NT(t){!ST&&!t.parent.inlineContent&&(ST=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ne extends _e{constructor(e,r=e){NT(e),NT(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return _e.near(n);let s=e.resolve(r.map(this.anchor));return new Ne(s.parent.inlineContent?s:n,n)}replace(e,r=oe.empty){if(super.replace(e,r),r==oe.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Ne&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new rm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ne(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let s=e.resolve(r);return new this(s,n==r?s:e.resolve(n))}static between(e,r,n){let s=e.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let o=_e.findFrom(r,n,!0)||_e.findFrom(r,-n,!0);if(o)r=o.$head;else return _e.near(r,n)}return e.parent.inlineContent||(s==0?e=r:(e=(_e.findFrom(e,-n,!0)||_e.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=s<0&&(e=r))),new Ne(e,r)}}_e.jsonID("text",Ne);class rm{constructor(e,r){this.anchor=e,this.head=r}map(e){return new rm(e.map(this.anchor),e.map(this.head))}resolve(e){return Ne.between(e.resolve(this.anchor),e.resolve(this.head))}}class fe extends _e{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),o=e.resolve(s);return n?_e.near(o):new fe(o)}content(){return new oe(Y.from(this.node),0,0)}eq(e){return e instanceof fe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Vw(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new fe(e.resolve(r.anchor))}static create(e,r){return new fe(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}fe.prototype.visible=!1,_e.jsonID("node",fe);class Vw{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new rm(n,n):new Vw(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&fe.isSelectable(n)?new fe(r):_e.near(r)}}class cn extends _e{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=oe.empty){if(r==oe.empty){e.delete(0,e.doc.content.size);let n=_e.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new cn(e)}map(e){return new cn(e)}eq(e){return e instanceof cn}getBookmark(){return I9}}_e.jsonID("all",cn);const I9={map(){return this},resolve(t){return new cn(t)}};function lc(t,e,r,n,s,o=!1){if(e.inlineContent)return Ne.create(t,r);for(let i=n-(s>0?0:1);s>0?i<e.childCount:i>=0;i+=s){let a=e.child(i);if(a.isAtom){if(!o&&fe.isSelectable(a))return fe.create(t,r-(s<0?a.nodeSize:0))}else{let c=lc(t,a,r+s,s<0?a.childCount:0,s,o);if(c)return c}r+=a.nodeSize*s}return null}function CT(t,e,r){let n=t.steps.length-1;if(n<e)return;let s=t.steps[n];if(!(s instanceof Ut||s instanceof Vt))return;let o=t.mapping.maps[n],i;o.forEach((a,c,d,u)=>{i==null&&(i=u)}),t.setSelection(_e.near(t.doc.resolve(i),r))}const jT=1,nm=2,ET=4;class D9 extends P9{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|jT)&~nm,this.storedMarks=null,this}get selectionSet(){return(this.updated&jT)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=nm,this}ensureMarks(e){return Ve.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&nm)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~nm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Ve.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let s=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let o=this.storedMarks;if(!o){let i=this.doc.resolve(r);o=n==r?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(e,o)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(_e.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ET,this}get scrolledIntoView(){return(this.updated&ET)>0}}function _T(t,e){return!e||!t?t:t.bind(e)}class Ou{constructor(e,r,n){this.name=e,this.init=_T(r.init,n),this.apply=_T(r.apply,n)}}const L9=[new Ou("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ou("selection",{init(t,e){return t.selection||_e.atStart(e.doc)},apply(t){return t.selection}}),new Ou("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new Ou("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ww{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=L9.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Ou(n.key,n.spec.state,n))})}}class cc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),s=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let c=s?s[i].n:0,d=s?s[i].state:this,u=c<r.length&&a.spec.appendTransaction.call(a,c?r.slice(c):r,d,n);if(u&&n.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let h=0;h<this.config.plugins.length;h++)s.push(h<i?{state:n,n:r.length}:{state:this,n:0})}r.push(u),n=n.applyInner(u),o=!0}s&&(s[i]={state:n,n:r.length})}}if(!o)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new cc(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let o=n[s];r[o.name]=o.apply(e,this[o.name],this,r)}return r}get tr(){return new D9(this)}static create(e){let r=new Ww(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new cc(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(e,n);return n}reconfigure(e){let r=new Ww(this.schema,e.plugins),n=r.fields,s=new cc(r);for(let o=0;o<n.length;o++){let i=n[o].name;s[i]=this.hasOwnProperty(i)?this[i]:n[o].init(e,s)}return s}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],o=s.spec.state;o&&o.toJSON&&(r[n]=o.toJSON.call(s,this[s.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Ww(e.schema,e.plugins),o=new cc(s);return s.fields.forEach(i=>{if(i.name=="doc")o.doc=Zo.fromJSON(e.schema,r.doc);else if(i.name=="selection")o.selection=_e.fromJSON(o.doc,r.selection);else if(i.name=="storedMarks")r.storedMarks&&(o.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let c=n[a],d=c.spec.state;if(c.key==i.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(r,a)){o[i.name]=d.fromJSON.call(c,e,r[a],o);return}}o[i.name]=i.init(e,o)}}),o}}function TT(t,e,r){for(let n in t){let s=t[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=TT(s,e,{})),r[n]=s}return r}class jr{constructor(e){this.spec=e,this.props={},e.props&&TT(e.props,this,this.props),this.key=e.key?e.key.key:RT("plugin")}getState(e){return e[this.key]}}const Hw=Object.create(null);function RT(t){return t in Hw?t+"$"+ ++Hw[t]:(Hw[t]=0,t+"$")}class Zn{constructor(e="key"){this.key=RT(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const or=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},dc=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let qw=null;const oo=function(t,e,r){let n=qw||(qw=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},$9=function(){qw=null},xa=function(t,e,r,n){return r&&(MT(t,e,r,n,-1)||MT(t,e,r,n,1))},F9=/^(img|br|input|textarea|hr)$/i;function MT(t,e,r,n,s){for(var o;;){if(t==r&&e==n)return!0;if(e==(s<0?0:En(t))){let i=t.parentNode;if(!i||i.nodeType!=1||Pu(t)||F9.test(t.nodeName)||t.contentEditable=="false")return!1;e=or(t)+(s<0?0:1),t=i}else if(t.nodeType==1){let i=t.childNodes[e+(s<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((o=i.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else t=i,e=s<0?En(t):0}else return!1}}function En(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function z9(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=En(t)}else if(t.parentNode&&!Pu(t))e=or(t),t=t.parentNode;else return null}}function B9(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Pu(t))e=or(t)+1,t=t.parentNode;else return null}}function U9(t,e,r){for(let n=e==0,s=e==En(t);n||s;){if(t==r)return!0;let o=or(t);if(t=t.parentNode,!t)return!1;n=n&&o==0,s=s&&o==En(t)}}function Pu(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const sm=function(t){return t.focusNode&&xa(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function wa(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function V9(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function W9(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(En(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(En(n.startContainer),n.startOffset)}}}const Ns=typeof navigator<"u"?navigator:null,OT=typeof document<"u"?document:null,si=Ns&&Ns.userAgent||"",Kw=/Edge\/(\d+)/.exec(si),PT=/MSIE \d/.exec(si),Gw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(si),Ur=!!(PT||Gw||Kw),oi=PT?document.documentMode:Gw?+Gw[1]:Kw?+Kw[1]:0,_n=!Ur&&/gecko\/(\d+)/i.test(si);_n&&+(/Firefox\/(\d+)/.exec(si)||[0,0])[1];const Yw=!Ur&&/Chrome\/(\d+)/.exec(si),Wt=!!Yw,AT=Yw?+Yw[1]:0,ir=!Ur&&!!Ns&&/Apple Computer/.test(Ns.vendor),uc=ir&&(/Mobile\/\w+/.test(si)||!!Ns&&Ns.maxTouchPoints>2),Tn=uc||(Ns?/Mac/.test(Ns.platform):!1),IT=Ns?/Win/.test(Ns.platform):!1,io=/Android \d/.test(si),Au=!!OT&&"webkitFontSmoothing"in OT.documentElement.style,H9=Au?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function q9(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ao(t,e){return typeof t=="number"?t:t[e]}function K9(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function DT(t,e,r){let n=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let i=r||t.dom;i;){if(i.nodeType!=1){i=dc(i);continue}let a=i,c=a==o.body,d=c?q9(o):K9(a),u=0,h=0;if(e.top<d.top+ao(n,"top")?h=-(d.top-e.top+ao(s,"top")):e.bottom>d.bottom-ao(n,"bottom")&&(h=e.bottom-e.top>d.bottom-d.top?e.top+ao(s,"top")-d.top:e.bottom-d.bottom+ao(s,"bottom")),e.left<d.left+ao(n,"left")?u=-(d.left-e.left+ao(s,"left")):e.right>d.right-ao(n,"right")&&(u=e.right-d.right+ao(s,"right")),u||h)if(c)o.defaultView.scrollBy(u,h);else{let p=a.scrollLeft,v=a.scrollTop;h&&(a.scrollTop+=h),u&&(a.scrollLeft+=u);let g=a.scrollLeft-p,y=a.scrollTop-v;e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y}}let f=c?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(f))break;i=f=="absolute"?i.offsetParent:dc(i)}}function G9(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,s;for(let o=(e.left+e.right)/2,i=r+1;i<Math.min(innerHeight,e.bottom);i+=5){let a=t.root.elementFromPoint(o,i);if(!a||a==t.dom||!t.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=r-20){n=a,s=c.top;break}}return{refDOM:n,refTop:s,stack:LT(t.dom)}}function LT(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=dc(n));return e}function Y9({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;$T(r,n==0?0:n-e)}function $T(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:s,left:o}=t[r];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=o&&(n.scrollLeft=o)}}let hc=null;function J9(t){if(t.setActive)return t.setActive();if(hc)return t.focus(hc);let e=LT(t);t.focus(hc==null?{get preventScroll(){return hc={preventScroll:!0},!0}}:void 0),hc||(hc=!1,$T(e,0))}function FT(t,e){let r,n=2e8,s,o=0,i=e.top,a=e.top,c,d;for(let u=t.firstChild,h=0;u;u=u.nextSibling,h++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=oo(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let v=f[p];if(v.top<=i&&v.bottom>=a){i=Math.max(v.bottom,i),a=Math.min(v.top,a);let g=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(g<n){r=u,n=g,s=g&&r.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,u.nodeType==1&&g&&(o=h+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!c&&v.left<=e.left&&v.right>=e.left&&(c=u,d={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!r&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(o=h+1)}}return!r&&c&&(r=c,s=d,n=0),r&&r.nodeType==3?Q9(r,s):!r||n&&r.nodeType==1?{node:t,offset:o}:FT(r,s)}function Q9(t,e){let r=t.nodeValue.length,n=document.createRange(),s;for(let o=0;o<r;o++){n.setEnd(t,o+1),n.setStart(t,o);let i=ii(n,1);if(i.top!=i.bottom&&Jw(e,i)){s={node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)};break}}return n.detach(),s||{node:t,offset:0}}function Jw(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function X9(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function Z9(t,e,r){let{node:n,offset:s}=FT(e,r),o=-1;if(n.nodeType==1&&!n.firstChild){let i=n.getBoundingClientRect();o=i.left!=i.right&&r.left>(i.left+i.right)/2?1:-1}return t.docView.posFromDOM(n,s,o)}function e7(t,e,r,n){let s=-1;for(let o=e,i=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0),c;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((c=a.dom.getBoundingClientRect()).width||c.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!i&&c.left>n.left||c.top>n.top?s=a.posBefore:(!i&&c.right<n.left||c.bottom<n.top)&&(s=a.posAfter),i=!0),!a.contentDOM&&s<0&&!a.node.isText))return(a.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,r,-1)}function zT(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),o=s;;){let i=t.childNodes[o];if(i.nodeType==1){let a=i.getClientRects();for(let c=0;c<a.length;c++){let d=a[c];if(Jw(e,d))return zT(i,e,d)}}if((o=(o+1)%n)==s)break}return t}function t7(t,e){let r=t.dom.ownerDocument,n,s=0,o=W9(r,e.left,e.top);o&&({node:n,offset:s}=o);let i=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),a;if(!i||!t.dom.contains(i.nodeType!=1?i.parentNode:i)){let d=t.dom.getBoundingClientRect();if(!Jw(e,d)||(i=zT(t.dom,e,d),!i))return null}if(ir)for(let d=i;n&&d;d=dc(d))d.draggable&&(n=void 0);if(i=X9(i,e),n){if(_n&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let u=n.childNodes[s],h;u.nodeName=="IMG"&&(h=u.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&s++}let d;Au&&s&&n.nodeType==1&&(d=n.childNodes[s-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&s--,n==t.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(a=e7(t,n,s,e))}a==null&&(a=Z9(t,i,e));let c=t.docView.nearestDesc(i,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function BT(t){return t.top<t.bottom||t.left<t.right}function ii(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(BT(n))return n}return Array.prototype.find.call(r,BT)||t.getBoundingClientRect()}const r7=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function UT(t,e,r){let{node:n,offset:s,atom:o}=t.docView.domFromPos(e,r<0?-1:1),i=Au||_n;if(n.nodeType==3)if(i&&(r7.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let c=ii(oo(n,s,s),r);if(_n&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let d=ii(oo(n,s-1,s-1),-1);if(d.top==c.top){let u=ii(oo(n,s,s+1),-1);if(u.top!=c.top)return Iu(u,u.left<d.left)}}return c}else{let c=s,d=s,u=r<0?1:-1;return r<0&&!s?(d++,u=-1):r>=0&&s==n.nodeValue.length?(c--,u=1):r<0?c--:d++,Iu(ii(oo(n,c,d),u),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(r<0||s==En(n))){let c=n.childNodes[s-1];if(c.nodeType==1)return Qw(c.getBoundingClientRect(),!1)}if(o==null&&s<En(n)){let c=n.childNodes[s];if(c.nodeType==1)return Qw(c.getBoundingClientRect(),!0)}return Qw(n.getBoundingClientRect(),r>=0)}if(o==null&&s&&(r<0||s==En(n))){let c=n.childNodes[s-1],d=c.nodeType==3?oo(c,En(c)-(i?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return Iu(ii(d,1),!1)}if(o==null&&s<En(n)){let c=n.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?oo(c,0,i?0:1):c.nodeType==1?c:null:null;if(d)return Iu(ii(d,-1),!0)}return Iu(ii(n.nodeType==3?oo(n):n,-r),r>=0)}function Iu(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Qw(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function VT(t,e,r){let n=t.state,s=t.root.activeElement;n!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),s!=t.dom&&s&&s.focus()}}function n7(t,e,r){let n=e.selection,s=r=="up"?n.$from:n.$to;return VT(t,e,()=>{let{node:o}=t.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let i=UT(t,s.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=oo(a,0,a.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let u=c[d];if(u.bottom>u.top+1&&(r=="up"?i.top-u.top>(u.bottom-i.top)*2:u.bottom-i.bottom>(i.bottom-u.top)*2))return!1}}return!0})}const s7=/[\u0590-\u08ac]/;function o7(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,o=!s,i=s==n.parent.content.size,a=t.domSelection();return a?!s7.test(n.parent.textContent)||!a.modify?r=="left"||r=="backward"?o:i:VT(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:u,anchorOffset:h}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",r,"character");let p=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:v,focusOffset:g}=t.domSelectionRange(),y=v&&!p.contains(v.nodeType==1?v:v.parentNode)||c==v&&d==g;try{a.collapse(u,h),c&&(c!=u||d!=h)&&a.extend&&a.extend(c,d)}catch{}return f!=null&&(a.caretBidiLevel=f),y}):n.pos==n.start()||n.pos==n.end()}let WT=null,HT=null,qT=!1;function i7(t,e,r){return WT==e&&HT==r?qT:(WT=e,HT=r,qT=r=="up"||r=="down"?n7(t,e,r):o7(t,e,r))}const Rn=0,KT=1,ba=2,Cs=3;class Du{constructor(e,r,n,s){this.parent=e,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=Rn,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let o,i;if(e==this.contentDOM)o=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((i=o.pmViewDesc)&&i.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(i)+i.size:this.posAtStart}else{let o,i;if(e==this.contentDOM)o=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((i=o.pmViewDesc)&&i.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(i):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=r>or(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&r==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),i;if(o&&(!r||o.node))if(n&&(i=o.nodeDOM)&&!(i.nodeType==1?i.contains(e.nodeType==1?e:e.parentNode):i==e))n=!1;else return o}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],o=n+s.size;if(n==e&&o!=n){for(;!s.border&&s.children.length;)for(let i=0;i<s.children.length;i++){let a=s.children[i];if(a.size){s=a;break}}return s}if(e<o)return s.descAt(e-n-s.border);n=o}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let o=0;n<this.children.length;n++){let i=this.children[n],a=o+i.size;if(a>e||i instanceof JT){s=e-o;break}o=a}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof GT&&o.side>=0;n--);if(r<=0){let o,i=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,i=!1);return o&&r&&i&&!o.border&&!o.domAtom?o.domFromPos(o.size,r):{node:this.contentDOM,offset:o?or(o.dom)+1:0}}else{let o,i=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,i=!1);return o&&i&&!o.border&&!o.domAtom?o.domFromPos(0,r):{node:this.contentDOM,offset:o?or(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let i=n,a=0;;a++){let c=this.children[a],d=i+c.size;if(s==-1&&e<=d){let u=i+c.border;if(e>=u&&r<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,u);e=i;for(let h=a;h>0;h--){let f=this.children[h-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=or(f.dom)+1;break}e-=f.size}s==-1&&(s=0)}if(s>-1&&(d>r||a==this.children.length-1)){r=d;for(let u=a+1;u<this.children.length;u++){let h=this.children[u];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=or(h.dom);break}r+=h.size}o==-1&&(o=this.contentDOM.childNodes.length);break}i=d}return{node:this.contentDOM,from:e,to:r,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,s=!1){let o=Math.min(e,r),i=Math.max(e,r);for(let p=0,v=0;p<this.children.length;p++){let g=this.children[p],y=v+g.size;if(o>v&&i<y)return g.setSelection(e-v-g.border,r-v-g.border,n,s);v=y}let a=this.domFromPos(e,e?-1:1),c=r==e?a:this.domFromPos(r,r?-1:1),d=n.root.getSelection(),u=n.domSelectionRange(),h=!1;if((_n||ir)&&e==r){let{node:p,offset:v}=a;if(p.nodeType==3){if(h=!!(v&&p.nodeValue[v-1]==`
`),h&&v==p.nodeValue.length)for(let g=p,y;g;g=g.parentNode){if(y=g.nextSibling){y.nodeName=="BR"&&(a=c={node:y.parentNode,offset:or(y)+1});break}let x=g.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let g=p.childNodes[v-1];h=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(_n&&u.focusNode&&u.focusNode!=c.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(s=!0)}if(!(s||h&&ir)&&xa(a.node,a.offset,u.anchorNode,u.anchorOffset)&&xa(c.node,c.offset,u.focusNode,u.focusOffset))return;let f=!1;if((d.extend||e==r)&&!(h&&_n)){d.collapse(a.node,a.offset);try{e!=r&&d.extend(c.node,c.offset),f=!0}catch{}}if(!f){if(e>r){let v=a;a=c,c=v}let p=document.createRange();p.setEnd(c.node,c.offset),p.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,s=0;s<this.children.length;s++){let o=this.children[s],i=n+o.size;if(n==i?e<=i&&r>=n:e<i&&r>n){let a=n+o.border,c=i-o.border;if(e>=a&&r<=c){this.dirty=e==n||r==i?ba:KT,e==a&&r==c&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Cs:o.markDirty(e-a,r-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?ba:Cs}n=i}this.dirty=ba}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?ba:KT;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class GT extends Du{constructor(e,r,n,s){let o,i=r.type.toDOM;if(typeof i=="function"&&(i=i(n,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!r.type.spec.raw){if(i.nodeType!=1){let a=document.createElement("span");a.appendChild(i),i=a}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=r,this.widget=r,o=this}matchesWidget(e){return this.dirty==Rn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class a7 extends Du{constructor(e,r,n,s){super(e,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ka extends Du{constructor(e,r,n,s,o){super(e,[],n,s),this.mark=r,this.spec=o}static create(e,r,n,s){let o=s.nodeViews[r.type.name],i=o&&o(r,s,n);return(!i||!i.dom)&&(i=va.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new ka(e,r,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&Cs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Cs&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Rn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Rn}}slice(e,r,n){let s=ka.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;r<i&&(o=Zw(o,r,i,n)),e>0&&(o=Zw(o,0,e,n));for(let a=0;a<o.length;a++)o[a].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ai extends Du{constructor(e,r,n,s,o,i,a,c,d){super(e,[],o,i),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=a}static create(e,r,n,s,o,i){let a=o.nodeViews[r.type.name],c,d=a&&a(r,o,()=>{if(!c)return i;if(c.parent)return c.parent.posBeforeChild(c)},n,s),u=d&&d.dom,h=d&&d.contentDOM;if(r.isText){if(!u)u=document.createTextNode(r.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:h}=va.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!h&&!r.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),r.type.spec.draggable&&(u.draggable=!0));let f=u;return u=ZT(u,n,r),d?c=new l7(e,r,n,s,u,h||null,f,d,o,i+1):r.isText?new om(e,r,n,s,u,f,o):new ai(e,r,n,s,u,h||null,f,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Y.empty)}return e}matchesNode(e,r,n){return this.dirty==Rn&&e.eq(this.node)&&im(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,s=r,o=e.composing?this.localCompositionInfo(e,r):null,i=o&&o.pos>-1?o:null,a=o&&o.pos<0,c=new d7(this,i&&i.node,e);f7(this.node,this.innerDeco,(d,u,h)=>{d.spec.marks?c.syncToMarks(d.spec.marks,n,e,u):d.type.side>=0&&!h&&c.syncToMarks(u==this.node.childCount?Ve.none:this.node.child(u).marks,n,e,u),c.placeWidget(d,e,s)},(d,u,h,f)=>{c.syncToMarks(d.marks,n,e,f);let p;c.findNodeMatch(d,u,h,f)||a&&e.state.selection.from>s&&e.state.selection.to<s+d.nodeSize&&(p=c.findIndexWithChild(o.node))>-1&&c.updateNodeAt(d,u,h,p,e)||c.updateNextNode(d,u,h,e,f,s)||c.addNode(d,u,h,e,s),s+=d.nodeSize}),c.syncToMarks([],n,e,0),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==ba)&&(i&&this.protectLocalComposition(e,i),QT(this.contentDOM,this.children,e),uc&&p7(this.dom))}localCompositionInfo(e,r){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof Ne)||n<r||s>r+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let i=o.nodeValue,a=m7(this.node.content,i,n-r,s-r);return a<0?null:{node:o,pos:a,text:i}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let o=r;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new a7(this,o,r,s);e.input.compositionNodes.push(i),this.children=Zw(this.children,n,n+s.length,e,i)}update(e,r,n,s){return this.dirty==Cs||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,s),!0)}updateInner(e,r,n,s){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Rn}updateOuterDeco(e){if(im(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=XT(this.dom,this.nodeDOM,Xw(this.outerDeco,this.node,r),Xw(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function YT(t,e,r,n,s){ZT(n,e,t);let o=new ai(void 0,t,e,r,n,n,n,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class om extends ai{constructor(e,r,n,s,o,i,a){super(e,r,n,s,o,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,s){return this.dirty==Cs||this.dirty!=Rn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Rn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Rn,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let s=this.node.cut(e,r),o=document.createTextNode(s.text);return new om(this.parent,s,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Cs)}get domAtom(){return!1}isText(e){return this.node.text==e}}class JT extends Du{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Rn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class l7 extends ai{constructor(e,r,n,s,o,i,a,c,d,u){super(e,r,n,s,o,i,a,d,u),this.spec=c}update(e,r,n,s){if(this.dirty==Cs)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,r,n);return o&&this.updateInner(e,r,n,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,s){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function QT(t,e,r){let n=t.firstChild,s=!1;for(let o=0;o<e.length;o++){let i=e[o],a=i.dom;if(a.parentNode==t){for(;a!=n;)n=eR(n),s=!0;n=n.nextSibling}else s=!0,t.insertBefore(a,n);if(i instanceof ka){let c=n?n.previousSibling:t.lastChild;QT(i.contentDOM,i.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=eR(n),s=!0;s&&r.trackWrites==t&&(r.trackWrites=null)}const Lu=function(t){t&&(this.nodeName=t)};Lu.prototype=Object.create(null);const Sa=[new Lu];function Xw(t,e,r){if(t.length==0)return Sa;let n=r?Sa[0]:new Lu,s=[n];for(let o=0;o<t.length;o++){let i=t[o].type.attrs;if(i){i.nodeName&&s.push(n=new Lu(i.nodeName));for(let a in i){let c=i[a];c!=null&&(r&&s.length==1&&s.push(n=new Lu(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+c:a=="style"?n.style=(n.style?n.style+";":"")+c:a!="nodeName"&&(n[a]=c))}}}return s}function XT(t,e,r,n){if(r==Sa&&n==Sa)return e;let s=e;for(let o=0;o<n.length;o++){let i=n[o],a=r[o];if(o){let c;a&&a.nodeName==i.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==i.nodeName||(c=document.createElement(i.nodeName),c.pmIsDeco=!0,c.appendChild(s),a=Sa[0]),s=c}c7(s,a||Sa[0],i)}return s}function c7(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)s.indexOf(n[o])==-1&&t.classList.remove(n[o]);for(let o=0;o<s.length;o++)n.indexOf(s[o])==-1&&t.classList.add(s[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)t.style.removeProperty(s[1])}r.style&&(t.style.cssText+=r.style)}}function ZT(t,e,r){return XT(t,t,Sa,Xw(e,r,t.nodeType!=1))}function im(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function eR(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class d7{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=u7(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n,s){let o=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;o<a&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=Rn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let c=-1,d=this.top.children.length;s<this.preMatch.index&&(d=Math.min(this.index+3,d));for(let u=this.index;u<d;u++){let h=this.top.children[u];if(h.matchesMark(e[i])&&!this.isLocked(h.dom)){c=u;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let u=ka.create(this.top,e[i],r,n);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,i++}}findNodeMatch(e,r,n,s){let o=-1,i;if(s>=this.preMatch.index&&(i=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&i.matchesNode(e,r,n))o=this.top.children.indexOf(i,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let d=this.top.children[a];if(d.matchesNode(e,r,n)&&!this.preMatch.matched.has(d)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,r,n,s,o){let i=this.top.children[s];return i.dirty==Cs&&i.dom==i.contentDOM&&(i.dirty=ba),i.update(e,r,n,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=r}}updateNextNode(e,r,n,s,o,i){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof ai){let d=this.preMatch.matched.get(c);if(d!=null&&d!=o)return!1;let u=c.dom,h,f=this.isLocked(u)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Cs&&im(r,c.outerDeco));if(!f&&c.update(e,r,n,s))return this.destroyBetween(this.index,a),c.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(h=this.recreateWrapper(c,e,r,n,s,i)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=ba,h.updateChildren(s,i+1),h.dirty=Rn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,s,o,i){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!im(n,e.outerDeco)||!s.eq(e.innerDeco))return null;let a=ai.create(this.top,r,n,s,o,i);if(a.contentDOM){a.children=e.children,e.children=[];for(let c of a.children)c.parent=a}return e.destroy(),a}addNode(e,r,n,s,o){let i=ai.create(this.top,e,r,n,s,o);i.contentDOM&&i.updateChildren(s,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new GT(this.top,e,r,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof ka;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof om)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ir||Wt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new JT(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function u7(t,e){let r=e,n=r.children.length,s=t.childCount,o=new Map,i=[];e:for(;s>0;){let a;for(;;)if(n){let d=r.children[n-1];if(d instanceof ka)r=d,n=d.children.length;else{a=d,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=a.node;if(c){if(c!=t.child(s-1))break;--s,o.set(a,s),i.push(a)}}return{index:s,matched:o,matches:i.reverse()}}function h7(t,e){return t.type.side-e.type.side}function f7(t,e,r,n){let s=e.locals(t),o=0;if(s.length==0){for(let d=0;d<t.childCount;d++){let u=t.child(d);n(u,s,e.forChild(o,u),d),o+=u.nodeSize}return}let i=0,a=[],c=null;for(let d=0;;){let u,h;for(;i<s.length&&s[i].to==o;){let y=s[i++];y.widget&&(u?(h||(h=[u])).push(y):u=y)}if(u)if(h){h.sort(h7);for(let y=0;y<h.length;y++)r(h[y],d,!!c)}else r(u,d,!!c);let f,p;if(c)p=-1,f=c,c=null;else if(d<t.childCount)p=d,f=t.child(d++);else break;for(let y=0;y<a.length;y++)a[y].to<=o&&a.splice(y--,1);for(;i<s.length&&s[i].from<=o&&s[i].to>o;)a.push(s[i++]);let v=o+f.nodeSize;if(f.isText){let y=v;i<s.length&&s[i].from<y&&(y=s[i].from);for(let x=0;x<a.length;x++)a[x].to<y&&(y=a[x].to);y<v&&(c=f.cut(y-o),f=f.cut(0,y-o),v=y,p=-1)}else for(;i<s.length&&s[i].to<v;)i++;let g=f.isInline&&!f.isLeaf?a.filter(y=>!y.inline):a.slice();n(f,g,e.forChild(o,f),p),o=v}}function p7(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function m7(t,e,r,n){for(let s=0,o=0;s<t.childCount&&o<=n;){let i=t.child(s++),a=o;if(o+=i.nodeSize,!i.isText)continue;let c=i.text;for(;s<t.childCount;){let d=t.child(s++);if(o+=d.nodeSize,!d.isText)break;c+=d.text}if(o>=r){if(o>=n&&c.slice(n-e.length-a,n-a)==e)return n-e.length;let d=a<n?c.lastIndexOf(e,n-a-1):-1;if(d>=0&&d+e.length+a>=r)return a+d;if(r==n&&c.length>=n+e.length-a&&c.slice(n-a,n-a+e.length)==e)return n}}return-1}function Zw(t,e,r,n,s){let o=[];for(let i=0,a=0;i<t.length;i++){let c=t[i],d=a,u=a+=c.size;d>=r||u<=e?o.push(c):(d<e&&o.push(c.slice(0,e-d,n)),s&&(o.push(s),s=void 0),u>r&&o.push(c.slice(r-d,c.size,n)))}return o}function e0(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let s=t.docView.nearestDesc(r.focusNode),o=s&&s.size==0,i=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(i<0)return null;let a=n.resolve(i),c,d;if(sm(r)){for(c=i;s&&!s.node;)s=s.parent;let h=s.node;if(s&&h.isAtom&&fe.isSelectable(h)&&s.parent&&!(h.isInline&&U9(r.focusNode,r.focusOffset,s.dom))){let f=s.posBefore;d=new fe(i==f?a:n.resolve(f))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let h=i,f=i;for(let p=0;p<r.rangeCount;p++){let v=r.getRangeAt(p);h=Math.min(h,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(h<0)return null;[c,i]=f==t.state.selection.anchor?[f,h]:[h,f],a=n.resolve(i)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let u=n.resolve(c);if(!d){let h=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;d=r0(t,u,a,h)}return d}function tR(t){return t.editable?t.hasFocus():lR(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function lo(t,e=!1){let r=t.state.selection;if(oR(t,r),!!tR(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Wt){let n=t.domSelectionRange(),s=t.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&xa(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)v7(t);else{let{anchor:n,head:s}=r,o,i;rR&&!(r instanceof Ne)&&(r.$from.parent.inlineContent||(o=nR(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(i=nR(t,r.to))),t.docView.setSelection(n,s,t,e),rR&&(o&&sR(o),i&&sR(i)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&g7(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const rR=ir||Wt&&AT<63;function nR(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),s=n<r.childNodes.length?r.childNodes[n]:null,o=n?r.childNodes[n-1]:null;if(ir&&s&&s.contentEditable=="false")return t0(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return t0(s);if(o)return t0(o)}}function t0(t){return t.contentEditable="true",ir&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function sR(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function g7(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!tR(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function v7(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,or(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&Ur&&oi<=11&&(r.disabled=!0,r.disabled=!1)}function oR(t,e){if(e instanceof fe){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(iR(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else iR(t)}function iR(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function r0(t,e,r,n){return t.someProp("createSelectionBetween",s=>s(t,e,r))||Ne.between(e,r,n)}function aR(t){return t.editable&&!t.hasFocus()?!1:lR(t)}function lR(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function y7(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return xa(e.node,e.offset,r.anchorNode,r.anchorOffset)}function n0(t,e){let{$anchor:r,$head:n}=t.selection,s=e>0?r.max(n):r.min(n),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&_e.findFrom(o,e)}function li(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function cR(t,e,r){let n=t.state.selection;if(n instanceof Ne)if(r.indexOf("s")>-1){let{$head:s}=n,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let i=t.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return li(t,new Ne(n.$anchor,i))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=n0(t.state,e);return s&&s instanceof fe?li(t,s):!1}else if(!(Tn&&r.indexOf("m")>-1)){let s=n.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,i;if(!o||o.isText)return!1;let a=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(i=t.docView.descAt(a))&&!i.contentDOM?fe.isSelectable(o)?li(t,new fe(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):Au?li(t,new Ne(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof fe&&n.node.isInline)return li(t,new Ne(e>0?n.$to:n.$from));{let s=n0(t.state,e);return s?li(t,s):!1}}}function am(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function $u(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function fc(t,e){return e<0?x7(t):w7(t)}function x7(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s,o,i=!1;for(_n&&r.nodeType==1&&n<am(r)&&$u(r.childNodes[n],-1)&&(i=!0);;)if(n>0){if(r.nodeType!=1)break;{let a=r.childNodes[n-1];if($u(a,-1))s=r,o=--n;else if(a.nodeType==3)r=a,n=r.nodeValue.length;else break}}else{if(dR(r))break;{let a=r.previousSibling;for(;a&&$u(a,-1);)s=r.parentNode,o=or(a),a=a.previousSibling;if(a)r=a,n=am(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}i?s0(t,r,n):s&&s0(t,s,o)}function w7(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s=am(r),o,i;for(;;)if(n<s){if(r.nodeType!=1)break;let a=r.childNodes[n];if($u(a,1))o=r,i=++n;else break}else{if(dR(r))break;{let a=r.nextSibling;for(;a&&$u(a,1);)o=a.parentNode,i=or(a)+1,a=a.nextSibling;if(a)r=a,n=0,s=am(r);else{if(r=r.parentNode,r==t.dom)break;n=s=0}}}o&&s0(t,o,i)}function dR(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function b7(t,e){for(;t&&e==t.childNodes.length&&!Pu(t);)e=or(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function k7(t,e){for(;t&&!e&&!Pu(t);)e=or(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function s0(t,e,r){if(e.nodeType!=3){let o,i;(i=b7(e,r))?(e=i,r=0):(o=k7(e,r))&&(e=o,r=o.nodeValue.length)}let n=t.domSelection();if(!n)return;if(sm(n)){let o=document.createRange();o.setEnd(e,r),o.setStart(e,r),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&lo(t)},50)}function uR(t,e){let r=t.state.doc.resolve(e);if(!(Wt||IT)&&r.parent.inlineContent){let s=t.coordsAtPos(e);if(e>r.start()){let o=t.coordsAtPos(e-1),i=(o.top+o.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<r.end()){let o=t.coordsAtPos(e+1),i=(o.top+o.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function hR(t,e,r){let n=t.state.selection;if(n instanceof Ne&&!n.empty||r.indexOf("s")>-1||Tn&&r.indexOf("m")>-1)return!1;let{$from:s,$to:o}=n;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let i=n0(t.state,e);if(i&&i instanceof fe)return li(t,i)}if(!s.parent.inlineContent){let i=e<0?s:o,a=n instanceof cn?_e.near(i,e):_e.findFrom(i,e);return a?li(t,a):!1}return!1}function fR(t,e){if(!(t.state.selection instanceof Ne))return!0;let{$head:r,$anchor:n,empty:s}=t.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){let i=t.state.tr;return e<0?i.delete(r.pos-o.nodeSize,r.pos):i.delete(r.pos,r.pos+o.nodeSize),t.dispatch(i),!0}return!1}function pR(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function S7(t){if(!ir||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;pR(t,n,"true"),setTimeout(()=>pR(t,n,"false"),20)}return!1}function N7(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function C7(t,e){let r=e.keyCode,n=N7(e);if(r==8||Tn&&r==72&&n=="c")return fR(t,-1)||fc(t,-1);if(r==46&&!e.shiftKey||Tn&&r==68&&n=="c")return fR(t,1)||fc(t,1);if(r==13||r==27)return!0;if(r==37||Tn&&r==66&&n=="c"){let s=r==37?uR(t,t.state.selection.from)=="ltr"?-1:1:-1;return cR(t,s,n)||fc(t,s)}else if(r==39||Tn&&r==70&&n=="c"){let s=r==39?uR(t,t.state.selection.from)=="ltr"?1:-1:1;return cR(t,s,n)||fc(t,s)}else{if(r==38||Tn&&r==80&&n=="c")return hR(t,-1,n)||fc(t,-1);if(r==40||Tn&&r==78&&n=="c")return S7(t)||hR(t,1,n)||fc(t,1);if(n==(Tn?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function o0(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let r=[],{content:n,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,o--;let p=n.firstChild;r.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let i=t.someProp("clipboardSerializer")||va.fromSchema(t.state.schema),a=kR(),c=a.createElement("div");c.appendChild(i.serializeFragment(n,{document:a}));let d=c.firstChild,u,h=0;for(;d&&d.nodeType==1&&(u=wR[d.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let v=a.createElement(u[p]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),h++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${s} ${o}${h?` -${h}`:""} ${JSON.stringify(r)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:f,slice:e}}function mR(t,e,r,n,s){let o=s.parent.type.spec.code,i,a;if(!r&&!e)return null;let c=!!e&&(n||o||!r);if(c){if(t.someProp("transformPastedText",f=>{e=f(e,o||n,t)}),o)return a=new oe(Y.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",f=>{a=f(a,t,!0)}),a;let h=t.someProp("clipboardTextParser",f=>f(e,s,n,t));if(h)a=h;else{let f=s.marks(),{schema:p}=t.state,v=va.fromSchema(p);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=i.appendChild(document.createElement("p"));g&&y.appendChild(v.serializeNode(p.text(g,f)))})}}else t.someProp("transformPastedHTML",h=>{r=h(r,t)}),i=T7(r),Au&&R7(i);let d=i&&i.querySelector("[data-pm-slice]"),u=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let h=+u[3];h>0;h--){let f=i.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;i=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||ei.fromSchema(t.state.schema)).parseSlice(i,{preserveWhitespace:!!(c||u),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!j7.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=M7(xR(a,+u[1],+u[2]),u[4]);else if(a=oe.maxOpen(E7(a.content,s),!0),a.openStart||a.openEnd){let h=0,f=0;for(let p=a.content.firstChild;h<a.openStart&&!p.type.spec.isolating;h++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=xR(a,h,f)}return t.someProp("transformPasted",h=>{a=h(a,t,c)}),a}const j7=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function E7(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.index(r)),o,i=[];if(t.forEach(a=>{if(!i)return;let c=s.findWrapping(a.type),d;if(!c)return i=null;if(d=i.length&&o.length&&vR(c,o,a,i[i.length-1],0))i[i.length-1]=d;else{i.length&&(i[i.length-1]=yR(i[i.length-1],o.length));let u=gR(a,c);i.push(u),s=s.matchType(u.type),o=c}}),i)return Y.from(i)}return t}function gR(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,Y.from(t));return t}function vR(t,e,r,n,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=vR(t,e,r,n.lastChild,s+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(s==t.length-1?r.type:t[s+1]))return n.copy(n.content.append(Y.from(gR(r,t,s+1))))}}function yR(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,yR(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Y.empty,!0);return t.copy(r.append(n))}function i0(t,e,r,n,s,o){let i=e<0?t.firstChild:t.lastChild,a=i.content;return t.childCount>1&&(o=0),s<n-1&&(a=i0(a,e,r,n,s+1,o)),s>=r&&(a=e<0?i.contentMatchAt(0).fillBefore(a,o<=s).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(Y.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,i.copy(a))}function xR(t,e,r){return e<t.openStart&&(t=new oe(i0(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new oe(i0(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const wR={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let bR=null;function kR(){return bR||(bR=document.implementation.createHTMLDocument("title"))}let a0=null;function _7(t){let e=window.trustedTypes;return e?(a0||(a0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),a0.createHTML(t)):t}function T7(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=kR().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),s;if((s=n&&wR[n[1].toLowerCase()])&&(t=s.map(o=>"<"+o+">").join("")+t+s.map(o=>"</"+o+">").reverse().join("")),r.innerHTML=_7(t),s)for(let o=0;o<s.length;o++)r=r.querySelector(s[o])||r;return r}function R7(t){let e=t.querySelectorAll(Wt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function M7(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:s,openStart:o,openEnd:i}=t;for(let a=n.length-2;a>=0;a-=2){let c=r.nodes[n[a]];if(!c||c.hasRequiredAttrs())break;s=Y.from(c.create(n[a+1],s)),o++,i++}return new oe(s,o,i)}const Er={},_r={},O7={touchstart:!0,touchmove:!0};class P7{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function A7(t){for(let e in Er){let r=Er[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{D7(t,n)&&!c0(t,n)&&(t.editable||!(n.type in _r))&&r(t,n)},O7[e]?{passive:!0}:void 0)}ir&&t.dom.addEventListener("input",()=>null),l0(t)}function ci(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function I7(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function l0(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>c0(t,n))})}function c0(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function D7(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function L7(t,e){!c0(t,e)&&Er[e.type]&&(t.editable||!(e.type in _r))&&Er[e.type](t,e)}_r.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!NR(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(io&&Wt&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),uc&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",s=>s(t,wa(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||C7(t,r)?r.preventDefault():ci(t,"key")},_r.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)},_r.keypress=(t,e)=>{let r=e;if(NR(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Tn&&r.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof Ne)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode),o=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,n.$from.pos,n.$to.pos,s,o))&&t.dispatch(o()),r.preventDefault()}};function lm(t){return{left:t.clientX,top:t.clientY}}function $7(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function d0(t,e,r,n,s){if(n==-1)return!1;let o=t.state.doc.resolve(n);for(let i=o.depth+1;i>0;i--)if(t.someProp(e,a=>i>o.depth?a(t,r,o.nodeAfter,o.before(i),s,!0):a(t,r,o.node(i),o.before(i),s,!1)))return!0;return!1}function pc(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function F7(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&fe.isSelectable(n)?(pc(t,new fe(r)),!0):!1}function z7(t,e){if(e==-1)return!1;let r=t.state.selection,n,s;r instanceof fe&&(n=r.node);let o=t.state.doc.resolve(e);for(let i=o.depth+1;i>0;i--){let a=i>o.depth?o.nodeAfter:o.node(i);if(fe.isSelectable(a)){n&&r.$from.depth>0&&i>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?s=o.before(r.$from.depth):s=o.before(i);break}}return s!=null?(pc(t,fe.create(t.state.doc,s)),!0):!1}function B7(t,e,r,n,s){return d0(t,"handleClickOn",e,r,n)||t.someProp("handleClick",o=>o(t,e,n))||(s?z7(t,r):F7(t,r))}function U7(t,e,r,n){return d0(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",s=>s(t,e,n))}function V7(t,e,r,n){return d0(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",s=>s(t,e,n))||W7(t,r,n)}function W7(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(pc(t,Ne.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let o=s.depth+1;o>0;o--){let i=o>s.depth?s.nodeAfter:s.node(o),a=s.before(o);if(i.inlineContent)pc(t,Ne.create(n,a+1,a+1+i.content.size));else if(fe.isSelectable(i))pc(t,fe.create(n,a));else continue;return!0}}function u0(t){return cm(t)}const SR=Tn?"metaKey":"ctrlKey";Er.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=u0(t),s=Date.now(),o="singleClick";s-t.input.lastClick.time<500&&$7(r,t.input.lastClick)&&!r[SR]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:o,button:r.button};let i=t.posAtCoords(lm(r));i&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new H7(t,i,r,!!n)):(o=="doubleClick"?U7:V7)(t,i.pos,i.inside,r)?r.preventDefault():ci(t,"pointer"))};class H7{constructor(e,r,n,s){this.view=e,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[SR],this.allowDefault=n.shiftKey;let o,i;if(r.inside>-1)o=e.state.doc.nodeAt(r.inside),i=r.inside;else{let u=e.state.doc.resolve(r.pos);o=u.parent,i=u.depth?u.before():0}const a=s?null:n.target,c=a?e.docView.nearestDesc(a,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:d}=e.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||d instanceof fe&&d.from<=i&&d.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&_n&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ci(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>lo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(lm(e))),this.updateAllowDefault(e),this.allowDefault||!r?ci(this.view,"pointer"):B7(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ir&&this.mightDrag&&!this.mightDrag.node.isAtom||Wt&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(pc(this.view,_e.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):ci(this.view,"pointer")}move(e){this.updateAllowDefault(e),ci(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Er.touchstart=t=>{t.input.lastTouch=Date.now(),u0(t),ci(t,"pointer")},Er.touchmove=t=>{t.input.lastTouch=Date.now(),ci(t,"pointer")},Er.contextmenu=t=>u0(t);function NR(t,e){return t.composing?!0:ir&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const q7=io?5e3:-1;_r.compositionstart=_r.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof Ne&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||Wt&&IT&&K7(t)))t.markCursor=t.state.storedMarks||r.marks(),cm(t,!0),t.markCursor=null;else if(cm(t,!e.selection.empty),_n&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let s=n.focusNode,o=n.focusOffset;s&&s.nodeType==1&&o!=0;){let i=o<0?s.lastChild:s.childNodes[o-1];if(!i)break;if(i.nodeType==3){let a=t.domSelection();a&&a.collapse(i,i.nodeValue.length);break}else s=i,o=-1}}t.input.composing=!0}CR(t,q7)};function K7(t){let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(!e||e.nodeType!=1||r>=e.childNodes.length)return!1;let n=e.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}_r.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,CR(t,20))};function CR(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>cm(t),e))}function jR(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Y7());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function G7(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=z9(e.focusNode,e.focusOffset),n=B9(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(r==o||n==o)return o;if(!s||!s.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let i=r.pmViewDesc;if(!(!i||!i.isText(r.nodeValue)))return n}}return r||n}function Y7(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function cm(t,e=!1){if(!(io&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),jR(t),e||t.docView&&t.docView.dirty){let r=e0(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function J7(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Fu=Ur&&oi<15||uc&&H9<604;Er.copy=_r.cut=(t,e)=>{let r=e,n=t.state.selection,s=r.type=="cut";if(n.empty)return;let o=Fu?null:r.clipboardData,i=n.content(),{dom:a,text:c}=o0(t,i);o?(r.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",c)):J7(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Q7(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function X7(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?zu(t,n.value,null,s,e):zu(t,n.textContent,n.innerHTML,s,e)},50)}function zu(t,e,r,n,s){let o=mR(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,o||oe.empty)))return!0;if(!o)return!1;let i=Q7(o),a=i?t.state.tr.replaceSelectionWith(i,n):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ER(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}_r.paste=(t,e)=>{let r=e;if(t.composing&&!io)return;let n=Fu?null:r.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&zu(t,ER(n),n.getData("text/html"),s,r)?r.preventDefault():X7(t,r)};class _R{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const Z7=Tn?"altKey":"ctrlKey";function TR(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[Z7]}Er.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=t.state.selection,o=s.empty?null:t.posAtCoords(lm(r)),i;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof fe?s.to-1:s.to))){if(n&&n.mightDrag)i=fe.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let h=t.docView.nearestDesc(r.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(i=fe.create(t.state.doc,h.posBefore))}}let a=(i||t.state.selection).content(),{dom:c,text:d,slice:u}=o0(t,a);(!r.dataTransfer.files.length||!Wt||AT>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Fu?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",Fu||r.dataTransfer.setData("text/plain",d),t.dragging=new _R(u,TR(t,r),i)},Er.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},_r.dragover=_r.dragenter=(t,e)=>e.preventDefault(),_r.drop=(t,e)=>{try{eq(t,e,t.dragging)}finally{t.dragging=null}};function eq(t,e,r){if(!e.dataTransfer)return;let n=t.posAtCoords(lm(e));if(!n)return;let s=t.state.doc.resolve(n.pos),o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o,t,!1)}):o=mR(t,ER(e.dataTransfer),Fu?null:e.dataTransfer.getData("text/html"),!1,s);let i=!!(r&&TR(t,e));if(t.someProp("handleDrop",p=>p(t,e,o||oe.empty,i))){e.preventDefault();return}if(!o)return;e.preventDefault();let a=o?yT(t.state.doc,s.pos,o):s.pos;a==null&&(a=s.pos);let c=t.state.tr;if(i){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let d=c.mapping.map(a),u=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(u?c.replaceRangeWith(d,d,o.content.firstChild):c.replaceRange(d,d,o),c.doc.eq(h))return;let f=c.doc.resolve(d);if(u&&fe.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new fe(f));else{let p=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((v,g,y,x)=>p=x),c.setSelection(r0(t,f,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}Er.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&lo(t)},20))},Er.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},Er.beforeinput=(t,e)=>{if(Wt&&io&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,wa(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in _r)Er[t]=_r[t];function Bu(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class dm{constructor(e,r){this.toDOM=e,this.spec=r||Na,this.side=this.spec.side||0}map(e,r,n,s){let{pos:o,deleted:i}=e.mapResult(r.from+s,this.side<0?-1:1);return i?null:new dn(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof dm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Bu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class di{constructor(e,r){this.attrs=e,this.spec=r||Na}map(e,r,n,s){let o=e.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,i=e.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new dn(o,i,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof di&&Bu(this.attrs,e.attrs)&&Bu(this.spec,e.spec)}static is(e){return e.type instanceof di}destroy(){}}class h0{constructor(e,r){this.attrs=e,this.spec=r||Na}map(e,r,n,s){let o=e.mapResult(r.from+s,1);if(o.deleted)return null;let i=e.mapResult(r.to+s,-1);return i.deleted||i.pos<=o.pos?null:new dn(o.pos-n,i.pos-n,this)}valid(e,r){let{index:n,offset:s}=e.content.findIndex(r.from),o;return s==r.from&&!(o=e.child(n)).isText&&s+o.nodeSize==r.to}eq(e){return this==e||e instanceof h0&&Bu(this.attrs,e.attrs)&&Bu(this.spec,e.spec)}destroy(){}}class dn{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new dn(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new dn(e,e,new dm(r,n))}static inline(e,r,n,s){return new dn(e,r,new di(n,s))}static node(e,r,n,s){return new dn(e,r,new h0(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof di}get widget(){return this.type instanceof dm}}const mc=[],Na={};class St{constructor(e,r){this.local=e.length?e:mc,this.children=r.length?r:mc}static create(e,r){return r.length?um(r,e,0,Na):pr}find(e,r,n){let s=[];return this.findInner(e??0,r??1e9,s,0,n),s}findInner(e,r,n,s,o){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=r&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+s,a.to+s))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<r&&this.children[i+1]>e){let a=this.children[i]+1;this.children[i+2].findInner(e-a,r-a,n,s+a,o)}}map(e,r,n){return this==pr||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Na)}mapInner(e,r,n,s,o){let i;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(e,n,s);c&&c.type.valid(r,c)?(i||(i=[])).push(c):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?tq(this.children,i||[],e,r,n,s,o):i?new St(i.sort(Ca),mc):pr}add(e,r){return r.length?this==pr?St.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let s,o=0;e.forEach((a,c)=>{let d=c+n,u;if(u=MR(r,a,d)){for(s||(s=this.children.slice());o<s.length&&s[o]<c;)o+=3;s[o]==c?s[o+2]=s[o+2].addInner(a,u,d+1):s.splice(o,0,c,c+a.nodeSize,um(u,a,d+1,Na)),o+=3}});let i=RR(o?OR(r):r,-n);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||i.splice(a--,1);return new St(i.length?this.local.concat(i).sort(Ca):this.local,s||this.children)}remove(e){return e.length==0||this==pr?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,s=this.local;for(let o=0;o<n.length;o+=3){let i,a=n[o]+r,c=n[o+1]+r;for(let u=0,h;u<e.length;u++)(h=e[u])&&h.from>a&&h.to<c&&(e[u]=null,(i||(i=[])).push(h));if(!i)continue;n==this.children&&(n=this.children.slice());let d=n[o+2].removeInner(i,a+1);d!=pr?n[o+2]=d:(n.splice(o,3),o-=3)}if(s.length){for(let o=0,i;o<e.length;o++)if(i=e[o])for(let a=0;a<s.length;a++)s[a].eq(i,r)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new St(s,n):pr}forChild(e,r){if(this==pr)return this;if(r.isLeaf)return St.empty;let n,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let o=e+1,i=o+r.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<i&&c.to>o&&c.type instanceof di){let d=Math.max(o,c.from)-o,u=Math.min(i,c.to)-o;d<u&&(s||(s=[])).push(c.copy(d,u))}}if(s){let a=new St(s.sort(Ca),mc);return n?new ui([a,n]):a}return n||pr}eq(e){if(this==e)return!0;if(!(e instanceof St)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return f0(this.localsInner(e))}localsInner(e){if(this==pr)return mc;if(e.inlineContent||!this.local.some(di.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof di||r.push(this.local[n]);return r}forEachSet(e){e(this)}}St.empty=new St([],[]),St.removeOverlap=f0;const pr=St.empty;class ui{constructor(e){this.members=e}map(e,r){const n=this.members.map(s=>s.map(e,r,Na));return ui.from(n)}forChild(e,r){if(r.isLeaf)return St.empty;let n=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,r);o!=pr&&(o instanceof ui?n=n.concat(o.members):n.push(o))}return ui.from(n)}eq(e){if(!(e instanceof ui)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!r)r=o;else{n&&(r=r.slice(),n=!1);for(let i=0;i<o.length;i++)r.push(o[i])}}return r?f0(n?r:r.sort(Ca)):mc}static from(e){switch(e.length){case 0:return pr;case 1:return e[0];default:return new ui(e.every(r=>r instanceof St)?e:e.reduce((r,n)=>r.concat(n instanceof St?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function tq(t,e,r,n,s,o,i){let a=t.slice();for(let d=0,u=o;d<r.maps.length;d++){let h=0;r.maps[d].forEach((f,p,v,g)=>{let y=g-v-(p-f);for(let x=0;x<a.length;x+=3){let w=a[x+1];if(w<0||f>w+u-h)continue;let b=a[x]+u-h;p>=b?a[x+1]=f<=b?-2:-1:f>=u&&y&&(a[x]+=y,a[x+1]+=y)}h+=y}),u=r.maps[d].map(u,-1)}let c=!1;for(let d=0;d<a.length;d+=3)if(a[d+1]<0){if(a[d+1]==-2){c=!0,a[d+1]=-1;continue}let u=r.map(t[d]+o),h=u-s;if(h<0||h>=n.content.size){c=!0;continue}let f=r.map(t[d+1]+o,-1),p=f-s,{index:v,offset:g}=n.content.findIndex(h),y=n.maybeChild(v);if(y&&g==h&&g+y.nodeSize==p){let x=a[d+2].mapInner(r,y,u+1,t[d]+o+1,i);x!=pr?(a[d]=h,a[d+1]=p,a[d+2]=x):(a[d+1]=-2,c=!0)}else c=!0}if(c){let d=rq(a,t,e,r,s,o,i),u=um(d,n,0,i);e=u.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,f=0;h<u.children.length;h+=3){let p=u.children[h];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,u.children[h],u.children[h+1],u.children[h+2])}}return new St(e.sort(Ca),a)}function RR(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let s=t[n];r.push(new dn(s.from+e,s.to+e,s.type))}return r}function rq(t,e,r,n,s,o,i){function a(c,d){for(let u=0;u<c.local.length;u++){let h=c.local[u].map(n,s,d);h?r.push(h):i.onRemove&&i.onRemove(c.local[u].spec)}for(let u=0;u<c.children.length;u+=3)a(c.children[u+2],c.children[u]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&a(t[c+2],e[c]+o+1);return r}function MR(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,s=null;for(let o=0,i;o<t.length;o++)(i=t[o])&&i.from>r&&i.to<n&&((s||(s=[])).push(i),t[o]=null);return s}function OR(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function um(t,e,r,n){let s=[],o=!1;e.forEach((a,c)=>{let d=MR(t,a,c+r);if(d){o=!0;let u=um(d,a,r+c+1,n);u!=pr&&s.push(c,c+a.nodeSize,u)}});let i=RR(o?OR(t):t,-r).sort(Ca);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||(n.onRemove&&n.onRemove(i[a].spec),i.splice(a--,1));return i.length||s.length?new St(i,s):pr}function Ca(t,e){return t.from-e.from||t.to-e.to}function f0(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let s=r+1;s<e.length;s++){let o=e[s];if(o.from==n.from){o.to!=n.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,n.to),PR(e,s+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,o.from),PR(e,s,n.copy(o.from,n.to)));break}}}return e}function PR(t,e,r){for(;e<t.length&&Ca(r,t[e])>0;)e++;t.splice(e,0,r)}function p0(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=pr&&e.push(n)}),t.cursorWrapper&&e.push(St.create(t.state.doc,[t.cursorWrapper.deco])),ui.from(e)}const nq={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sq=Ur&&oi<=11;class oq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class iq{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new oq,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);Ur&&oi<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():ir&&e.composing&&n.some(s=>s.type=="childList"&&s.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),sq&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,nq)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(aR(this.view)){if(this.suppressingSelectionUpdates)return lo(this.view);if(Ur&&oi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&xa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let o=e.focusNode;o;o=dc(o))r.add(o);for(let o=e.anchorNode;o;o=dc(o))if(r.has(o)){n=o;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&aR(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,a=!1,c=[];if(e.editable)for(let u=0;u<r.length;u++){let h=this.registerMutation(r[u],c);h&&(o=o<0?h.from:Math.min(h.from,o),i=i<0?h.to:Math.max(h.to,i),h.typeOver&&(a=!0))}if(_n&&c.length){let u=c.filter(h=>h.nodeName=="BR");if(u.length==2){let[h,f]=u;h.parentNode&&h.parentNode.parentNode==f.parentNode?f.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let f of u){let p=f.parentNode;p&&p.nodeName=="LI"&&(!h||cq(e,h)!=p)&&f.remove()}}}else if((Wt||ir)&&c.some(u=>u.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let u of c)if(u.nodeName=="BR"&&u.parentNode){let h=u.nextSibling;h&&h.nodeType==1&&h.contentEditable=="false"&&u.parentNode.removeChild(u)}}let d=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&sm(n)&&(d=e0(e))&&d.eq(_e.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,lo(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,i),aq(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,dq(e,c)),this.handleDOMChange(o,i,a,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||lo(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let h=e.addedNodes[u];r.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,o=e.nextSibling;if(Ur&&oi<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:h,nextSibling:f}=e.addedNodes[u];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let i=s&&s.parentNode==e.target?or(s)+1:0,a=n.localPosFromDOM(e.target,i,-1),c=o&&o.parentNode==e.target?or(o):e.target.childNodes.length,d=n.localPosFromDOM(e.target,c,1);return{from:a,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let AR=new WeakMap,IR=!1;function aq(t){if(!AR.has(t)&&(AR.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=_n,IR)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),IR=!0}}function DR(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,o=e.endOffset,i=t.domAtPos(t.state.selection.anchor);return xa(i.node,i.offset,s,o)&&([r,n,s,o]=[s,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:o}}function lq(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return DR(t,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?DR(t,r):null}function cq(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function dq(t,e){var r;let{focusNode:n,focusOffset:s}=t.domSelectionRange();for(let o of e)if(((r=o.parentNode)===null||r===void 0?void 0:r.nodeName)=="TR"){let i=o.nextSibling;for(;i&&i.nodeName!="TD"&&i.nodeName!="TH";)i=i.nextSibling;if(i){let a=i;for(;;){let c=a.firstChild;if(!c||c.nodeType!=1||c.contentEditable=="false"||/^(BR|IMG)$/.test(c.nodeName))break;a=c}a.insertBefore(o,a.firstChild),n==o&&t.domSelection().collapse(o,s)}else o.parentNode.removeChild(o)}}function uq(t,e,r){let{node:n,fromOffset:s,toOffset:o,from:i,to:a}=t.docView.parseRange(e,r),c=t.domSelectionRange(),d,u=c.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(d=[{node:u,offset:c.anchorOffset}],sm(c)||d.push({node:c.focusNode,offset:c.focusOffset})),Wt&&t.input.lastKeyCode===8)for(let y=o;y>s;y--){let x=n.childNodes[y-1],w=x.pmViewDesc;if(x.nodeName=="BR"&&!w){o=y;break}if(!w||w.size)break}let h=t.state.doc,f=t.someProp("domParser")||ei.fromSchema(t.state.schema),p=h.resolve(i),v=null,g=f.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:hq,context:p});if(d&&d[0].pos!=null){let y=d[0].pos,x=d[1]&&d[1].pos;x==null&&(x=y),v={anchor:y+i,head:x+i}}return{doc:g,sel:v,from:i,to:a}}function hq(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ir&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||ir&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const fq=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pq(t,e,r,n,s){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let C=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,E=e0(t,C);if(E&&!t.state.selection.eq(E)){if(Wt&&io&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",_=>_(t,wa(13,"Enter"))))return;let j=t.state.tr.setSelection(E);C=="pointer"?j.setMeta("pointer",!0):C=="key"&&j.scrollIntoView(),o&&j.setMeta("composition",o),t.dispatch(j)}return}let i=t.state.doc.resolve(e),a=i.sharedDepth(r);e=i.before(a+1),r=t.state.doc.resolve(r).after(a+1);let c=t.state.selection,d=uq(t,e,r),u=t.state.doc,h=u.slice(d.from,d.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let v=vq(h.content,d.doc.content,d.from,f,p);if(v&&t.input.domChangeCount++,(uc&&t.input.lastIOSEnter>Date.now()-225||io)&&s.some(C=>C.nodeType==1&&!fq.test(C.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",C=>C(t,wa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(n&&c instanceof Ne&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let C=LR(t,t.state.doc,d.sel);if(C&&!C.eq(t.state.selection)){let E=t.state.tr.setSelection(C);o&&E.setMeta("composition",o),t.dispatch(E)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof Ne&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),Ur&&oi<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>d.from&&d.doc.textBetween(v.start-d.from-1,v.start-d.from+1)==" "&&(v.start--,v.endA--,v.endB--);let g=d.doc.resolveNoCache(v.start-d.from),y=d.doc.resolveNoCache(v.endB-d.from),x=u.resolve(v.start),w=g.sameParent(y)&&g.parent.inlineContent&&x.end()>=v.endA;if((uc&&t.input.lastIOSEnter>Date.now()-225&&(!w||s.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!w&&g.pos<d.doc.content.size&&(!g.sameParent(y)||!g.parent.inlineContent)&&g.pos<y.pos&&!/\S/.test(d.doc.textBetween(g.pos,y.pos,"","")))&&t.someProp("handleKeyDown",C=>C(t,wa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&gq(u,v.start,v.endA,g,y)&&t.someProp("handleKeyDown",C=>C(t,wa(8,"Backspace")))){io&&Wt&&t.domObserver.suppressSelectionUpdates();return}Wt&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),io&&!w&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==v.endA&&(v.endB-=2,y=d.doc.resolveNoCache(v.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(C){return C(t,wa(13,"Enter"))})},20));let b=v.start,k=v.endA,S=C=>{let E=C||t.state.tr.replace(b,k,d.doc.slice(v.start-d.from,v.endB-d.from));if(d.sel){let j=LR(t,E.doc,d.sel);j&&!(Wt&&t.composing&&j.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(j.head==b||j.head==E.mapping.map(k)-1)||Ur&&j.empty&&j.head==b)&&E.setSelection(j)}return o&&E.setMeta("composition",o),E.scrollIntoView()},N;if(w)if(g.pos==y.pos){Ur&&oi<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>lo(t),20));let C=S(t.state.tr.delete(b,k)),E=u.resolve(v.start).marksAcross(u.resolve(v.endA));E&&C.ensureMarks(E),t.dispatch(C)}else if(v.endA==v.endB&&(N=mq(g.parent.content.cut(g.parentOffset,y.parentOffset),x.parent.content.cut(x.parentOffset,v.endA-x.start())))){let C=S(t.state.tr);N.type=="add"?C.addMark(b,k,N.mark):C.removeMark(b,k,N.mark),t.dispatch(C)}else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let C=g.parent.textBetween(g.parentOffset,y.parentOffset),E=()=>S(t.state.tr.insertText(C,b,k));t.someProp("handleTextInput",j=>j(t,b,k,C,E))||t.dispatch(E())}else t.dispatch(S());else t.dispatch(S())}function LR(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:r0(t,e.resolve(r.anchor),e.resolve(r.head))}function mq(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,s=r,o=n,i,a,c;for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);if(s.length==1&&o.length==0)a=s[0],i="add",c=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&o.length==1)a=o[0],i="remove",c=u=>u.mark(a.removeFromSet(u.marks));else return null;let d=[];for(let u=0;u<e.childCount;u++)d.push(c(e.child(u)));if(Y.from(d).eq(t))return{mark:a,type:i}}function gq(t,e,r,n,s){if(r-e<=s.pos-n.pos||m0(n,!0,!1)<s.pos)return!1;let o=t.resolve(e);if(!n.parent.isTextblock){let a=o.nodeAfter;return a!=null&&r==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let i=t.resolve(m0(o,!0,!0));return!i.parent.isTextblock||i.pos>r||m0(i,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(i.parent.content)}function m0(t,e,r){let n=t.depth,s=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,s++,e=!1;if(r){let o=t.node(n).maybeChild(t.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function vq(t,e,r,n,s){let o=t.findDiffStart(e,r);if(o==null)return null;let{a:i,b:a}=t.findDiffEnd(e,r+t.size,r+e.size);if(s=="end"){let c=Math.max(0,o-Math.min(i,a));n-=i+c-o}if(i<o&&t.size<e.size){let c=n<=o&&n>=i?o-n:0;o-=c,o&&o<e.size&&$R(e.textBetween(o-1,o+1))&&(o+=c?1:-1),a=o+(a-i),i=o}else if(a<o){let c=n<=o&&n>=a?o-n:0;o-=c,o&&o<t.size&&$R(t.textBetween(o-1,o+1))&&(o+=c?1:-1),i=o+(i-a),a=o}return{start:o,endA:i,endB:a}}function $R(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class FR{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new P7,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(WR),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=UR(this),BR(this),this.nodeViews=VR(this),this.docView=YT(this.state.doc,zR(this),p0(this),this.dom,this),this.domObserver=new iq(this,(n,s,o,i)=>pq(this,n,s,o,i)),this.domObserver.start(),A7(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&l0(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(WR),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let s=this.state,o=!1,i=!1;e.storedMarks&&this.composing&&(jR(this),i=!0),this.state=e;let a=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(a||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let p=VR(this);xq(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(a||r.handleDOMEvents!=this._props.handleDOMEvents)&&l0(this),this.editable=UR(this),BR(this);let c=p0(this),d=zR(this),u=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",h=o||!this.docView.matchesNode(e.doc,d,c);(h||!e.selection.eq(s.selection))&&(i=!0);let f=u=="preserve"&&i&&this.dom.style.overflowAnchor==null&&G9(this);if(i){this.domObserver.stop();let p=h&&(Ur||Wt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&yq(s.selection,e.selection);if(h){let v=Wt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=G7(this)),(o||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=YT(e.doc,d,c,this.dom,this)),v&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&y7(this))?lo(this,p):(oR(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&Y9(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof fe){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&DT(this,r.getBoundingClientRect(),e)}else DT(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let o=n.from+(this.state.doc.content.size-r.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(s=o)}this.dragging=new _R(e.slice,e.move,s<0?void 0:fe.create(this.state.doc,s))}someProp(e,r){let n=this._props&&this._props[e],s;if(n!=null&&(s=r?r(n):n))return s;for(let i=0;i<this.directPlugins.length;i++){let a=this.directPlugins[i].props[e];if(a!=null&&(s=r?r(a):a))return s}let o=this.state.plugins;if(o)for(let i=0;i<o.length;i++){let a=o[i].props[e];if(a!=null&&(s=r?r(a):a))return s}}hasFocus(){if(Ur){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&J9(this.dom),lo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return t7(this,e)}coordsAtPos(e,r=1){return UT(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let s=this.docView.posFromDOM(e,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,r){return i7(this,r||this.state,e)}pasteHTML(e,r){return zu(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return zu(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return o0(this,e)}destroy(){this.docView&&(I7(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],p0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$9())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return L7(this,e)}domSelectionRange(){let e=this.domSelection();return e?ir&&this.root.nodeType===11&&V9(this.dom.ownerDocument)==this.dom&&lq(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}FR.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function zR(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[dn.node(0,t.state.doc.content.size,e)]}function BR(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:dn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function UR(t){return!t.someProp("editable",e=>e(t.state)===!1)}function yq(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function VR(t){let e=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function xq(t,e){let r=0,n=0;for(let s in t){if(t[s]!=e[s])return!0;r++}for(let s in e)n++;return r!=n}function WR(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var hi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},wq=typeof navigator<"u"&&/Mac/.test(navigator.platform),bq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ar=0;ar<10;ar++)hi[48+ar]=hi[96+ar]=String(ar);for(var ar=1;ar<=24;ar++)hi[ar+111]="F"+ar;for(var ar=65;ar<=90;ar++)hi[ar]=String.fromCharCode(ar+32),hm[ar]=String.fromCharCode(ar);for(var g0 in hi)hm.hasOwnProperty(g0)||(hm[g0]=hi[g0]);function kq(t){var e=wq&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||bq&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?hm:hi)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const Sq=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Nq=typeof navigator<"u"&&/Win/.test(navigator.platform);function Cq(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,s,o,i;for(let a=0;a<e.length-1;a++){let c=e[a];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))Sq?i=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),i&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function jq(t){let e=Object.create(null);for(let r in t)e[Cq(r)]=t[r];return e}function v0(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function Eq(t){return new jr({props:{handleKeyDown:HR(t)}})}function HR(t){let e=jq(t);return function(r,n){let s=kq(n),o,i=e[v0(s,n)];if(i&&i(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let a=e[v0(s,n,!1)];if(a&&a(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(Nq&&n.ctrlKey&&n.altKey)&&(o=hi[n.keyCode])&&o!=s){let a=e[v0(o,n)];if(a&&a(r.state,r.dispatch,r))return!0}}return!1}}const y0=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function qR(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const KR=(t,e,r)=>{let n=qR(t,r);if(!n)return!1;let s=x0(n);if(!s){let i=n.blockRange(),a=i&&oc(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)}let o=s.nodeBefore;if(rM(t,s,e,-1))return!0;if(n.parent.content.size==0&&(gc(o,"end")||fe.isSelectable(o)))for(let i=n.depth;;i--){let a=tm(t.doc,n.before(i),n.after(i),oe.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=t.tr.step(a);c.setSelection(gc(o,"end")?_e.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):fe.create(c.doc,s.pos-o.nodeSize)),e(c.scrollIntoView())}return!0}if(i==1||n.node(i-1).childCount>1)break}return o.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},_q=(t,e,r)=>{let n=qR(t,r);if(!n)return!1;let s=x0(n);return s?GR(t,s,e):!1},Tq=(t,e,r)=>{let n=JR(t,r);if(!n)return!1;let s=w0(n);return s?GR(t,s,e):!1};function GR(t,e,r){let n=e.nodeBefore,s=n,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let i=e.nodeAfter,a=i,c=e.pos+1;for(;!a.isTextblock;c++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let d=tm(t.doc,o,c,oe.empty);if(!d||d.from!=o||d instanceof Ut&&d.slice.size>=c-o)return!1;if(r){let u=t.tr.step(d);u.setSelection(Ne.create(u.doc,o)),r(u.scrollIntoView())}return!0}function gc(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const YR=(t,e,r)=>{let{$head:n,empty:s}=t.selection,o=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;o=x0(n)}let i=o&&o.nodeBefore;return!i||!fe.isSelectable(i)?!1:(e&&e(t.tr.setSelection(fe.create(t.doc,o.pos-i.nodeSize)).scrollIntoView()),!0)};function x0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function JR(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const QR=(t,e,r)=>{let n=JR(t,r);if(!n)return!1;let s=w0(n);if(!s)return!1;let o=s.nodeAfter;if(rM(t,s,e,1))return!0;if(n.parent.content.size==0&&(gc(o,"start")||fe.isSelectable(o))){let i=tm(t.doc,n.before(),n.after(),oe.empty);if(i&&i.slice.size<i.to-i.from){if(e){let a=t.tr.step(i);a.setSelection(gc(o,"start")?_e.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):fe.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},XR=(t,e,r)=>{let{$head:n,empty:s}=t.selection,o=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;o=w0(n)}let i=o&&o.nodeAfter;return!i||!fe.isSelectable(i)?!1:(e&&e(t.tr.setSelection(fe.create(t.doc,o.pos)).scrollIntoView()),!0)};function w0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const Rq=(t,e)=>{let r=t.selection,n=r instanceof fe,s;if(n){if(r.node.isTextblock||!ni(t.doc,r.from))return!1;s=r.from}else if(s=em(t.doc,r.from,-1),s==null)return!1;if(e){let o=t.tr.join(s);n&&o.setSelection(fe.create(o.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},Mq=(t,e)=>{let r=t.selection,n;if(r instanceof fe){if(r.node.isTextblock||!ni(t.doc,r.to))return!1;n=r.to}else if(n=em(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},Oq=(t,e)=>{let{$from:r,$to:n}=t.selection,s=r.blockRange(n),o=s&&oc(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},ZR=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function b0(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const Pq=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),o=r.indexAfter(-1),i=b0(s.contentMatchAt(o));if(!i||!s.canReplaceWith(o,o,i))return!1;if(e){let a=r.after(),c=t.tr.replaceWith(a,a,i.createAndFill());c.setSelection(_e.near(c.doc.resolve(a),1)),e(c.scrollIntoView())}return!0},eM=(t,e)=>{let r=t.selection,{$from:n,$to:s}=r;if(r instanceof cn||n.parent.inlineContent||s.parent.inlineContent)return!1;let o=b0(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let i=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,a=t.tr.insert(i,o.createAndFill());a.setSelection(Ne.create(a.doc,i+1)),e(a.scrollIntoView())}return!0},tM=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let o=r.before();if(so(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let n=r.blockRange(),s=n&&oc(n);return s==null?!1:(e&&e(t.tr.lift(n,s).scrollIntoView()),!0)};function Aq(t){return(e,r)=>{let{$from:n,$to:s}=e.selection;if(e.selection instanceof fe&&e.selection.node.isBlock)return!n.parentOffset||!so(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],i,a,c=!1,d=!1;for(let p=n.depth;;p--)if(n.node(p).isBlock){c=n.end(p)==n.pos+(n.depth-p),d=n.start(p)==n.pos-(n.depth-p),a=b0(n.node(p-1).contentMatchAt(n.indexAfter(p-1))),o.unshift(c&&a?{type:a}:null),i=p;break}else{if(p==1)return!1;o.unshift(null)}let u=e.tr;(e.selection instanceof Ne||e.selection instanceof cn)&&u.deleteSelection();let h=u.mapping.map(n.pos),f=so(u.doc,h,o.length,o);if(f||(o[0]=a?{type:a}:null,f=so(u.doc,h,o.length,o)),!f)return!1;if(u.split(h,o.length,o),!c&&d&&n.node(i).type!=a){let p=u.mapping.map(n.before(i)),v=u.doc.resolve(p);a&&n.node(i-1).canReplaceWith(v.index(),v.index()+1,a)&&u.setNodeMarkup(u.mapping.map(n.before(i)),a)}return r&&r(u.scrollIntoView()),!0}}const Iq=Aq(),Dq=(t,e)=>{let{$from:r,to:n}=t.selection,s,o=r.sharedDepth(n);return o==0?!1:(s=r.before(o),e&&e(t.tr.setSelection(fe.create(t.doc,s))),!0)};function Lq(t,e,r){let n=e.nodeBefore,s=e.nodeAfter,o=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(o-1,o)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||ni(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function rM(t,e,r,n){let s=e.nodeBefore,o=e.nodeAfter,i,a,c=s.type.spec.isolating||o.type.spec.isolating;if(!c&&Lq(t,e,r))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(i=(a=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&a.matchType(i[0]||o.type).validEnd){if(r){let p=e.pos+o.nodeSize,v=Y.empty;for(let x=i.length-1;x>=0;x--)v=Y.from(i[x].create(null,v));v=Y.from(s.copy(v));let g=t.tr.step(new Vt(e.pos-1,p,e.pos,p,new oe(v,1,0),i.length,!0)),y=g.doc.resolve(p+2*i.length);y.nodeAfter&&y.nodeAfter.type==s.type&&ni(g.doc,y.pos)&&g.join(y.pos),r(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||n>0&&c?null:_e.findFrom(e,1),h=u&&u.$from.blockRange(u.$to),f=h&&oc(h);if(f!=null&&f>=e.depth)return r&&r(t.tr.lift(h,f).scrollIntoView()),!0;if(d&&gc(o,"start",!0)&&gc(s,"end")){let p=s,v=[];for(;v.push(p),!p.isTextblock;)p=p.lastChild;let g=o,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(r){let x=Y.empty;for(let b=v.length-1;b>=0;b--)x=Y.from(v[b].copy(x));let w=t.tr.step(new Vt(e.pos-v.length,e.pos+o.nodeSize,e.pos+y,e.pos+o.nodeSize-y,new oe(x,v.length,0),0,!0));r(w.scrollIntoView())}return!0}}return!1}function nM(t){return function(e,r){let n=e.selection,s=t<0?n.$from:n.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(r&&r(e.tr.setSelection(Ne.create(e.doc,t<0?s.start(o):s.end(o)))),!0):!1}}const $q=nM(-1),Fq=nM(1);function zq(t,e=null){return function(r,n){let{$from:s,$to:o}=r.selection,i=s.blockRange(o),a=i&&Fw(i,t,e);return a?(n&&n(r.tr.wrap(i,a).scrollIntoView()),!0):!1}}function sM(t,e=null){return function(r,n){let s=!1;for(let o=0;o<r.selection.ranges.length&&!s;o++){let{$from:{pos:i},$to:{pos:a}}=r.selection.ranges[o];r.doc.nodesBetween(i,a,(c,d)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let u=r.doc.resolve(d),h=u.index();s=u.parent.canReplaceWith(h,h+1,t)}})}if(!s)return!1;if(n){let o=r.tr;for(let i=0;i<r.selection.ranges.length;i++){let{$from:{pos:a},$to:{pos:c}}=r.selection.ranges[i];o.setBlockType(a,c,t,e)}n(o.scrollIntoView())}return!0}}function k0(...t){return function(e,r,n){for(let s=0;s<t.length;s++)if(t[s](e,r,n))return!0;return!1}}k0(y0,KR,YR),k0(y0,QR,XR),k0(ZR,eM,tM,Iq),typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Bq(t,e=null){return function(r,n){let{$from:s,$to:o}=r.selection,i=s.blockRange(o);if(!i)return!1;let a=n?r.tr:null;return Uq(a,i,t,e)?(n&&n(a.scrollIntoView()),!0):!1}}function Uq(t,e,r,n=null){let s=!1,o=e,i=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=i.resolve(e.start-2);o=new Gp(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Gp(e.$from,i.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let a=Fw(o,r,n,e);return a?(t&&Vq(t,e,a,s,r),!0):!1}function Vq(t,e,r,n,s){let o=Y.empty;for(let u=r.length-1;u>=0;u--)o=Y.from(r[u].type.create(r[u].attrs,o));t.step(new Vt(e.start-(n?2:0),e.end,e.start,e.end,new oe(o,0,0),r.length,!0));let i=0;for(let u=0;u<r.length;u++)r[u].type==s&&(i=u+1);let a=r.length-i,c=e.start+r.length-(n?2:0),d=e.parent;for(let u=e.startIndex,h=e.endIndex,f=!0;u<h;u++,f=!1)!f&&so(t.doc,c,a)&&(t.split(c,a),c+=2*a),c+=d.child(u).nodeSize;return t}function Wq(t){return function(e,r){let{$from:n,$to:s}=e.selection,o=n.blockRange(s,i=>i.childCount>0&&i.firstChild.type==t);return o?r?n.node(o.depth-1).type==t?Hq(e,r,t,o):qq(e,r,o):!0:!1}}function Hq(t,e,r,n){let s=t.tr,o=n.end,i=n.$to.end(n.depth);o<i&&(s.step(new Vt(o-1,i,o,i,new oe(Y.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Gp(s.doc.resolve(n.$from.pos),s.doc.resolve(i),n.depth));const a=oc(n);if(a==null)return!1;s.lift(n,a);let c=s.doc.resolve(s.mapping.map(o,-1)-1);return ni(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function qq(t,e,r){let n=t.tr,s=r.parent;for(let p=r.end,v=r.endIndex-1,g=r.startIndex;v>g;v--)p-=s.child(v).nodeSize,n.delete(p-1,p+1);let o=n.doc.resolve(r.start),i=o.nodeAfter;if(n.mapping.map(r.end)!=r.start+o.nodeAfter.nodeSize)return!1;let a=r.startIndex==0,c=r.endIndex==s.childCount,d=o.node(-1),u=o.index(-1);if(!d.canReplace(u+(a?0:1),u+1,i.content.append(c?Y.empty:Y.from(s))))return!1;let h=o.pos,f=h+i.nodeSize;return n.step(new Vt(h-(a?1:0),f+(c?1:0),h+1,f-1,new oe((a?Y.empty:Y.from(s.copy(Y.empty))).append(c?Y.empty:Y.from(s.copy(Y.empty))),a?0:1,c?0:1),a?0:1)),e(n.scrollIntoView()),!0}function Kq(t){return function(e,r){let{$from:n,$to:s}=e.selection,o=n.blockRange(s,d=>d.childCount>0&&d.firstChild.type==t);if(!o)return!1;let i=o.startIndex;if(i==0)return!1;let a=o.parent,c=a.child(i-1);if(c.type!=t)return!1;if(r){let d=c.lastChild&&c.lastChild.type==a.type,u=Y.from(d?t.create():null),h=new oe(Y.from(t.create(null,Y.from(a.type.create(null,u)))),d?3:1,0),f=o.start,p=o.end;r(e.tr.step(new Vt(f-(d?3:1),p,f,p,h,1,!0)).scrollIntoView())}return!0}}function fm(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:s}=r,{storedMarks:o}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,o=r.storedMarks,r}}}class pm{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:n}=this,{view:s}=r,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,c])=>[a,(...u)=>{const h=c(...u)(i);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(o),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:n,editor:s,state:o}=this,{view:i}=s,a=[],c=!!e,d=e||o.tr,u=()=>(!c&&r&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(d),a.every(f=>f===!0)),h={...Object.fromEntries(Object.entries(n).map(([f,p])=>[f,(...g)=>{const y=this.buildProps(d,r),x=p(...g)(y);return a.push(x),h}])),run:u};return h}createCan(e){const{rawCommands:r,state:n}=this,s=!1,o=e||n.tr,i=this.buildProps(o,s);return{...Object.fromEntries(Object.entries(r).map(([c,d])=>[c,(...u)=>d(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,s)}}buildProps(e,r=!0){const{rawCommands:n,editor:s,state:o}=this,{view:i}=s,a={tr:e,editor:s,view:i,state:fm({state:o,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e,r),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...u)=>d(...u)(a)]))}};return a}}class Gq{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(s=>s!==r):delete this.callbacks[e]),this}once(e,r){const n=(...s)=>{this.off(e,n),r.apply(this,s)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}function le(t,e,r){return t.config[e]===void 0&&t.parent?le(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?le(t.parent,e,r):null}):t.config[e]}function mm(t){const e=t.filter(s=>s.type==="extension"),r=t.filter(s=>s.type==="node"),n=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function oM(t){const e=[],{nodeExtensions:r,markExtensions:n}=mm(t),s=[...r,...n],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage,extensions:s},c=le(i,"addGlobalAttributes",a);if(!c)return;c().forEach(u=>{u.types.forEach(h=>{Object.entries(u.attributes).forEach(([f,p])=>{e.push({type:h,name:f,attribute:{...o,...p}})})})})}),s.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage},c=le(i,"addAttributes",a);if(!c)return;const d=c();Object.entries(d).forEach(([u,h])=>{const f={...o,...h};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:i.name,name:u,attribute:f})})}),e}function Ht(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function mr(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([s,o])=>{if(!n[s]){n[s]=o;return}if(s==="class"){const a=o?String(o).split(" "):[],c=n[s]?n[s].split(" "):[],d=a.filter(u=>!c.includes(u));n[s]=[...c,...d].join(" ")}else if(s==="style"){const a=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],c=n[s]?n[s].split(";").map(u=>u.trim()).filter(Boolean):[],d=new Map;c.forEach(u=>{const[h,f]=u.split(":").map(p=>p.trim());d.set(h,f)}),a.forEach(u=>{const[h,f]=u.split(":").map(p=>p.trim());d.set(h,f)}),n[s]=Array.from(d.entries()).map(([u,h])=>`${u}: ${h}`).join("; ")}else n[s]=o}),n},{})}function S0(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>mr(r,n),{})}function iM(t){return typeof t=="function"}function Re(t,e=void 0,...r){return iM(t)?e?t.bind(e)(...r):t(...r):t}function Yq(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Jq(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function aM(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const s=e.reduce((o,i)=>{const a=i.attribute.parseHTML?i.attribute.parseHTML(r):Jq(r.getAttribute(i.name));return a==null?o:{...o,[i.name]:a}},{});return{...n,...s}}}}function lM(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&Yq(r)?!1:r!=null))}function Qq(t,e){var r;const n=oM(t),{nodeExtensions:s,markExtensions:o}=mm(t),i=(r=s.find(d=>le(d,"topNode")))===null||r===void 0?void 0:r.name,a=Object.fromEntries(s.map(d=>{const u=n.filter(x=>x.type===d.name),h={name:d.name,options:d.options,storage:d.storage,editor:e},f=t.reduce((x,w)=>{const b=le(w,"extendNodeSchema",h);return{...x,...b?b(d):{}}},{}),p=lM({...f,content:Re(le(d,"content",h)),marks:Re(le(d,"marks",h)),group:Re(le(d,"group",h)),inline:Re(le(d,"inline",h)),atom:Re(le(d,"atom",h)),selectable:Re(le(d,"selectable",h)),draggable:Re(le(d,"draggable",h)),code:Re(le(d,"code",h)),whitespace:Re(le(d,"whitespace",h)),linebreakReplacement:Re(le(d,"linebreakReplacement",h)),defining:Re(le(d,"defining",h)),isolating:Re(le(d,"isolating",h)),attrs:Object.fromEntries(u.map(x=>{var w;return[x.name,{default:(w=x==null?void 0:x.attribute)===null||w===void 0?void 0:w.default}]}))}),v=Re(le(d,"parseHTML",h));v&&(p.parseDOM=v.map(x=>aM(x,u)));const g=le(d,"renderHTML",h);g&&(p.toDOM=x=>g({node:x,HTMLAttributes:S0(x,u)}));const y=le(d,"renderText",h);return y&&(p.toText=y),[d.name,p]})),c=Object.fromEntries(o.map(d=>{const u=n.filter(y=>y.type===d.name),h={name:d.name,options:d.options,storage:d.storage,editor:e},f=t.reduce((y,x)=>{const w=le(x,"extendMarkSchema",h);return{...y,...w?w(d):{}}},{}),p=lM({...f,inclusive:Re(le(d,"inclusive",h)),excludes:Re(le(d,"excludes",h)),group:Re(le(d,"group",h)),spanning:Re(le(d,"spanning",h)),code:Re(le(d,"code",h)),attrs:Object.fromEntries(u.map(y=>{var x;return[y.name,{default:(x=y==null?void 0:y.attribute)===null||x===void 0?void 0:x.default}]}))}),v=Re(le(d,"parseHTML",h));v&&(p.parseDOM=v.map(y=>aM(y,u)));const g=le(d,"renderHTML",h);return g&&(p.toDOM=y=>g({mark:y,HTMLAttributes:S0(y,u)})),[d.name,p]}));return new X2({topNode:i,nodes:a,marks:c})}function N0(t,e){return e.nodes[t]||e.marks[t]||null}function cM(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function C0(t,e){const r=va.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}const Xq=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(s,o,i,a)=>{var c,d;const u=((d=(c=s.type.spec).toText)===null||d===void 0?void 0:d.call(c,{node:s,pos:o,parent:i,index:a}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,n-o))}),r};function j0(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class gm{constructor(e){this.find=e.find,this.handler=e.handler}}const Zq=(t,e)=>{if(j0(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function vm(t){var e;const{editor:r,from:n,to:s,text:o,rules:i,plugin:a}=t,{view:c}=r;if(c.composing)return!1;const d=c.state.doc.resolve(n);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const h=Xq(d)+o;return i.forEach(f=>{if(u)return;const p=Zq(h,f.find);if(!p)return;const v=c.state.tr,g=fm({state:c.state,transaction:v}),y={from:n-(p[0].length-o.length),to:s},{commands:x,chain:w,can:b}=new pm({editor:r,state:g});f.handler({state:g,range:y,match:p,commands:x,chain:w,can:b})===null||!v.steps.length||(v.setMeta(a,{transform:v,from:n,to:s,text:o}),c.dispatch(v),u=!0)}),u}function eK(t){const{editor:e,rules:r}=t,n=new jr({state:{init(){return null},apply(s,o,i){const a=s.getMeta(n);if(a)return a;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:u}=c;typeof u=="string"?u=u:u=C0(Y.from(u),i.schema);const{from:h}=c,f=h+u.length;vm({editor:e,from:h,to:f,text:u,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,i,a){return vm({editor:e,from:o,to:i,text:a,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&vm({editor:e,from:o.pos,to:o.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:i}=s.state.selection;return i?vm({editor:e,from:i.pos,to:i.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function tK(t){return Object.prototype.toString.call(t).slice(8,-1)}function ym(t){return tK(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function xm(t,e){const r={...t};return ym(t)&&ym(e)&&Object.keys(e).forEach(n=>{ym(e[n])&&ym(t[n])?r[n]=xm(t[n],e[n]):r[n]=e[n]}),r}class co{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Re(le(this,"addOptions",{name:this.name}))),this.storage=Re(le(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new co(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>xm(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new co(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Re(le(r,"addOptions",{name:r.name})),r.storage=Re(le(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const i=s.marks();if(!!!i.find(d=>(d==null?void 0:d.type.name)===r.name))return!1;const c=i.find(d=>(d==null?void 0:d.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}}function rK(t){return typeof t=="number"}class nK{constructor(e){this.find=e.find,this.handler=e.handler}}const sK=(t,e,r)=>{if(j0(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(s=>{const o=[s.text];return o.index=s.index,o.input=t,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function oK(t){const{editor:e,state:r,from:n,to:s,rule:o,pasteEvent:i,dropEvent:a}=t,{commands:c,chain:d,can:u}=new pm({editor:e,state:r}),h=[];return r.doc.nodesBetween(n,s,(p,v)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(n,v),y=Math.min(s,v+p.content.size),x=p.textBetween(g-v,y-v,void 0,"");sK(x,o.find,i).forEach(b=>{if(b.index===void 0)return;const k=g+b.index+1,S=k+b[0].length,N={from:r.tr.mapping.map(k),to:r.tr.mapping.map(S)},C=o.handler({state:r,range:N,match:b,commands:c,chain:d,can:u,pasteEvent:i,dropEvent:a});h.push(C)})}),h.every(p=>p!==null)}let wm=null;const iK=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)===null||e===void 0||e.setData("text/html",t),r};function aK(t){const{editor:e,rules:r}=t;let n=null,s=!1,o=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const c=({state:u,from:h,to:f,rule:p,pasteEvt:v})=>{const g=u.tr,y=fm({state:u,transaction:g});if(!(!oK({editor:e,state:y,from:Math.max(h-1,0),to:f.b-1,rule:p,pasteEvent:v,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return r.map(u=>new jr({view(h){const f=v=>{var g;n=!((g=h.dom.parentElement)===null||g===void 0)&&g.contains(v.target)?h.dom.parentElement:null,n&&(wm=e)},p=()=>{wm&&(wm=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(h,f)=>{if(o=n===h.dom.parentElement,a=f,!o){const p=wm;p!=null&&p.isEditable&&setTimeout(()=>{const v=p.state.selection;v&&p.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(h,f)=>{var p;const v=(p=f.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return i=f,s=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(h,f,p)=>{const v=h[0],g=v.getMeta("uiEvent")==="paste"&&!s,y=v.getMeta("uiEvent")==="drop"&&!o,x=v.getMeta("applyPasteRules"),w=!!x;if(!g&&!y&&!w)return;if(w){let{text:S}=x;typeof S=="string"?S=S:S=C0(Y.from(S),p.schema);const{from:N}=x,C=N+S.length,E=iK(S);return c({rule:u,state:p,from:N,to:{b:C},pasteEvt:E})}const b=f.doc.content.findDiffStart(p.doc.content),k=f.doc.content.findDiffEnd(p.doc.content);if(!(!rK(b)||!k||b===k.b))return c({rule:u,state:p,from:b,to:k,pasteEvt:i})}}))}function lK(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}class vc{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=vc.resolve(e),this.schema=Qq(this.extensions,r),this.setupExtensions()}static resolve(e){const r=vc.sort(vc.flatten(e)),n=lK(r.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const n={name:r.name,options:r.options,storage:r.storage},s=le(r,"addExtensions",n);return s?[r,...this.flatten(s())]:r}).flat(10)}static sort(e){return e.sort((n,s)=>{const o=le(n,"priority")||100,i=le(s,"priority")||100;return o>i?-1:o<i?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:N0(r.name,this.schema)},s=le(r,"addCommands",n);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,r=vc.sort([...this.extensions].reverse()),n=[],s=[],o=r.map(i=>{const a={name:i.name,options:i.options,storage:i.storage,editor:e,type:N0(i.name,this.schema)},c=[],d=le(i,"addKeyboardShortcuts",a);let u={};if(i.type==="mark"&&le(i,"exitable",a)&&(u.ArrowRight=()=>co.handleExit({editor:e,mark:i})),d){const g=Object.fromEntries(Object.entries(d()).map(([y,x])=>[y,()=>x({editor:e})]));u={...u,...g}}const h=Eq(u);c.push(h);const f=le(i,"addInputRules",a);cM(i,e.options.enableInputRules)&&f&&n.push(...f());const p=le(i,"addPasteRules",a);cM(i,e.options.enablePasteRules)&&p&&s.push(...p());const v=le(i,"addProseMirrorPlugins",a);if(v){const g=v();c.push(...g)}return c}).flat();return[eK({editor:e,rules:n}),...aK({editor:e,rules:s}),...o]}get attributes(){return oM(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=mm(this.extensions);return Object.fromEntries(r.filter(n=>!!le(n,"addNodeView")).map(n=>{const s=this.attributes.filter(c=>c.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:e,type:Ht(n.name,this.schema)},i=le(n,"addNodeView",o);if(!i)return[];const a=(c,d,u,h,f)=>{const p=S0(c,s);return i()({node:c,view:d,getPos:u,decorations:h,innerDecorations:f,editor:e,extension:n,HTMLAttributes:p})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var r;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:N0(e.name,this.schema)};e.type==="mark"&&(!((r=Re(le(e,"keepOnSplit",n)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(e.name);const s=le(e,"onBeforeCreate",n),o=le(e,"onCreate",n),i=le(e,"onUpdate",n),a=le(e,"onSelectionUpdate",n),c=le(e,"onTransaction",n),d=le(e,"onFocus",n),u=le(e,"onBlur",n),h=le(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),i&&this.editor.on("update",i),a&&this.editor.on("selectionUpdate",a),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),u&&this.editor.on("blur",u),h&&this.editor.on("destroy",h)})}}class gr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Re(le(this,"addOptions",{name:this.name}))),this.storage=Re(le(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new gr(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>xm(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new gr({...this.config,...e});return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Re(le(r,"addOptions",{name:r.name})),r.storage=Re(le(r,"addStorage",{name:r.name,options:r.options})),r}}function dM(t,e,r){const{from:n,to:s}=e,{blockSeparator:o=`

`,textSerializers:i={}}=r||{};let a="";return t.nodesBetween(n,s,(c,d,u,h)=>{var f;c.isBlock&&d>n&&(a+=o);const p=i==null?void 0:i[c.type.name];if(p)return u&&(a+=p({node:c,pos:d,parent:u,index:h,range:e})),!1;c.isText&&(a+=(f=c==null?void 0:c.text)===null||f===void 0?void 0:f.slice(Math.max(n,d)-d,s-d))}),a}function uM(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const cK=gr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new jr({key:new Zn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:s}=e,{ranges:o}=s,i=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),c=uM(r);return dM(n,{from:i,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),dK=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),uK=(t=!1)=>({commands:e})=>e.setContent("",t),hK=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:s}=n;return r&&s.forEach(({$from:o,$to:i})=>{t.doc.nodesBetween(o.pos,i.pos,(a,c)=>{if(a.type.isText)return;const{doc:d,mapping:u}=e,h=d.resolve(u.map(c)),f=d.resolve(u.map(c+a.nodeSize)),p=h.blockRange(f);if(!p)return;const v=oc(p);if(a.type.isTextblock){const{defaultType:g}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(p.start,g)}(v||v===0)&&e.lift(p,v)})}),!0},fK=t=>e=>t(e),pK=()=>({state:t,dispatch:e})=>eM(t,e),mK=(t,e)=>({editor:r,tr:n})=>{const{state:s}=r,o=s.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const i=n.mapping.map(e);return n.insert(i,o.content),n.setSelection(new Ne(n.doc.resolve(Math.max(i-1,0)))),!0},gK=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===n.type){if(e){const a=s.before(o),c=s.after(o);t.delete(a,c).scrollIntoView()}return!0}return!1},vK=t=>({tr:e,state:r,dispatch:n})=>{const s=Ht(t,r.schema),o=e.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===s){if(n){const c=o.before(i),d=o.after(i);e.delete(c,d).scrollIntoView()}return!0}return!1},yK=t=>({tr:e,dispatch:r})=>{const{from:n,to:s}=t;return r&&e.delete(n,s),!0},xK=()=>({state:t,dispatch:e})=>y0(t,e),wK=()=>({commands:t})=>t.keyboardShortcut("Enter"),bK=()=>({state:t,dispatch:e})=>Pq(t,e);function bm(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>r.strict?e[s]===t[s]:j0(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function hM(t,e,r={}){return t.find(n=>n.type===e&&bm(Object.fromEntries(Object.keys(r).map(s=>[s,n.attrs[s]])),r))}function fM(t,e,r={}){return!!hM(t,e,r)}function E0(t,e,r){var n;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(u=>u.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(u=>u.type===e)||(r=r||((n=s.node.marks[0])===null||n===void 0?void 0:n.attrs),!hM([...s.node.marks],e,r)))return;let i=s.index,a=t.start()+s.offset,c=i+1,d=a+s.node.nodeSize;for(;i>0&&fM([...t.parent.child(i-1).marks],e,r);)i-=1,a-=t.parent.child(i).nodeSize;for(;c<t.parent.childCount&&fM([...t.parent.child(c).marks],e,r);)d+=t.parent.child(c).nodeSize,c+=1;return{from:a,to:d}}function fi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const kK=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const o=fi(t,n.schema),{doc:i,selection:a}=r,{$from:c,from:d,to:u}=a;if(s){const h=E0(c,o,e);if(h&&h.from<=d&&h.to>=u){const f=Ne.create(i,h.from,h.to);r.setSelection(f)}}return!0},SK=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function pM(t){return t instanceof Ne}function ja(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function mM(t,e=null){if(!e)return null;const r=_e.atStart(t),n=_e.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const s=r.from,o=n.to;return e==="all"?Ne.create(t,ja(0,s,o),ja(t.content.size,s,o)):Ne.create(t,ja(e,s,o),ja(e,s,o))}function gM(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function km(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function NK(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}const CK=(t=null,e={})=>({editor:r,view:n,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const i=()=>{(km()||gM())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),NK()&&!km()&&!gM()&&n.dom.focus({preventScroll:!0}))})};if(n.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!pM(r.state.selection))return i(),!0;const a=mM(s.doc,t)||r.state.selection,c=r.state.selection.eq(a);return o&&(c||s.setSelection(a),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),i()),!0},jK=(t,e)=>r=>t.every((n,s)=>e(n,{...r,index:s})),EK=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),vM=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&vM(n)}return t};function Sm(t){const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return vM(r)}function Uu(t,e,r){if(t instanceof Zo||t instanceof Y)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,s=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return Y.fromArray(t.map(a=>e.nodeFromJSON(a)));const i=e.nodeFromJSON(t);return r.errorOnInvalidContent&&i.check(),i}catch(o){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Uu("",e,r)}if(s){if(r.errorOnInvalidContent){let i=!1,a="";const c=new X2({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(i=!0,a=typeof d=="string"?d:d.outerHTML,null)}]}})});if(r.slice?ei.fromSchema(c).parseSlice(Sm(t),r.parseOptions):ei.fromSchema(c).parse(Sm(t),r.parseOptions),r.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=ei.fromSchema(e);return r.slice?o.parseSlice(Sm(t),r.parseOptions).content:o.parse(Sm(t),r.parseOptions)}return Uu("",e,r)}function _K(t,e,r){const n=t.steps.length-1;if(n<e)return;const s=t.steps[n];if(!(s instanceof Ut||s instanceof Vt))return;const o=t.mapping.maps[n];let i=0;o.forEach((a,c,d,u)=>{i===0&&(i=u)}),t.setSelection(_e.near(t.doc.resolve(i),r))}const TK=t=>!("type"in t),RK=(t,e,r)=>({tr:n,dispatch:s,editor:o})=>{var i;if(s){r={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let a;const c=y=>{o.emit("contentError",{editor:o,error:y,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Uu(e,o.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(y){c(y)}try{a=Uu(e,o.schema,{parseOptions:d,errorOnInvalidContent:(i=r.errorOnInvalidContent)!==null&&i!==void 0?i:o.options.enableContentCheck})}catch(y){return c(y),!1}let{from:u,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,p=!0;if((TK(a)?a:[a]).forEach(y=>{y.check(),f=f?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),u===h&&p){const{parent:y}=n.doc.resolve(u);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(u-=1,h+=1)}let g;if(f){if(Array.isArray(e))g=e.map(y=>y.text||"").join("");else if(e instanceof Y){let y="";e.forEach(x=>{x.text&&(y+=x.text)}),g=y}else typeof e=="object"&&e&&e.text?g=e.text:g=e;n.insertText(g,u,h)}else g=a,n.replaceWith(u,h,g);r.updateSelection&&_K(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:u,text:g}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:u,text:g})}return!0},MK=()=>({state:t,dispatch:e})=>Rq(t,e),OK=()=>({state:t,dispatch:e})=>Mq(t,e),PK=()=>({state:t,dispatch:e})=>KR(t,e),AK=()=>({state:t,dispatch:e})=>QR(t,e),IK=()=>({state:t,dispatch:e,tr:r})=>{try{const n=em(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},DK=()=>({state:t,dispatch:e,tr:r})=>{try{const n=em(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},LK=()=>({state:t,dispatch:e})=>_q(t,e),$K=()=>({state:t,dispatch:e})=>Tq(t,e);function yM(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function FK(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,s,o,i;for(let a=0;a<e.length-1;a+=1){const c=e[a];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))km()||yM()?i=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),i&&(r=`Meta-${r}`),o&&(r=`Shift-${r}`),r}const zK=t=>({editor:e,view:r,tr:n,dispatch:s})=>{const o=FK(t).split(/-(?!$)/),i=o.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),a=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{r.someProp("handleKeyDown",d=>d(r,a))});return c==null||c.steps.forEach(d=>{const u=d.map(n.mapping);u&&s&&n.maybeStep(u)}),!0};function Vu(t,e,r={}){const{from:n,to:s,empty:o}=t.selection,i=e?Ht(e,t.schema):null,a=[];t.doc.nodesBetween(n,s,(h,f)=>{if(h.isText)return;const p=Math.max(n,f),v=Math.min(s,f+h.nodeSize);a.push({node:h,from:p,to:v})});const c=s-n,d=a.filter(h=>i?i.name===h.node.type.name:!0).filter(h=>bm(h.node.attrs,r,{strict:!1}));return o?!!d.length:d.reduce((h,f)=>h+f.to-f.from,0)>=c}const BK=(t,e={})=>({state:r,dispatch:n})=>{const s=Ht(t,r.schema);return Vu(r,s,e)?Oq(r,n):!1},UK=()=>({state:t,dispatch:e})=>tM(t,e),VK=t=>({state:e,dispatch:r})=>{const n=Ht(t,e.schema);return Wq(n)(e,r)},WK=()=>({state:t,dispatch:e})=>ZR(t,e);function Nm(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function xM(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,s)=>(r.includes(s)||(n[s]=t[s]),n),{})}const HK=(t,e)=>({tr:r,state:n,dispatch:s})=>{let o=null,i=null;const a=Nm(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(o=Ht(t,n.schema)),a==="mark"&&(i=fi(t,n.schema)),s&&r.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,u)=>{o&&o===d.type&&r.setNodeMarkup(u,void 0,xM(d.attrs,e)),i&&d.marks.length&&d.marks.forEach(h=>{i===h.type&&r.addMark(u,u+d.nodeSize,i.create(xM(h.attrs,e)))})})}),!0):!1},qK=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),KK=()=>({tr:t,dispatch:e})=>{if(e){const r=new cn(t.doc);t.setSelection(r)}return!0},GK=()=>({state:t,dispatch:e})=>YR(t,e),YK=()=>({state:t,dispatch:e})=>XR(t,e),JK=()=>({state:t,dispatch:e})=>Dq(t,e),QK=()=>({state:t,dispatch:e})=>Fq(t,e),XK=()=>({state:t,dispatch:e})=>$q(t,e);function _0(t,e,r={},n={}){return Uu(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}const ZK=(t,e=!1,r={},n={})=>({editor:s,tr:o,dispatch:i,commands:a})=>{var c,d;const{doc:u}=o;if(r.preserveWhitespace!=="full"){const h=_0(t,s.schema,r,{errorOnInvalidContent:(c=n.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck});return i&&o.replaceWith(0,u.content.size,h).setMeta("preventUpdate",!e),!0}return i&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:(d=n.errorOnInvalidContent)!==null&&d!==void 0?d:s.options.enableContentCheck})};function wM(t,e){const r=fi(e,t.schema),{from:n,to:s,empty:o}=t.selection,i=[];o?(t.storedMarks&&i.push(...t.storedMarks),i.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,s,c=>{i.push(...c.marks)});const a=i.find(c=>c.type.name===r.name);return a?{...a.attrs}:{}}function eG(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function tG(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function T0(t){return e=>tG(e.$from,t)}function rG(t,e){const r={from:0,to:t.content.size};return dM(t,r,e)}function nG(t,e){const r=Ht(e,t.schema),{from:n,to:s}=t.selection,o=[];t.doc.nodesBetween(n,s,a=>{o.push(a)});const i=o.reverse().find(a=>a.type.name===r.name);return i?{...i.attrs}:{}}function sG(t,e){const r=Nm(typeof e=="string"?e:e.name,t.schema);return r==="node"?nG(t,e):r==="mark"?wM(t,e):{}}function bM(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(s=>{const o=r.resolve(t),i=E0(o,s.type);i&&n.push({mark:s,...i})}):r.nodesBetween(t,e,(s,o)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(i=>({from:o,to:o+s.nodeSize,mark:i})))}),n}function Cm(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=t.find(o=>o.type===e&&o.name===n);return s?s.attribute.keepOnSplit:!1}))}function R0(t,e,r={}){const{empty:n,ranges:s}=t.selection,o=e?fi(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>o?o.name===h.type.name:!0).find(h=>bm(h.attrs,r,{strict:!1}));let i=0;const a=[];if(s.forEach(({$from:h,$to:f})=>{const p=h.pos,v=f.pos;t.doc.nodesBetween(p,v,(g,y)=>{if(!g.isText&&!g.marks.length)return;const x=Math.max(p,y),w=Math.min(v,y+g.nodeSize),b=w-x;i+=b,a.push(...g.marks.map(k=>({mark:k,from:x,to:w})))})}),i===0)return!1;const c=a.filter(h=>o?o.name===h.mark.type.name:!0).filter(h=>bm(h.mark.attrs,r,{strict:!1})).reduce((h,f)=>h+f.to-f.from,0),d=a.filter(h=>o?h.mark.type!==o&&h.mark.type.excludes(o):!0).reduce((h,f)=>h+f.to-f.from,0);return(c>0?c+d:c)>=i}function oG(t,e,r={}){if(!e)return Vu(t,null,r)||R0(t,null,r);const n=Nm(e,t.schema);return n==="node"?Vu(t,e,r):n==="mark"?R0(t,e,r):!1}function kM(t,e){const{nodeExtensions:r}=mm(e),n=r.find(i=>i.name===t);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},o=Re(le(n,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function jm(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!==null&&n!==void 0?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(o=>{s!==!1&&(jm(o,{ignoreWhitespace:r,checkChildren:e})||(s=!1))}),s}return!1}function iG(t){return t instanceof fe}function aG(t,e,r){var n;const{selection:s}=e;let o=null;if(pM(s)&&(o=s.$cursor),o){const a=(n=t.storedMarks)!==null&&n!==void 0?n:o.marks();return!!r.isInSet(a)||!a.some(c=>c.type.excludes(r))}const{ranges:i}=s;return i.some(({$from:a,$to:c})=>{let d=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(a.pos,c.pos,(u,h,f)=>{if(d)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(r),v=!!r.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(r));d=p&&v}return!d}),d})}const lG=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const{selection:o}=r,{empty:i,ranges:a}=o,c=fi(t,n.schema);if(s)if(i){const d=wM(n,c);r.addStoredMark(c.create({...d,...e}))}else a.forEach(d=>{const u=d.$from.pos,h=d.$to.pos;n.doc.nodesBetween(u,h,(f,p)=>{const v=Math.max(p,u),g=Math.min(p+f.nodeSize,h);f.marks.find(x=>x.type===c)?f.marks.forEach(x=>{c===x.type&&r.addMark(v,g,c.create({...x.attrs,...e}))}):r.addMark(v,g,c.create(e))})});return aG(n,r,c)},cG=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),dG=(t,e={})=>({state:r,dispatch:n,chain:s})=>{const o=Ht(t,r.schema);let i;return r.selection.$anchor.sameParent(r.selection.$head)&&(i=r.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:a})=>sM(o,{...i,...e})(r)?!0:a.clearNodes()).command(({state:a})=>sM(o,{...i,...e})(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},uG=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,s=ja(t,0,n.content.size),o=fe.create(n,s);e.setSelection(o)}return!0},hG=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:s,to:o}=typeof t=="number"?{from:t,to:t}:t,i=Ne.atStart(n).from,a=Ne.atEnd(n).to,c=ja(s,i,a),d=ja(o,i,a),u=Ne.create(n,c,d);e.setSelection(u)}return!0},fG=t=>({state:e,dispatch:r})=>{const n=Ht(t,e.schema);return Kq(n)(e,r)};function SM(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(n)}}const pG=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:s})=>{const{selection:o,doc:i}=e,{$from:a,$to:c}=o,d=s.extensionManager.attributes,u=Cm(d,a.node().type.name,a.node().attrs);if(o instanceof fe&&o.node.isBlock)return!a.parentOffset||!so(i,a.pos)?!1:(n&&(t&&SM(r,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=c.parentOffset===c.parent.content.size,f=a.depth===0?void 0:eG(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=h&&f?[{type:f,attrs:u}]:void 0,v=so(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!v&&so(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(v=!0,p=f?[{type:f,attrs:u}]:void 0),n){if(v&&(o instanceof Ne&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),f&&!h&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),y=e.doc.resolve(g);a.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&SM(r,s.extensionManager.splittableMarks),e.scrollIntoView()}return v},mG=(t,e={})=>({tr:r,state:n,dispatch:s,editor:o})=>{var i;const a=Ht(t,n.schema),{$from:c,$to:d}=n.selection,u=n.selection.node;if(u&&u.isBlock||c.depth<2||!c.sameParent(d))return!1;const h=c.node(-1);if(h.type!==a)return!1;const f=o.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let x=Y.empty;const w=c.index(-1)?1:c.index(-2)?2:3;for(let E=c.depth-w;E>=c.depth-3;E-=1)x=Y.from(c.node(E).copy(x));const b=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,k={...Cm(f,c.node().type.name,c.node().attrs),...e},S=((i=a.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(k))||void 0;x=x.append(Y.from(a.createAndFill(null,S)||void 0));const N=c.before(c.depth-(w-1));r.replace(N,c.after(-b),new oe(x,4-w,0));let C=-1;r.doc.nodesBetween(N,r.doc.content.size,(E,j)=>{if(C>-1)return!1;E.isTextblock&&E.content.size===0&&(C=j+1)}),C>-1&&r.setSelection(Ne.near(r.doc.resolve(C))),r.scrollIntoView()}return!0}const p=d.pos===c.end()?h.contentMatchAt(0).defaultType:null,v={...Cm(f,h.type.name,h.attrs),...e},g={...Cm(f,c.node().type.name,c.node().attrs),...e};r.delete(c.pos,d.pos);const y=p?[{type:a,attrs:v},{type:p,attrs:g}]:[{type:a,attrs:v}];if(!so(r.doc,c.pos,2))return!1;if(s){const{selection:x,storedMarks:w}=n,{splittableMarks:b}=o.extensionManager,k=w||x.$to.parentOffset&&x.$from.marks();if(r.split(c.pos,2,y).scrollIntoView(),!k||!s)return!0;const S=k.filter(N=>b.includes(N.type.name));r.ensureMarks(S)}return!0},M0=(t,e)=>{const r=T0(i=>i.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&ni(t.doc,r.pos)&&t.join(r.pos),!0},O0=(t,e)=>{const r=T0(i=>i.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&ni(t.doc,n)&&t.join(n),!0};var gG=Object.freeze({__proto__:null,blur:dK,clearContent:uK,clearNodes:hK,command:fK,createParagraphNear:pK,cut:mK,deleteCurrentNode:gK,deleteNode:vK,deleteRange:yK,deleteSelection:xK,enter:wK,exitCode:bK,extendMarkRange:kK,first:SK,focus:CK,forEach:jK,insertContent:EK,insertContentAt:RK,joinBackward:PK,joinDown:OK,joinForward:AK,joinItemBackward:IK,joinItemForward:DK,joinTextblockBackward:LK,joinTextblockForward:$K,joinUp:MK,keyboardShortcut:zK,lift:BK,liftEmptyBlock:UK,liftListItem:VK,newlineInCode:WK,resetAttributes:HK,scrollIntoView:qK,selectAll:KK,selectNodeBackward:GK,selectNodeForward:YK,selectParentNode:JK,selectTextblockEnd:QK,selectTextblockStart:XK,setContent:ZK,setMark:lG,setMeta:cG,setNode:dG,setNodeSelection:uG,setTextSelection:hG,sinkListItem:fG,splitBlock:pG,splitListItem:mG,toggleList:(t,e,r,n={})=>({editor:s,tr:o,state:i,dispatch:a,chain:c,commands:d,can:u})=>{const{extensions:h,splittableMarks:f}=s.extensionManager,p=Ht(t,i.schema),v=Ht(e,i.schema),{selection:g,storedMarks:y}=i,{$from:x,$to:w}=g,b=x.blockRange(w),k=y||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const S=T0(N=>kM(N.type.name,h))(g);if(b.depth>=1&&S&&b.depth-S.depth<=1){if(S.node.type===p)return d.liftListItem(v);if(kM(S.node.type.name,h)&&p.validContent(S.node.content)&&a)return c().command(()=>(o.setNodeMarkup(S.pos,p),!0)).command(()=>M0(o,p)).command(()=>O0(o,p)).run()}return!r||!k||!a?c().command(()=>u().wrapInList(p,n)?!0:d.clearNodes()).wrapInList(p,n).command(()=>M0(o,p)).command(()=>O0(o,p)).run():c().command(()=>{const N=u().wrapInList(p,n),C=k.filter(E=>f.includes(E.type.name));return o.ensureMarks(C),N?!0:d.clearNodes()}).wrapInList(p,n).command(()=>M0(o,p)).command(()=>O0(o,p)).run()},toggleMark:(t,e={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:o=!1}=r,i=fi(t,n.schema);return R0(n,i,e)?s.unsetMark(i,{extendEmptyMarkRange:o}):s.setMark(i,e)},toggleNode:(t,e,r={})=>({state:n,commands:s})=>{const o=Ht(t,n.schema),i=Ht(e,n.schema),a=Vu(n,o,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),a?s.setNode(i,c):s.setNode(o,{...c,...r})},toggleWrap:(t,e={})=>({state:r,commands:n})=>{const s=Ht(t,r.schema);return Vu(r,s,e)?n.lift(s):n.wrapIn(s,e)},undoInputRule:()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let o;if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const i=t.tr,a=o.transform;for(let c=a.steps.length-1;c>=0;c-=1)i.step(a.steps[c].invert(a.docs[c]));if(o.text){const c=i.doc.resolve(o.from).marks();i.replaceWith(o.from,o.to,t.schema.text(o.text,c))}else i.delete(o.from,o.to)}return!0}}return!1},unsetAllMarks:()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:s}=r;return n||e&&s.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},unsetMark:(t,e={})=>({tr:r,state:n,dispatch:s})=>{var o;const{extendEmptyMarkRange:i=!1}=e,{selection:a}=r,c=fi(t,n.schema),{$from:d,empty:u,ranges:h}=a;if(!s)return!0;if(u&&i){let{from:f,to:p}=a;const v=(o=d.marks().find(y=>y.type===c))===null||o===void 0?void 0:o.attrs,g=E0(d,c,v);g&&(f=g.from,p=g.to),r.removeMark(f,p,c)}else h.forEach(f=>{r.removeMark(f.$from.pos,f.$to.pos,c)});return r.removeStoredMark(c),!0},updateAttributes:(t,e={})=>({tr:r,state:n,dispatch:s})=>{let o=null,i=null;const a=Nm(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(o=Ht(t,n.schema)),a==="mark"&&(i=fi(t,n.schema)),s&&r.selection.ranges.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;let h,f,p,v;r.selection.empty?n.doc.nodesBetween(d,u,(g,y)=>{o&&o===g.type&&(p=Math.max(y,d),v=Math.min(y+g.nodeSize,u),h=y,f=g)}):n.doc.nodesBetween(d,u,(g,y)=>{y<d&&o&&o===g.type&&(p=Math.max(y,d),v=Math.min(y+g.nodeSize,u),h=y,f=g),y>=d&&y<=u&&(o&&o===g.type&&r.setNodeMarkup(y,void 0,{...g.attrs,...e}),i&&g.marks.length&&g.marks.forEach(x=>{if(i===x.type){const w=Math.max(y,d),b=Math.min(y+g.nodeSize,u);r.addMark(w,b,i.create({...x.attrs,...e}))}}))}),f&&(h!==void 0&&r.setNodeMarkup(h,void 0,{...f.attrs,...e}),i&&f.marks.length&&f.marks.forEach(g=>{i===g.type&&r.addMark(p,v,i.create({...g.attrs,...e}))}))}),!0):!1},wrapIn:(t,e={})=>({state:r,dispatch:n})=>{const s=Ht(t,r.schema);return zq(s,e)(r,n)},wrapInList:(t,e={})=>({state:r,dispatch:n})=>{const s=Ht(t,r.schema);return Bq(s,e)(r,n)}});const vG=gr.create({name:"commands",addCommands(){return{...gG}}}),yG=gr.create({name:"drop",addProseMirrorPlugins(){return[new jr({key:new Zn("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),xG=gr.create({name:"editable",addProseMirrorPlugins(){return[new jr({key:new Zn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),wG=new Zn("focusEvents"),bG=gr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new jr({key:wG,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),kG=gr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:a})=>{const{selection:c,doc:d}=a,{empty:u,$anchor:h}=c,{pos:f,parent:p}=h,v=h.parent.isTextblock&&f>0?a.doc.resolve(f-1):h,g=v.parent.type.spec.isolating,y=h.pos-h.parentOffset,x=g&&v.parent.childCount===1?y===h.pos:_e.atStart(d).from===f;return!u||!p.type.isTextblock||p.textContent.length||!x||x&&h.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},o={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return km()||yM()?o:s},addProseMirrorPlugins(){return[new jr({key:new Zn("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(g=>g.getMeta("composition")))return;const n=t.some(g=>g.docChanged)&&!e.doc.eq(r.doc),s=t.some(g=>g.getMeta("preventClearDocument"));if(!n||s)return;const{empty:o,from:i,to:a}=e.selection,c=_e.atStart(e.doc).from,d=_e.atEnd(e.doc).to;if(o||!(i===c&&a===d)||!jm(r.doc))return;const f=r.tr,p=fm({state:r,transaction:f}),{commands:v}=new pm({editor:this.editor,state:p});if(v.clearNodes(),!!f.steps.length)return f}})]}}),SG=gr.create({name:"paste",addProseMirrorPlugins(){return[new jr({key:new Zn("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),NG=gr.create({name:"tabindex",addProseMirrorPlugins(){return[new jr({key:new Zn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ea{get name(){return this.node.type.name}constructor(e,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new Ea(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ea(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ea(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,o=r.isAtom&&!r.isText,i=this.pos+n+(o?0:1);if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(i);if(!s&&a.depth<=this.depth)return;const c=new Ea(a,this.editor,s,s?r:null);s&&(c.actualDepth=this.depth+1),e.push(new Ea(a,this.editor,s,s?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(r).length>0){const o=s.node.attrs,i=Object.keys(r);for(let a=0;a<i.length;a+=1){const c=i[a];if(o[c]!==r[c])break}}else n=s;s=s.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(r);return this.children.forEach(i=>{n&&s.length>0||(i.node.type.name===e&&o.every(c=>r[c]===i.node.attrs[c])&&s.push(i),!(n&&s.length>0)&&(s=s.concat(i.querySelectorAll(e,r,n))))}),s}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}}const CG=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function jG(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}class EG extends Gq{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:n,moved:s})=>this.options.onDrop(r,n,s)),this.on("paste",({event:r,slice:n})=>this.options.onPaste(r,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=jG(CG,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const n=iM(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const r=this.state.plugins;let n=r;if([].concat(e).forEach(o=>{const i=typeof o=="string"?`${o}$`:o.key;n=n.filter(a=>!a.key.startsWith(i))}),r.length===n.length)return;const s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}createExtensionManager(){var e,r;const s=[...this.options.enableCoreExtensions?[xG,cK.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||r===void 0?void 0:r.blockSeparator}),vG,bG,kG,NG,yG,SG].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new vc(s,this)}createCommandManager(){this.commandManager=new pm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let r;try{r=_0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(i){if(!(i instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(i.message))throw i;this.emit("contentError",{editor:this,error:i,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),r=_0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=mM(r,this.options.autofocus);this.view=new FR(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:cc.create({doc:r,selection:n||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(i=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(i)});return}const r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:r}),this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),o=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return sG(this.state,e)}isActive(e,r){const n=typeof e=="string"?e:null,s=typeof e=="string"?r:e;return oG(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return C0(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return rG(this.state.doc,{blockSeparator:r,textSerializers:{...uM(this.schema),...n}})}get isEmpty(){return jm(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,r))||null}$pos(e){const r=this.state.doc.resolve(e);return new Ea(r,this)}get $doc(){return this.$pos(0)}}function yc(t){return new gm({find:t.find,handler:({state:e,range:r,match:n})=>{const s=Re(t.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:o}=e,i=n[n.length-1],a=n[0];if(i){const c=a.search(/\S/),d=r.from+a.indexOf(i),u=d+i.length;if(bM(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>d).length)return null;u<r.to&&o.delete(u,r.to),d>r.from&&o.delete(r.from+c,d);const f=r.from+c+i.length;o.addMark(r.from+c,f,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function _G(t){return new gm({find:t.find,handler:({state:e,range:r,match:n})=>{const s=Re(t.getAttributes,void 0,n)||{},{tr:o}=e,i=r.from;let a=r.to;const c=t.type.create(s);if(n[1]){const d=n[0].lastIndexOf(n[1]);let u=i+d;u>a?u=a:a=u+n[1].length;const h=n[0][n[0].length-1];o.insertText(h,i+n[0].length-1),o.replaceWith(u,a,c)}else if(n[0]){const d=t.type.isInline?i:i-1;o.insert(d,t.type.create(s)).delete(o.mapping.map(i),o.mapping.map(a))}o.scrollIntoView()}})}function P0(t){return new gm({find:t.find,handler:({state:e,range:r,match:n})=>{const s=e.doc.resolve(r.from),o=Re(t.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,o)}})}function Wu(t){return new gm({find:t.find,handler:({state:e,range:r,match:n,chain:s})=>{const o=Re(t.getAttributes,void 0,n)||{},i=e.tr.delete(r.from,r.to),c=i.doc.resolve(r.from).blockRange(),d=c&&Fw(c,t.type,o);if(!d)return null;if(i.wrap(c,d),t.keepMarks&&t.editor){const{selection:h,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,v=f||h.$to.parentOffset&&h.$from.marks();if(v){const g=v.filter(y=>p.includes(y.type.name));i.ensureMarks(g)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(h,o).run()}const u=i.doc.resolve(r.from-1).nodeBefore;u&&u.type===t.type&&ni(i.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,u))&&i.join(r.from-1)}})}let es=class h1{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Re(le(this,"addOptions",{name:this.name}))),this.storage=Re(le(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new h1(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>xm(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new h1(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Re(le(r,"addOptions",{name:r.name})),r.storage=Re(le(r,"addStorage",{name:r.name,options:r.options})),r}};function xc(t){return new nK({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:s})=>{const o=Re(t.getAttributes,void 0,n,s);if(o===!1||o===null)return null;const{tr:i}=e,a=n[n.length-1],c=n[0];let d=r.to;if(a){const u=c.search(/\S/),h=r.from+c.indexOf(a),f=h+a.length;if(bM(r.from,r.to,e.doc).filter(v=>v.mark.type.excluded.find(y=>y===t.type&&y!==v.mark.type)).filter(v=>v.to>h).length)return null;f<r.to&&i.delete(f,r.to),h>r.from&&i.delete(r.from+u,h),d=r.from+u+a.length,i.addMark(r.from+u,d,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}function TG(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof fe){const o=n.index();return n.parent.canReplaceWith(o,o+1,e)}let s=n.depth;for(;s>=0;){const o=n.index(s);if(n.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}function RG(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NM={exports:{}},A0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CM;function MG(){if(CM)return A0;CM=1;var t=W;function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,o=t.useLayoutEffect,i=t.useDebugValue;function a(h,f){var p=f(),v=n({inst:{value:p,getSnapshot:f}}),g=v[0].inst,y=v[1];return o(function(){g.value=p,g.getSnapshot=f,c(g)&&y({inst:g})},[h,p,f]),s(function(){return c(g)&&y({inst:g}),h(function(){c(g)&&y({inst:g})})},[h]),i(p),p}function c(h){var f=h.getSnapshot;h=h.value;try{var p=f();return!r(h,p)}catch{return!0}}function d(h,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return A0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,A0}NM.exports=MG();var I0=NM.exports;const OG=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},PG=({contentComponent:t})=>{const e=I0.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return W.createElement(W.Fragment,null,Object.values(e))};function AG(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:Ty.createPortal(n.reactElement,n.element,r)},t.forEach(s=>s())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(s=>s())}}}class IG extends W.Component{constructor(e){var r;super(e),this.editorContentRef=W.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((r=e.editor)===null||r===void 0)&&r.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.options.element.childNodes),e.setOptions({element:r}),e.contentComponent=AG(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const r=document.createElement("div");r.append(...e.options.element.childNodes),e.setOptions({element:r})}render(){const{editor:e,innerRef:r,...n}=this.props;return W.createElement(W.Fragment,null,W.createElement("div",{ref:OG(r,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&W.createElement(PG,{contentComponent:e.contentComponent}))}}const DG=m.forwardRef((t,e)=>{const r=W.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return W.createElement(IG,{key:r,innerRef:e,...t})}),LG=W.memo(DG);var $G=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],r.get(s[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(e[s]!==r[s])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;s--!==0;){var i=o[s];if(!(i==="_owner"&&e.$$typeof)&&!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r},FG=RG($G),jM={exports:{}},D0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM;function zG(){if(EM)return D0;EM=1;var t=W,e=I0;function r(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,o=t.useRef,i=t.useEffect,a=t.useMemo,c=t.useDebugValue;return D0.useSyncExternalStoreWithSelector=function(d,u,h,f,p){var v=o(null);if(v.current===null){var g={hasValue:!1,value:null};v.current=g}else g=v.current;v=a(function(){function x(N){if(!w){if(w=!0,b=N,N=f(N),p!==void 0&&g.hasValue){var C=g.value;if(p(C,N))return k=C}return k=N}if(C=k,n(b,N))return C;var E=f(N);return p!==void 0&&p(C,E)?C:(b=N,k=E)}var w=!1,b,k,S=h===void 0?null:h;return[function(){return x(u())},S===null?void 0:function(){return x(S())}]},[u,h,f,p]);var y=s(d,v[0],v[1]);return i(function(){g.hasValue=!0,g.value=y},[y]),c(y),y},D0}jM.exports=zG();var BG=jM.exports;const UG=typeof window<"u"?m.useLayoutEffect:m.useEffect;class VG{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const r=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},n=this.editor;return n.on("transaction",r),()=>{n.off("transaction",r)}}}}function WG(t){var e;const[r]=m.useState(()=>new VG(t.editor)),n=BG.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:FG);return UG(()=>r.watch(t.editor),[t.editor,r]),m.useDebugValue(n),n}const HG=!1,L0=typeof window>"u",qG=L0||!!(typeof window<"u"&&window.next);class $0{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?L0||qG?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(s,...n)},onBlur:(...n)=>{var s,o;return(o=(s=this.options.current).onBlur)===null||o===void 0?void 0:o.call(s,...n)},onCreate:(...n)=>{var s,o;return(o=(s=this.options.current).onCreate)===null||o===void 0?void 0:o.call(s,...n)},onDestroy:(...n)=>{var s,o;return(o=(s=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(s,...n)},onFocus:(...n)=>{var s,o;return(o=(s=this.options.current).onFocus)===null||o===void 0?void 0:o.call(s,...n)},onSelectionUpdate:(...n)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(s,...n)},onTransaction:(...n)=>{var s,o;return(o=(s=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(s,...n)},onUpdate:(...n)=>{var s,o;return(o=(s=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(s,...n)},onContentError:(...n)=>{var s,o;return(o=(s=this.options.current).onContentError)===null||o===void 0?void 0:o.call(s,...n)},onDrop:(...n)=>{var s,o;return(o=(s=this.options.current).onDrop)===null||o===void 0?void 0:o.call(s,...n)},onPaste:(...n)=>{var s,o;return(o=(s=this.options.current).onPaste)===null||o===void 0?void 0:o.call(s,...n)}};return new EG(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((s,o)=>{var i;return s===((i=r.extensions)===null||i===void 0?void 0:i[o])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?$0.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,s)=>n===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function KG(t={},e=[]){const r=m.useRef(t);r.current=t;const[n]=m.useState(()=>new $0(r)),s=I0.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return m.useDebugValue(s),m.useEffect(n.onRender(e)),WG({editor:s,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&o===0?0:o+1}),s}m.createContext({editor:null}).Consumer;const GG=m.createContext({onDragStart:void 0}),YG=()=>m.useContext(GG);W.forwardRef((t,e)=>{const{onDragStart:r}=YG(),n=t.as||"div";return W.createElement(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});const JG=/^\s*>\s$/,QG=es.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",mr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Wu({find:JG,type:this.type})]}}),XG=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,ZG=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,eY=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,tY=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,rY=co.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",mr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[yc({find:XG,type:this.type}),yc({find:eY,type:this.type})]},addPasteRules(){return[xc({find:ZG,type:this.type}),xc({find:tY,type:this.type})]}}),nY="listItem",_M="textStyle",TM=/^\s*([-+*])\s$/,sY=es.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",mr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(nY,this.editor.getAttributes(_M)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Wu({find:TM,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Wu({find:TM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(_M),editor:this.editor})),[t]}}),oY=/(^|[^`])`([^`]+)`(?!`)/,iY=/(^|[^`])`([^`]+)`(?!`)/g,aY=co.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",mr(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[yc({find:oY,type:this.type})]},addPasteRules(){return[xc({find:iY,type:this.type})]}}),lY=/^```([a-z]+)?[\s\n]$/,cY=/^~~~([a-z]+)?[\s\n]$/,dY=es.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(i=>i.startsWith(r)).map(i=>i.replace(r,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",mr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const o=n.parentOffset===n.parent.nodeSize-2,i=n.parent.textContent.endsWith(`

`);return!o||!i?!1:t.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:s,empty:o}=r;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0?!1:n.nodeAt(a)?t.commands.command(({tr:d})=>(d.setSelection(_e.near(n.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[P0({find:lY,type:this.type,getAttributes:t=>({language:t[1]})}),P0({find:cY,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new jr({key:new Zn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,o=s==null?void 0:s.mode;if(!r||!o)return!1;const{tr:i,schema:a}=t.state,c=a.text(r.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:o},c)),i.selection.$from.parent.type!==this.type&&i.setSelection(Ne.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),t.dispatch(i),!0}}})]}}),uY=es.create({name:"doc",topNode:!0,content:"block+"});function hY(t={}){return new jr({view(e){return new fY(e,t)}})}class fY{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=i=>{this[s](i)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,s=this.editorView.dom,o=s.getBoundingClientRect(),i=o.width/s.offsetWidth,a=o.height/s.offsetHeight;if(r){let h=e.nodeBefore,f=e.nodeAfter;if(h||f){let p=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(p){let v=p.getBoundingClientRect(),g=h?v.bottom:v.top;h&&f&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*a;n={left:v.left,right:v.right,top:g-y,bottom:g+y}}}}if(!n){let h=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*i;n={left:h.left-f,right:h.left+f,top:h.top,bottom:h.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let d,u;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,u=-pageYOffset;else{let h=c.getBoundingClientRect(),f=h.width/c.offsetWidth,p=h.height/c.offsetHeight;d=h.left-c.scrollLeft*f,u=h.top-c.scrollTop*p}this.element.style.left=(n.left-d)/i+"px",this.element.style.top=(n.top-u)/a+"px",this.element.style.width=(n.right-n.left)/i+"px",this.element.style.height=(n.bottom-n.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,r,e):s;if(r&&!o){let i=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=yT(this.editorView.state.doc,i,this.editorView.dragging.slice);a!=null&&(i=a)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const pY=gr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[hY(this.options)]}});class dt extends _e{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return dt.valid(n)?new dt(n):_e.near(n)}content(){return oe.empty}eq(e){return e instanceof dt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new dt(e.resolve(r.pos))}getBookmark(){return new F0(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!mY(e)||!gY(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&dt.valid(e))return e;let s=e.pos,o=null;for(let i=e.depth;;i--){let a=e.node(i);if(r>0?e.indexAfter(i)<a.childCount:e.index(i)>0){o=a.child(r>0?e.indexAfter(i):e.index(i)-1);break}else if(i==0)return null;s+=r;let c=e.doc.resolve(s);if(dt.valid(c))return c}for(;;){let i=r>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!fe.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*r),n=!1;continue e}break}o=i,s+=r;let a=e.doc.resolve(s);if(dt.valid(a))return a}return null}}}dt.prototype.visible=!1,dt.findFrom=dt.findGapCursorFrom,_e.jsonID("gapcursor",dt);class F0{constructor(e){this.pos=e}map(e){return new F0(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return dt.valid(r)?new dt(r):_e.near(r)}}function RM(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function mY(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||RM(s.type))return!0;if(s.inlineContent)return!1}}return!0}function gY(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||RM(s.type))return!0;if(s.inlineContent)return!1}}return!0}function vY(){return new jr({props:{decorations:bY,createSelectionBetween(t,e,r){return e.pos==r.pos&&dt.valid(r)?new dt(r):null},handleClick:xY,handleKeyDown:yY,handleDOMEvents:{beforeinput:wY}}})}const yY=HR({ArrowLeft:Em("horiz",-1),ArrowRight:Em("horiz",1),ArrowUp:Em("vert",-1),ArrowDown:Em("vert",1)});function Em(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,o){let i=n.selection,a=e>0?i.$to:i.$from,c=i.empty;if(i instanceof Ne){if(!o.endOfTextblock(r)||a.depth==0)return!1;c=!1,a=n.doc.resolve(e>0?a.after():a.before())}let d=dt.findGapCursorFrom(a,e,c);return d?(s&&s(n.tr.setSelection(new dt(d))),!0):!1}}function xY(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!dt.valid(n))return!1;let s=t.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&fe.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new dt(n))),!0)}function wY(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof dt))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let s=Y.empty;for(let i=n.length-1;i>=0;i--)s=Y.from(n[i].createAndFill(null,s));let o=t.state.tr.replace(r.pos,r.pos,new oe(s,0,0));return o.setSelection(Ne.near(o.doc.resolve(r.pos+1))),t.dispatch(o),!1}function bY(t){if(!(t.selection instanceof dt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",St.create(t.doc,[dn.widget(t.selection.head,e,{key:"gapcursor"})])}const kY=gr.create({name:"gapCursor",addProseMirrorPlugins(){return[vY()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Re(le(t,"allowGapCursor",r)))!==null&&e!==void 0?e:null}}}),SY=es.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",mr(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:o}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=n.extensionManager,c=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:u})=>{if(u&&c&&i){const h=c.filter(f=>a.includes(f.type.name));d.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),NY=es.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,mr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>P0({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var _m=200,qt=function(){};qt.prototype.append=function(e){return e.length?(e=qt.from(e),!this.length&&e||e.length<_m&&this.leafAppend(e)||this.length<_m&&e.leafPrepend(this)||this.appendInner(e)):this},qt.prototype.prepend=function(e){return e.length?qt.from(e).append(this):this},qt.prototype.appendInner=function(e){return new CY(this,e)},qt.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?qt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))},qt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},qt.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)},qt.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(o,i){return s.push(e(o,i))},r,n),s},qt.from=function(e){return e instanceof qt?e:e&&e.length?new MM(e):qt.empty};var MM=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,i,a){for(var c=o;c<i;c++)if(s(this.values[c],a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,i,a){for(var c=o-1;c>=i;c--)if(s(this.values[c],a+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=_m)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=_m)return new e(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(qt);qt.empty=new MM([]);var CY=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,o,i){var a=this.left.length;if(s<a&&this.left.forEachInner(n,s,Math.min(o,a),i)===!1||o>a&&this.right.forEachInner(n,Math.max(s-a,0),Math.min(this.length,o)-a,i+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,o,i){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(n,s-a,Math.max(o,a)-a,i+a)===!1||o<a&&this.left.forEachInvertedInner(n,Math.min(s,a),o,i)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(n,s):n>=o?this.right.slice(n-o,s-o):this.left.slice(n,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(qt);const jY=500;class ts{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,o;r&&(s=this.remapping(n,this.items.length),o=s.maps.length);let i=e.tr,a,c,d=[],u=[];return this.items.forEach((h,f)=>{if(!h.step){s||(s=this.remapping(n,f+1),o=s.maps.length),o--,u.push(h);return}if(s){u.push(new pi(h.map));let p=h.step.map(s.slice(o)),v;p&&i.maybeStep(p).doc&&(v=i.mapping.maps[i.mapping.maps.length-1],d.push(new pi(v,void 0,void 0,d.length+u.length))),o--,v&&s.appendMap(v,o)}else i.maybeStep(h.step);if(h.selection)return a=s?h.selection.map(s.slice(o)):h.selection,c=new ts(this.items.slice(0,n).append(u.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:i,selection:a}}addTransform(e,r,n,s){let o=[],i=this.eventCount,a=this.items,c=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let h=e.steps[u].invert(e.docs[u]),f=new pi(e.mapping.maps[u],h,r),p;(p=c&&c.merge(f))&&(f=p,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),r&&(i++,r=void 0),s||(c=f)}let d=i-n.depth;return d>_Y&&(a=EY(a,d),i-=d),new ts(a.append(o),i)}remapping(e,r){let n=new _u;return this.items.forEach((s,o)=>{let i=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,i)},e,r),n}addMaps(e){return this.eventCount==0?this:new ts(this.items.append(e.map(r=>new pi(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},s);let c=r;this.items.forEach(f=>{let p=o.getMirror(--c);if(p==null)return;i=Math.min(i,p);let v=o.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),y=f.selection&&f.selection.map(o.slice(c+1,p));y&&a++,n.push(new pi(v,g,y))}else n.push(new pi(v))},s);let d=[];for(let f=r;f<i;f++)d.push(new pi(o.maps[f]));let u=this.items.slice(0,s).append(d).append(n),h=new ts(u,a);return h.emptyItemCount()>jY&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,s=[],o=0;return this.items.forEach((i,a)=>{if(a>=e)s.push(i),i.selection&&o++;else if(i.step){let c=i.step.map(r.slice(n)),d=c&&c.getMap();if(n--,d&&r.appendMap(d,n),c){let u=i.selection&&i.selection.map(r.slice(n));u&&o++;let h=new pi(d.invert(),c,u),f,p=s.length-1;(f=s.length&&s[p].merge(h))?s[p]=f:s.push(h)}}else i.map&&n--},this.items.length,0),new ts(qt.from(s.reverse()),o)}}ts.empty=new ts(qt.empty,0);function EY(t,e){let r;return t.forEach((n,s)=>{if(n.selection&&e--==0)return r=s,!1}),t.slice(r)}let pi=class vD{constructor(e,r,n,s){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new vD(r.getMap().invert(),r,this.selection)}}};class mi{constructor(e,r,n,s,o){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=o}}const _Y=20;function TY(t,e,r,n){let s=r.getMeta(_a),o;if(s)return s.historyState;r.getMeta(OY)&&(t=new mi(t.done,t.undone,null,0,-1));let i=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(i&&i.getMeta(_a))return i.getMeta(_a).redo?new mi(t.done.addTransform(r,void 0,n,Tm(e)),t.undone,OM(r.mapping.maps),t.prevTime,t.prevComposition):new mi(t.done,t.undone.addTransform(r,void 0,n,Tm(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let a=r.getMeta("composition"),c=t.prevTime==0||!i&&t.prevComposition!=a&&(t.prevTime<(r.time||0)-n.newGroupDelay||!RY(r,t.prevRanges)),d=i?z0(t.prevRanges,r.mapping):OM(r.mapping.maps);return new mi(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,Tm(e)),ts.empty,d,r.time,a??t.prevComposition)}else return(o=r.getMeta("rebased"))?new mi(t.done.rebased(r,o),t.undone.rebased(r,o),z0(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new mi(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),z0(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function RY(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,s)=>{for(let o=0;o<e.length;o+=2)n<=e[o+1]&&s>=e[o]&&(r=!0)}),r}function OM(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,s,o,i)=>e.push(o,i));return e}function z0(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let s=e.map(t[n],1),o=e.map(t[n+1],-1);s<=o&&r.push(s,o)}return r}function MY(t,e,r){let n=Tm(e),s=_a.get(e).spec.config,o=(r?t.undone:t.done).popEvent(e,n);if(!o)return null;let i=o.selection.resolve(o.transform.doc),a=(r?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,n),c=new mi(r?a:o.remaining,r?o.remaining:a,null,0,-1);return o.transform.setSelection(i).setMeta(_a,{redo:r,historyState:c})}let B0=!1,PM=null;function Tm(t){let e=t.plugins;if(PM!=e){B0=!1,PM=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){B0=!0;break}}return B0}const _a=new Zn("history"),OY=new Zn("closeHistory");function PY(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new jr({key:_a,state:{init(){return new mi(ts.empty,ts.empty,null,0,-1)},apply(e,r,n){return TY(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,s=n=="historyUndo"?IM:n=="historyRedo"?DM:null;return!s||!e.editable?!1:(r.preventDefault(),s(e.state,e.dispatch))}}}})}function AM(t,e){return(r,n)=>{let s=_a.getState(r);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(n){let o=MY(s,r,t);o&&n(e?o.scrollIntoView():o)}return!0}}const IM=AM(!1,!0),DM=AM(!0,!0),AY=gr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>IM(t,e),redo:()=>({state:t,dispatch:e})=>DM(t,e)}},addProseMirrorPlugins(){return[PY(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),IY=es.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",mr(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!TG(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$from:n,$to:s}=r,o=t();return n.parentOffset===0?o.insertContentAt({from:Math.max(n.pos-1,0),to:s.pos},{type:this.name}):iG(r)?o.insertContentAt(s.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:i,dispatch:a})=>{var c;if(a){const{$to:d}=i.selection,u=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?i.setSelection(Ne.create(i.doc,d.pos+1)):d.nodeAfter.isBlock?i.setSelection(fe.create(i.doc,d.pos)):i.setSelection(Ne.create(i.doc,d.pos));else{const h=(c=d.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();h&&(i.insert(u,h),i.setSelection(Ne.create(i.doc,u+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[_G({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),DY=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,LY=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,$Y=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,FY=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,zY=co.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",mr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[yc({find:DY,type:this.type}),yc({find:$Y,type:this.type})]},addPasteRules(){return[xc({find:LY,type:this.type}),xc({find:FY,type:this.type})]}}),BY=es.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",mr(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),UY="listItem",LM="textStyle",$M=/^(\d+)\.\s$/,VY=es.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",mr(this.options.HTMLAttributes,r),0]:["ol",mr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(UY,this.editor.getAttributes(LM)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Wu({find:$M,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Wu({find:$M,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(LM)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),WY=es.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",mr(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),HY=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,qY=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,KY=co.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",mr(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[yc({find:HY,type:this.type})]},addPasteRules(){return[xc({find:qY,type:this.type})]}}),GY=es.create({name:"text",group:"inline"}),YY=gr.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(rY.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(QG.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(sY.configure(this.options.bulletList)),this.options.code!==!1&&t.push(aY.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(dY.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(uY.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(pY.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(kY.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(SY.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(NY.configure(this.options.heading)),this.options.history!==!1&&t.push(AY.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(IY.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(zY.configure(this.options.italic)),this.options.listItem!==!1&&t.push(BY.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(VY.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(WY.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(KY.configure(this.options.strike)),this.options.text!==!1&&t.push(GY.configure(this.options.text)),t}}),JY=gr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new jr({key:new Zn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,s=[];if(!r)return null;const o=this.editor.isEmpty;return t.descendants((i,a)=>{const c=n>=a&&n<=a+i.nodeSize,d=!i.isLeaf&&jm(i);if((c||!this.options.showOnlyCurrent)&&d){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const h=dn.node(a,a+i.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:i,pos:a,hasAnchor:c}):this.options.placeholder});s.push(h)}return this.options.includeChildren}),St.create(t,s)}}})]}}),QY=co.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",mr(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});var XY="Separator",FM="horizontal",ZY=["horizontal","vertical"],zM=m.forwardRef((t,e)=>{const{decorative:r,orientation:n=FM,...s}=t,o=eJ(n)?n:FM,a=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(se.div,{"data-orientation":o,...a,...s,ref:e})});zM.displayName=XY;function eJ(t){return ZY.includes(t)}var BM=zM;const wc=m.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>l.jsx(BM,{ref:s,decorative:r,orientation:e,className:U("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));wc.displayName=BM.displayName;function tJ({content:t="",onChange:e,placeholder:r="Start typing your notes...",className:n}){const s=KG({extensions:[YY.configure({heading:{levels:[1,2,3]}}),QY,JY.configure({placeholder:r})],content:t,onUpdate:({editor:i})=>{e==null||e(i.getHTML())},editorProps:{attributes:{class:"prose prose-sm dark:prose-invert max-w-none focus:outline-none min-h-[200px] p-4"}}});if(!s)return null;const o=({onClick:i,isActive:a,children:c,title:d})=>l.jsx(K,{variant:a?"secondary":"ghost",size:"icon-sm",onClick:i,title:d,type:"button",children:c});return l.jsxs("div",{className:U("border rounded-lg overflow-hidden bg-background",n),children:[l.jsxs("div",{className:"flex items-center gap-1 p-2 border-b bg-secondary/30 flex-wrap",children:[l.jsx(o,{onClick:()=>s.chain().focus().toggleHeading({level:1}).run(),isActive:s.isActive("heading",{level:1}),title:"Heading 1",children:l.jsx(eL,{className:"h-4 w-4"})}),l.jsx(o,{onClick:()=>s.chain().focus().toggleHeading({level:2}).run(),isActive:s.isActive("heading",{level:2}),title:"Heading 2",children:l.jsx(tL,{className:"h-4 w-4"})}),l.jsx(o,{onClick:()=>s.chain().focus().toggleHeading({level:3}).run(),isActive:s.isActive("heading",{level:3}),title:"Heading 3",children:l.jsx(rL,{className:"h-4 w-4"})}),l.jsx(wc,{orientation:"vertical",className:"h-6 mx-1"}),l.jsx(o,{onClick:()=>s.chain().focus().toggleBold().run(),isActive:s.isActive("bold"),title:"Bold",children:l.jsx(V3,{className:"h-4 w-4"})}),l.jsx(o,{onClick:()=>s.chain().focus().toggleItalic().run(),isActive:s.isActive("italic"),title:"Italic",children:l.jsx(sL,{className:"h-4 w-4"})}),l.jsx(o,{onClick:()=>s.chain().focus().toggleUnderline().run(),isActive:s.isActive("underline"),title:"Underline",children:l.jsx(SL,{className:"h-4 w-4"})}),l.jsx(o,{onClick:()=>s.chain().focus().toggleStrike().run(),isActive:s.isActive("strike"),title:"Strikethrough",children:l.jsx(xL,{className:"h-4 w-4"})}),l.jsx(wc,{orientation:"vertical",className:"h-6 mx-1"}),l.jsx(o,{onClick:()=>s.chain().focus().toggleBulletList().run(),isActive:s.isActive("bulletList"),title:"Bullet List",children:l.jsx(wC,{className:"h-4 w-4"})}),l.jsx(o,{onClick:()=>s.chain().focus().toggleOrderedList().run(),isActive:s.isActive("orderedList"),title:"Numbered List",children:l.jsx(iL,{className:"h-4 w-4"})}),l.jsx(o,{onClick:()=>s.chain().focus().toggleBlockquote().run(),isActive:s.isActive("blockquote"),title:"Quote",children:l.jsx(fL,{className:"h-4 w-4"})}),l.jsx(wc,{orientation:"vertical",className:"h-6 mx-1"}),l.jsx(o,{onClick:()=>s.chain().focus().undo().run(),title:"Undo",children:l.jsx(jC,{className:"h-4 w-4"})}),l.jsx(o,{onClick:()=>s.chain().focus().redo().run(),title:"Redo",children:l.jsx(kC,{className:"h-4 w-4"})})]}),l.jsx(LG,{editor:s})]})}function Hu(t,[e,r]){return Math.min(r,Math.max(e,t))}var UM=["PageUp","PageDown"],VM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],WM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},bc="Slider",[U0,rJ,nJ]=Ld(bc),[HM]=Ft(bc,[nJ]),[sJ,Rm]=HM(bc),qM=m.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:u,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:p=!1,form:v,...g}=t,y=m.useRef(new Set),x=m.useRef(0),b=i==="horizontal"?oJ:iJ,[k=[],S]=Wn({prop:u,defaultProp:d,onChange:P=>{var A;(A=[...y.current][x.current])==null||A.focus(),h(P)}}),N=m.useRef(k);function C(P){const T=uJ(k,P);_(P,T)}function E(P){_(P,x.current)}function j(){const P=N.current[x.current];k[x.current]!==P&&f(k)}function _(P,T,{commit:A}={commit:!1}){const I=mJ(o),L=gJ(Math.round((P-n)/o)*o+n,I),F=Hu(L,[n,s]);S((V=[])=>{const O=cJ(V,F,T);if(pJ(O,c*o)){x.current=O.indexOf(F);const D=String(O)!==String(V);return D&&A&&f(O),D?O:V}else return V})}return l.jsx(sJ,{scope:t.__scopeSlider,name:r,disabled:a,min:n,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:k,orientation:i,form:v,children:l.jsx(U0.Provider,{scope:t.__scopeSlider,children:l.jsx(U0.Slot,{scope:t.__scopeSlider,children:l.jsx(b,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:Q(g.onPointerDown,()=>{a||(N.current=k)}),min:n,max:s,inverted:p,onSlideStart:a?void 0:C,onSlideMove:a?void 0:E,onSlideEnd:a?void 0:j,onHomeKeyDown:()=>!a&&_(n,0,{commit:!0}),onEndKeyDown:()=>!a&&_(s,k.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:T})=>{if(!a){const L=UM.includes(P.key)||P.shiftKey&&VM.includes(P.key)?10:1,F=x.current,V=k[F],O=o*L*T;_(V+O,F,{commit:!0})}}})})})})});qM.displayName=bc;var[KM,GM]=HM(bc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),oJ=m.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onStepKeyDown:d,...u}=t,[h,f]=m.useState(null),p=we(e,b=>f(b)),v=m.useRef(void 0),g=fa(s),y=g==="ltr",x=y&&!o||!y&&o;function w(b){const k=v.current||h.getBoundingClientRect(),S=[0,k.width],C=H0(S,x?[r,n]:[n,r]);return v.current=k,C(b-k.left)}return l.jsx(KM,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:l.jsx(YM,{dir:g,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const k=w(b.clientX);i==null||i(k)},onSlideMove:b=>{const k=w(b.clientX);a==null||a(k)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:b=>{const S=WM[x?"from-left":"from-right"].includes(b.key);d==null||d({event:b,direction:S?-1:1})}})})}),iJ=m.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:a,onStepKeyDown:c,...d}=t,u=m.useRef(null),h=we(e,u),f=m.useRef(void 0),p=!s;function v(g){const y=f.current||u.current.getBoundingClientRect(),x=[0,y.height],b=H0(x,p?[n,r]:[r,n]);return f.current=y,b(g-y.top)}return l.jsx(KM,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:l.jsx(YM,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=v(g.clientY);o==null||o(y)},onSlideMove:g=>{const y=v(g.clientY);i==null||i(y)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:g=>{const x=WM[p?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:x?-1:1})}})})}),YM=m.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:c,...d}=t,u=Rm(bc,r);return l.jsx(se.span,{...d,ref:e,onKeyDown:Q(t.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):UM.concat(VM).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Q(t.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(f)?f.focus():n(h)}),onPointerMove:Q(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:Q(t.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),o(h))})})}),JM="SliderTrack",QM=m.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=Rm(JM,r);return l.jsx(se.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});QM.displayName=JM;var V0="SliderRange",XM=m.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=Rm(V0,r),o=GM(V0,r),i=m.useRef(null),a=we(e,i),c=s.values.length,d=s.values.map(f=>tO(f,s.min,s.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return l.jsx(se.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:a,style:{...t.style,[o.startEdge]:u+"%",[o.endEdge]:h+"%"}})});XM.displayName=V0;var W0="SliderThumb",ZM=m.forwardRef((t,e)=>{const r=rJ(t.__scopeSlider),[n,s]=m.useState(null),o=we(e,a=>s(a)),i=m.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return l.jsx(aJ,{...t,ref:o,index:i})}),aJ=m.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...o}=t,i=Rm(W0,r),a=GM(W0,r),[c,d]=m.useState(null),u=we(e,w=>d(w)),h=c?i.form||!!c.closest("form"):!0,f=Jd(c),p=i.values[n],v=p===void 0?0:tO(p,i.min,i.max),g=dJ(n,i.values.length),y=f==null?void 0:f[a.size],x=y?hJ(y,v,a.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${x}px)`},children:[l.jsx(U0.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(se.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:u,style:p===void 0?{display:"none"}:t.style,onFocus:Q(t.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),h&&l.jsx(eO,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},n)]})});ZM.displayName=W0;var lJ="RadioBubbleInput",eO=m.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const s=m.useRef(null),o=we(s,n),i=tu(e);return m.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&u){const h=new Event("input",{bubbles:!0});u.call(a,e),a.dispatchEvent(h)}},[i,e]),l.jsx(se.input,{style:{display:"none"},...r,ref:o,defaultValue:e})});eO.displayName=lJ;function cJ(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,o)=>s-o)}function tO(t,e,r){const o=100/(r-e)*(t-e);return Hu(o,[0,100])}function dJ(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function uJ(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function hJ(t,e,r){const n=t/2,o=H0([0,50],[0,n]);return(n-o(e)*r)*r}function fJ(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function pJ(t,e){if(e>0){const r=fJ(t);return Math.min(...r)>=e}return!0}function H0(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function mJ(t){return(String(t).split(".")[1]||"").length}function gJ(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var rO=qM,vJ=QM,yJ=XM,xJ=ZM;const nO=m.forwardRef(({className:t,...e},r)=>l.jsxs(rO,{ref:r,className:U("relative flex w-full touch-none select-none items-center",t),...e,children:[l.jsx(vJ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(yJ,{className:"absolute h-full bg-primary"})}),l.jsx(xJ,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));nO.displayName=rO.displayName;const wJ=["#000000","#ef4444","#3b82f6","#22c55e","#f59e0b","#8b5cf6","#ec4899"];function bJ({width:t=800,height:e=400,onDrawingChange:r,initialDrawing:n,className:s}){const o=m.useRef(null),[i,a]=m.useState(!1),[c,d]=m.useState("pen"),[u,h]=m.useState("#000000"),[f,p]=m.useState(3),[v,g]=m.useState([]),[y,x]=m.useState(null),[w,b]=m.useState([]),[k,S]=m.useState([]);m.useEffect(()=>{const A=o.current;if(!A)return;const I=A.getContext("2d");I&&(I.fillStyle="#ffffff",I.fillRect(0,0,A.width,A.height),[...v,y].filter(Boolean).forEach(L=>{if(!(!L||L.points.length<2)){I.beginPath(),I.lineCap="round",I.lineJoin="round",L.tool==="eraser"?(I.globalCompositeOperation="destination-out",I.strokeStyle="rgba(255,255,255,1)"):(I.globalCompositeOperation="source-over",I.strokeStyle=L.color),I.lineWidth=L.width,I.moveTo(L.points[0].x,L.points[0].y);for(let F=1;F<L.points.length;F++)I.lineTo(L.points[F].x,L.points[F].y);I.stroke()}}),I.globalCompositeOperation="source-over")},[v,y]),m.useEffect(()=>{if(r){const A=o.current;A&&v.length>0?r(A.toDataURL("image/png")):v.length===0&&r(null)}},[v,r]),m.useEffect(()=>{if(n&&o.current){const A=o.current.getContext("2d");if(!A)return;const I=new Image;I.onload=()=>{A.drawImage(I,0,0)},I.src=n}},[n]);const N=m.useCallback(A=>{const I=o.current;if(!I)return{x:0,y:0};const L=I.getBoundingClientRect(),F=I.width/L.width,V=I.height/L.height;if("touches"in A){const O=A.touches[0];return{x:(O.clientX-L.left)*F,y:(O.clientY-L.top)*V}}return{x:(A.clientX-L.left)*F,y:(A.clientY-L.top)*V}},[]),C=m.useCallback(A=>{A.preventDefault();const I=N(A);a(!0),x({points:[I],color:u,width:c==="eraser"?f*3:f,tool:c})},[u,f,c,N]),E=m.useCallback(A=>{if(!i||!y)return;A.preventDefault();const I=N(A);x(L=>L?{...L,points:[...L.points,I]}:null)},[i,y,N]),j=m.useCallback(()=>{y&&y.points.length>1&&(b(A=>[...A,v]),S([]),g(A=>[...A,y])),a(!1),x(null)},[y,v]),_=m.useCallback(()=>{if(w.length===0)return;const A=w[w.length-1];S(I=>[...I,v]),g(A),b(I=>I.slice(0,-1))},[v,w]),P=m.useCallback(()=>{if(k.length===0)return;const A=k[k.length-1];b(I=>[...I,v]),g(A),S(I=>I.slice(0,-1))},[v,k]),T=m.useCallback(()=>{v.length>0&&(b(A=>[...A,v]),S([])),g([])},[v]);return l.jsxs("div",{className:U("space-y-3",s),children:[l.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-secondary rounded-lg p-1",children:[l.jsx(K,{variant:c==="pen"?"default":"ghost",size:"icon-sm",onClick:()=>d("pen"),children:l.jsx(uL,{className:"h-4 w-4"})}),l.jsx(K,{variant:c==="eraser"?"default":"ghost",size:"icon-sm",onClick:()=>d("eraser"),children:l.jsx(G3,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex items-center gap-1",children:wJ.map(A=>l.jsx("button",{className:U("w-6 h-6 rounded-full border-2 transition-transform hover:scale-110",u===A?"border-foreground scale-110":"border-transparent"),style:{backgroundColor:A},onClick:()=>h(A)},A))}),l.jsxs("div",{className:"flex items-center gap-2 min-w-[120px]",children:[l.jsx(dL,{className:"h-3 w-3 text-muted-foreground"}),l.jsx(nO,{value:[f],onValueChange:([A])=>p(A),min:1,max:20,step:1,className:"flex-1"}),l.jsx(Rt,{className:"h-3 w-3 text-muted-foreground"})]}),l.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[l.jsx(K,{variant:"ghost",size:"icon-sm",onClick:_,disabled:w.length===0,children:l.jsx(jC,{className:"h-4 w-4"})}),l.jsx(K,{variant:"ghost",size:"icon-sm",onClick:P,disabled:k.length===0,children:l.jsx(kC,{className:"h-4 w-4"})}),l.jsx(K,{variant:"ghost",size:"icon-sm",onClick:T,className:"text-destructive hover:text-destructive",children:l.jsx(Hy,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"border rounded-lg overflow-hidden bg-white",children:l.jsx("canvas",{ref:o,width:t,height:e,className:"w-full cursor-crosshair touch-none",style:{aspectRatio:`${t}/${e}`},onMouseDown:C,onMouseMove:E,onMouseUp:j,onMouseLeave:j,onTouchStart:C,onTouchMove:E,onTouchEnd:j})})]})}function q0({open:t,onOpenChange:e,eventId:r,classId:n,onNoteSaved:s}){const[o,i]=m.useState(""),[a,c]=m.useState(""),[d,u]=m.useState(null),[h,f]=m.useState(!1),[p,v]=m.useState("text"),{toast:g}=gs(),y=async()=>{if(!a&&!d){g({title:"Nothing to save",description:"Add some text or drawing before saving",variant:"destructive"});return}f(!0);try{const{data:{user:w}}=await q.auth.getUser();if(!w)throw new Error("Not authenticated");let b=a,k=null;if(d){const E=await(await fetch(d)).blob(),j=`${w.id}/${Date.now()}-drawing.png`,{data:_,error:P}=await q.storage.from("audio-notes").upload(j,E,{contentType:"image/png"});if(P)console.error("Failed to upload drawing:",P);else{const{data:{publicUrl:T}}=q.storage.from("audio-notes").getPublicUrl(j);k=T}}const{data:S,error:N}=await q.from("notes").insert({user_id:w.id,event_id:r||null,class_id:n||null,type:"text",title:o||"Untitled Note",content:b,transcription:k?`[Drawing attached: ${k}]`:null}).select().single();if(N)throw new Error(`Failed to save note: ${N.message}`);if(a){const{data:{session:C}}=await q.auth.getSession();if(C){const E=a.replace(/<[^>]*>/g,""),{data:j,error:_}=await q.functions.invoke("process-audio-note",{body:{noteId:S.id,transcription:E,classId:n||null,eventId:r||null}});_?console.error("Failed to process note:",_):(j==null?void 0:j.todosExtracted)>0&&g({title:`${j.todosExtracted} to-do${j.todosExtracted>1?"s":""} extracted!`,description:"AI found action items in your note"})}}g({title:"Note saved",description:"Your note has been saved successfully"}),s==null||s(S.id),i(""),c(""),u(null),e(!1)}catch(w){console.error("Failed to save note:",w),g({title:"Save failed",description:w instanceof Error?w.message:"Failed to save note",variant:"destructive"})}finally{f(!1)}},x=()=>{i(""),c(""),u(null),e(!1)};return l.jsx(Bp,{open:t,onOpenChange:x,children:l.jsxs(bu,{side:"bottom",className:"h-[90vh] flex flex-col",children:[l.jsxs(ku,{className:"flex-row items-center justify-between space-y-0 pb-4",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(zt,{className:"h-5 w-5 text-primary"})}),l.jsx(Ce,{value:o,onChange:w=>i(w.target.value),placeholder:"Note title...",className:"text-lg font-semibold border-none shadow-none focus-visible:ring-0 p-0 h-auto"})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(K,{variant:"glow",onClick:y,disabled:h,children:[h?l.jsx(Bt,{className:"h-4 w-4 animate-spin"}):l.jsx(pL,{className:"h-4 w-4"}),"Save Note"]})})]}),l.jsxs(no,{value:p,onValueChange:v,className:"flex-1 flex flex-col min-h-0",children:[l.jsxs(ks,{className:"w-fit",children:[l.jsxs(Ze,{value:"text",className:"gap-2",children:[l.jsx(zt,{className:"h-4 w-4"}),"Text"]}),l.jsxs(Ze,{value:"draw",className:"gap-2",children:[l.jsx(hL,{className:"h-4 w-4"}),"Draw"]})]}),l.jsxs(et,{value:"text",className:"flex-1 mt-4 min-h-0 overflow-auto",children:[l.jsx(tJ,{content:a,onChange:c,placeholder:"Start typing your notes... Use headings, lists, and formatting to organize your thoughts.",className:"h-full"}),l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsx(Nr,{className:"h-3 w-3"}),l.jsx("span",{children:"AI will automatically extract to-dos from your notes"})]})]}),l.jsxs(et,{value:"draw",className:"flex-1 mt-4 min-h-0 overflow-auto",children:[l.jsx(bJ,{width:1200,height:600,onDrawingChange:u,initialDrawing:d}),l.jsx("p",{className:"mt-3 text-xs text-muted-foreground",children:"Use the pen tool to draw, scribble notes, or create diagrams. Your drawing will be saved with your note."})]})]})]})})}const kJ=[{name:"Calendar",href:"/calendar",icon:Sr},{name:"Dashboard",href:"/dashboard",icon:Vy},{name:"Classes",href:"/classes",icon:vt},{name:"To-Do",href:"/todo",icon:El},{name:"Study Hub",href:"/study-groups",icon:$r},{name:"Study Mode",href:"/study",icon:Uy},{name:"Weekly Recap",href:"/recap",icon:Nr}];function SJ({onNavigate:t}){const{sidebarOpen:e,toggleSidebar:r,toggleSearch:n,classes:s,assignments:o}=Ot(),i=du(),{focusModeEnabled:a,toggleFocusMode:c}=T_(),{classes:d}=ha(),u=d.length>0?d.map(S=>({id:S.id,name:S.name,code:S.code||S.name,color:S.color,instructor:S.professor_name})):s,h=na(),[f,p]=m.useState(!1),[v,g]=m.useState(null),[y,x]=m.useState(!1),w=o.filter(S=>S.status!=="completed").length,b=()=>{p(!0)},k=S=>{g(S),p(!1),x(!0)};return l.jsxs("aside",{className:U("h-screen border-r border-border bg-sidebar transition-all duration-300 shadow-sm","max-h-[100dvh]",i?"w-[min(280px,85vw)]":e?"w-64":"w-16"),children:[l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsxs("div",{className:U("flex h-16 border-b border-border px-4 gap-2",e?"items-center justify-between":"flex-col items-center justify-center py-2"),children:[l.jsxs(rn,{to:"/landing",onClick:()=>t==null?void 0:t(),className:U("flex items-center rounded-lg hover:opacity-90 transition-opacity shrink-0",e?"gap-3":"justify-center"),children:[l.jsx("div",{className:U("rounded-xl gradient-primary flex items-center justify-center shadow-md",e?"h-9 w-9":"h-8 w-8 rounded-lg"),children:l.jsx("span",{className:U("font-bold text-primary-foreground",e?"text-lg":"text-sm"),children:"F"})}),e&&l.jsx("span",{className:"text-xl font-semibold text-foreground tracking-tight",children:"Focus"})]}),l.jsx(K,{variant:"ghost",size:"icon-sm",onClick:r,className:"shrink-0",children:e?l.jsx(Cl,{className:"h-4 w-4"}):l.jsx(wt,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"p-3 border-b border-border",children:l.jsxs(K,{variant:"glow",className:U("w-full",!e&&"px-0"),onClick:b,children:[l.jsx(Rt,{className:"h-4 w-4"}),e&&l.jsx("span",{children:"New Note"})]})}),l.jsxs("nav",{className:"space-y-1 px-3 py-4 shrink-0",children:[kJ.map(S=>{const N=h.pathname===S.href;return l.jsxs(Mx,{to:S.href,onClick:()=>t==null?void 0:t(),className:U("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",N?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[l.jsx(S.icon,{className:"h-5 w-5 shrink-0"}),e&&l.jsx("span",{className:"flex-1",children:S.name}),e&&S.name==="To-Do"&&w>0&&l.jsx(ue,{variant:"default",className:"h-5 min-w-5 justify-center px-1.5",children:w})]},S.name)}),l.jsxs("button",{onClick:n,className:U("flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200","text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[l.jsx(Ud,{className:"h-5 w-5 shrink-0"}),e&&l.jsx("span",{children:"Search"}),e&&l.jsx("kbd",{className:"ml-auto hidden rounded bg-muted px-1.5 py-0.5 text-xs text-muted-foreground md:block",children:"K"})]})]}),e&&l.jsxs("div",{className:"flex-1 min-h-0 border-t border-border px-3 py-4 overflow-y-auto",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between px-3",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Classes"}),l.jsx(K,{variant:"ghost",size:"icon-sm",className:"h-6 w-6",children:l.jsx(Rt,{className:"h-3 w-3"})})]}),l.jsx("div",{className:"space-y-1",children:u.map(S=>l.jsxs(Mx,{to:`/classes/${S.id}`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm text-muted-foreground hover:bg-secondary hover:text-foreground transition-colors",children:[l.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{backgroundColor:S.color}}),l.jsx("span",{className:"truncate",children:S.code})]},S.id))})]}),l.jsxs("div",{className:"border-t border-border p-3 space-y-2 shrink-0",children:[l.jsxs("div",{className:U("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",a?"bg-primary/10 text-primary":"text-muted-foreground"),children:[l.jsx(bC,{className:U("h-5 w-5 shrink-0",a&&"text-primary")}),e&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"flex-1",children:"Focus Mode"}),l.jsx(Go,{checked:a,onCheckedChange:c,"aria-label":"Toggle Focus Mode"})]}),!e&&l.jsx(Go,{checked:a,onCheckedChange:c,"aria-label":"Toggle Focus Mode",className:"absolute opacity-0"})]}),l.jsxs(Mx,{to:"/settings",className:U("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200","text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[l.jsx(vL,{className:"h-5 w-5 shrink-0"}),e&&l.jsx("span",{children:"Settings"})]})]})]}),l.jsx(bn,{open:f,onOpenChange:p,children:l.jsxs(nn,{className:"sm:max-w-md",children:[l.jsx(kn,{children:l.jsx(Sn,{children:"Select a Class for Your Note"})}),l.jsx("div",{className:"space-y-2 pt-4",children:u.length>0?u.map(S=>l.jsxs("button",{onClick:()=>k(S.id),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-secondary transition-colors text-left",children:[l.jsx("div",{className:"h-3 w-3 rounded-full shrink-0",style:{backgroundColor:S.color}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-medium truncate",children:[S.code&&l.jsx("span",{className:"mr-1",children:S.code}),S.name]}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:S.instructor})]})]},S.id)):l.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No classes found. Add a class first!"})})]})}),l.jsx(q0,{open:y,onOpenChange:x,classId:v||void 0})]})}var sO=1,NJ=.9,CJ=.8,jJ=.17,K0=.1,G0=.999,EJ=.9999,_J=.99,TJ=/[\\\/_+.#"@\[\(\{&]/,RJ=/[\\\/_+.#"@\[\(\{&]/g,MJ=/[\s-]/,oO=/[\s-]/g;function Y0(t,e,r,n,s,o,i){if(o===e.length)return s===t.length?sO:_J;var a=`${s},${o}`;if(i[a]!==void 0)return i[a];for(var c=n.charAt(o),d=r.indexOf(c,s),u=0,h,f,p,v;d>=0;)h=Y0(t,e,r,n,d+1,o+1,i),h>u&&(d===s?h*=sO:TJ.test(t.charAt(d-1))?(h*=CJ,p=t.slice(s,d-1).match(RJ),p&&s>0&&(h*=Math.pow(G0,p.length))):MJ.test(t.charAt(d-1))?(h*=NJ,v=t.slice(s,d-1).match(oO),v&&s>0&&(h*=Math.pow(G0,v.length))):(h*=jJ,s>0&&(h*=Math.pow(G0,d-s))),t.charAt(d)!==e.charAt(o)&&(h*=EJ)),(h<K0&&r.charAt(d-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(d-1)!==n.charAt(o))&&(f=Y0(t,e,r,n,d+1,o+2,i),f*K0>h&&(h=f*K0)),h>u&&(u=h),d=r.indexOf(c,d+1);return i[a]=u,u}function iO(t){return t.toLowerCase().replace(oO," ")}function OJ(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,Y0(t,e,iO(t),iO(e),0,0,{})}var qu='[cmdk-group=""]',J0='[cmdk-group-items=""]',PJ='[cmdk-group-heading=""]',aO='[cmdk-item=""]',lO=`${aO}:not([aria-disabled="true"])`,Q0="cmdk-item-select",kc="data-value",AJ=(t,e,r)=>OJ(t,e,r),cO=m.createContext(void 0),Ku=()=>m.useContext(cO),dO=m.createContext(void 0),X0=()=>m.useContext(dO),uO=m.createContext(void 0),hO=m.forwardRef((t,e)=>{let r=Sc(()=>{var $,G;return{search:"",value:(G=($=t.value)!=null?$:t.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Sc(()=>new Set),s=Sc(()=>new Map),o=Sc(()=>new Map),i=Sc(()=>new Set),a=fO(t),{label:c,children:d,value:u,onValueChange:h,filter:f,shouldFilter:p,loop:v,disablePointerSelection:g=!1,vimBindings:y=!0,...x}=t,w=hr(),b=hr(),k=hr(),S=m.useRef(null),N=HJ();Ta(()=>{if(u!==void 0){let $=u.trim();r.current.value=$,C.emit()}},[u]),Ta(()=>{N(6,A)},[]);let C=m.useMemo(()=>({subscribe:$=>(i.current.add($),()=>i.current.delete($)),snapshot:()=>r.current,setState:($,G,J)=>{var M,B,z,te;if(!Object.is(r.current[$],G)){if(r.current[$]=G,$==="search")T(),_(),N(1,P);else if($==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ee=document.getElementById(k);ee?ee.focus():(M=document.getElementById(w))==null||M.focus()}if(N(7,()=>{var ee;r.current.selectedItemId=(ee=I())==null?void 0:ee.id,C.emit()}),J||N(5,A),((B=a.current)==null?void 0:B.value)!==void 0){let ee=G??"";(te=(z=a.current).onValueChange)==null||te.call(z,ee);return}}C.emit()}},emit:()=>{i.current.forEach($=>$())}}),[]),E=m.useMemo(()=>({value:($,G,J)=>{var M;G!==((M=o.current.get($))==null?void 0:M.value)&&(o.current.set($,{value:G,keywords:J}),r.current.filtered.items.set($,j(G,J)),N(2,()=>{_(),C.emit()}))},item:($,G)=>(n.current.add($),G&&(s.current.has(G)?s.current.get(G).add($):s.current.set(G,new Set([$]))),N(3,()=>{T(),_(),r.current.value||P(),C.emit()}),()=>{o.current.delete($),n.current.delete($),r.current.filtered.items.delete($);let J=I();N(4,()=>{T(),(J==null?void 0:J.getAttribute("id"))===$&&P(),C.emit()})}),group:$=>(s.current.has($)||s.current.set($,new Set),()=>{o.current.delete($),s.current.delete($)}),filter:()=>a.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:w,inputId:k,labelId:b,listInnerRef:S}),[]);function j($,G){var J,M;let B=(M=(J=a.current)==null?void 0:J.filter)!=null?M:AJ;return $?B($,r.current.search,G):0}function _(){if(!r.current.search||a.current.shouldFilter===!1)return;let $=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(M=>{let B=s.current.get(M),z=0;B.forEach(te=>{let ee=$.get(te);z=Math.max(ee,z)}),G.push([M,z])});let J=S.current;L().sort((M,B)=>{var z,te;let ee=M.getAttribute("id"),Z=B.getAttribute("id");return((z=$.get(Z))!=null?z:0)-((te=$.get(ee))!=null?te:0)}).forEach(M=>{let B=M.closest(J0);B?B.appendChild(M.parentElement===B?M:M.closest(`${J0} > *`)):J.appendChild(M.parentElement===J?M:M.closest(`${J0} > *`))}),G.sort((M,B)=>B[1]-M[1]).forEach(M=>{var B;let z=(B=S.current)==null?void 0:B.querySelector(`${qu}[${kc}="${encodeURIComponent(M[0])}"]`);z==null||z.parentElement.appendChild(z)})}function P(){let $=L().find(J=>J.getAttribute("aria-disabled")!=="true"),G=$==null?void 0:$.getAttribute(kc);C.setState("value",G||void 0)}function T(){var $,G,J,M;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let B=0;for(let z of n.current){let te=(G=($=o.current.get(z))==null?void 0:$.value)!=null?G:"",ee=(M=(J=o.current.get(z))==null?void 0:J.keywords)!=null?M:[],Z=j(te,ee);r.current.filtered.items.set(z,Z),Z>0&&B++}for(let[z,te]of s.current)for(let ee of te)if(r.current.filtered.items.get(ee)>0){r.current.filtered.groups.add(z);break}r.current.filtered.count=B}function A(){var $,G,J;let M=I();M&&((($=M.parentElement)==null?void 0:$.firstChild)===M&&((J=(G=M.closest(qu))==null?void 0:G.querySelector(PJ))==null||J.scrollIntoView({block:"nearest"})),M.scrollIntoView({block:"nearest"}))}function I(){var $;return($=S.current)==null?void 0:$.querySelector(`${aO}[aria-selected="true"]`)}function L(){var $;return Array.from((($=S.current)==null?void 0:$.querySelectorAll(lO))||[])}function F($){let G=L()[$];G&&C.setState("value",G.getAttribute(kc))}function V($){var G;let J=I(),M=L(),B=M.findIndex(te=>te===J),z=M[B+$];(G=a.current)!=null&&G.loop&&(z=B+$<0?M[M.length-1]:B+$===M.length?M[0]:M[B+$]),z&&C.setState("value",z.getAttribute(kc))}function O($){let G=I(),J=G==null?void 0:G.closest(qu),M;for(;J&&!M;)J=$>0?VJ(J,qu):WJ(J,qu),M=J==null?void 0:J.querySelector(lO);M?C.setState("value",M.getAttribute(kc)):V($)}let D=()=>F(L().length-1),H=$=>{$.preventDefault(),$.metaKey?D():$.altKey?O(1):V(1)},ne=$=>{$.preventDefault(),$.metaKey?F(0):$.altKey?O(-1):V(-1)};return m.createElement(se.div,{ref:e,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:$=>{var G;(G=x.onKeyDown)==null||G.call(x,$);let J=$.nativeEvent.isComposing||$.keyCode===229;if(!($.defaultPrevented||J))switch($.key){case"n":case"j":{y&&$.ctrlKey&&H($);break}case"ArrowDown":{H($);break}case"p":case"k":{y&&$.ctrlKey&&ne($);break}case"ArrowUp":{ne($);break}case"Home":{$.preventDefault(),F(0);break}case"End":{$.preventDefault(),D();break}case"Enter":{$.preventDefault();let M=I();if(M){let B=new Event(Q0);M.dispatchEvent(B)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:KJ},c),Mm(t,$=>m.createElement(dO.Provider,{value:C},m.createElement(cO.Provider,{value:E},$))))}),IJ=m.forwardRef((t,e)=>{var r,n;let s=hr(),o=m.useRef(null),i=m.useContext(uO),a=Ku(),c=fO(t),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;Ta(()=>{if(!d)return a.item(s,i==null?void 0:i.id)},[d]);let u=pO(s,o,[t.value,t.children,o],t.keywords),h=X0(),f=gi(N=>N.value&&N.value===u.current),p=gi(N=>d||a.filter()===!1?!0:N.search?N.filtered.items.get(s)>0:!0);m.useEffect(()=>{let N=o.current;if(!(!N||t.disabled))return N.addEventListener(Q0,v),()=>N.removeEventListener(Q0,v)},[p,t.onSelect,t.disabled]);function v(){var N,C;g(),(C=(N=c.current).onSelect)==null||C.call(N,u.current)}function g(){h.setState("value",u.current,!0)}if(!p)return null;let{disabled:y,value:x,onSelect:w,forceMount:b,keywords:k,...S}=t;return m.createElement(se.div,{ref:Ks(o,e),...S,id:s,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!f,"data-disabled":!!y,"data-selected":!!f,onPointerMove:y||a.getDisablePointerSelection()?void 0:g,onClick:y?void 0:v},t.children)}),DJ=m.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:s,...o}=t,i=hr(),a=m.useRef(null),c=m.useRef(null),d=hr(),u=Ku(),h=gi(p=>s||u.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);Ta(()=>u.group(i),[]),pO(i,a,[t.value,t.heading,c]);let f=m.useMemo(()=>({id:i,forceMount:s}),[s]);return m.createElement(se.div,{ref:Ks(a,e),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),Mm(t,p=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},m.createElement(uO.Provider,{value:f},p))))}),LJ=m.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,s=m.useRef(null),o=gi(i=>!i.search);return!r&&!o?null:m.createElement(se.div,{ref:Ks(s,e),...n,"cmdk-separator":"",role:"separator"})}),$J=m.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,s=t.value!=null,o=X0(),i=gi(d=>d.search),a=gi(d=>d.selectedItemId),c=Ku();return m.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),m.createElement(se.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":a,id:c.inputId,type:"text",value:s?t.value:i,onChange:d=>{s||o.setState("search",d.target.value),r==null||r(d.target.value)}})}),FJ=m.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...s}=t,o=m.useRef(null),i=m.useRef(null),a=gi(d=>d.selectedItemId),c=Ku();return m.useEffect(()=>{if(i.current&&o.current){let d=i.current,u=o.current,h,f=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return f.observe(d),()=>{cancelAnimationFrame(h),f.unobserve(d)}}},[]),m.createElement(se.div,{ref:Ks(o,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:c.listId},Mm(t,d=>m.createElement("div",{ref:Ks(i,c.listInnerRef),"cmdk-list-sizer":""},d)))}),zJ=m.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:i,...a}=t;return m.createElement(qx,{open:r,onOpenChange:n},m.createElement(Kx,{container:i},m.createElement(ru,{"cmdk-overlay":"",className:s}),m.createElement(nu,{"aria-label":t.label,"cmdk-dialog":"",className:o},m.createElement(hO,{ref:e,...a}))))}),BJ=m.forwardRef((t,e)=>gi(r=>r.filtered.count===0)?m.createElement(se.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),UJ=m.forwardRef((t,e)=>{let{progress:r,children:n,label:s="Loading...",...o}=t;return m.createElement(se.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Mm(t,i=>m.createElement("div",{"aria-hidden":!0},i)))}),Vr=Object.assign(hO,{List:FJ,Item:IJ,Input:$J,Group:DJ,Separator:LJ,Dialog:zJ,Empty:BJ,Loading:UJ});function VJ(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function WJ(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function fO(t){let e=m.useRef(t);return Ta(()=>{e.current=t}),e}var Ta=typeof window>"u"?m.useEffect:m.useLayoutEffect;function Sc(t){let e=m.useRef();return e.current===void 0&&(e.current=t()),e}function gi(t){let e=X0(),r=()=>t(e.snapshot());return m.useSyncExternalStore(e.subscribe,r,r)}function pO(t,e,r,n=[]){let s=m.useRef(),o=Ku();return Ta(()=>{var i;let a=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():s.current}})(),c=n.map(d=>d.trim());o.value(t,a,c),(i=e.current)==null||i.setAttribute(kc,a),s.current=a}),s}var HJ=()=>{let[t,e]=m.useState(),r=Sc(()=>new Map);return Ta(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,s)=>{r.current.set(n,s),e({})}};function qJ(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Mm({asChild:t,children:e},r){return t&&m.isValidElement(e)?m.cloneElement(qJ(e),{ref:e.ref},r(e.props.children)):r(e)}var KJ={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const mO=m.forwardRef(({className:t,...e},r)=>l.jsx(Vr,{ref:r,className:U("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));mO.displayName=Vr.displayName;const GJ=({children:t,...e})=>l.jsx(bn,{...e,children:l.jsx(nn,{className:"overflow-hidden p-0 shadow-lg",children:l.jsx(mO,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),gO=m.forwardRef(({className:t,...e},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(Ud,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(Vr.Input,{ref:r,className:U("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));gO.displayName=Vr.Input.displayName;const vO=m.forwardRef(({className:t,...e},r)=>l.jsx(Vr.List,{ref:r,className:U("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));vO.displayName=Vr.List.displayName;const yO=m.forwardRef((t,e)=>l.jsx(Vr.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));yO.displayName=Vr.Empty.displayName;const Nc=m.forwardRef(({className:t,...e},r)=>l.jsx(Vr.Group,{ref:r,className:U("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Nc.displayName=Vr.Group.displayName;const Gu=m.forwardRef(({className:t,...e},r)=>l.jsx(Vr.Separator,{ref:r,className:U("-mx-1 h-px bg-border",t),...e}));Gu.displayName=Vr.Separator.displayName;const Cc=m.forwardRef(({className:t,...e},r)=>l.jsx(Vr.Item,{ref:r,className:U("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Cc.displayName=Vr.Item.displayName;function YJ(){const{searchOpen:t,toggleSearch:e}=Ot(),[r,n]=m.useState(""),[s,o]=m.useState([]),[i,a]=m.useState(!1),c=Zs();m.useEffect(()=>{const y=x=>{x.key==="k"&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),e())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[e]);const d=m.useCallback(async y=>{if(!y.trim()){o([]);return}a(!0);const x=`%${y.toLowerCase()}%`,w=[];try{const{data:b}=await q.from("notes").select("id, title, content, transcription, type, class_id, session_id, created_at").or(`title.ilike.${x},content.ilike.${x},transcription.ilike.${x}`).limit(5);b&&b.forEach(E=>{w.push({id:E.id,type:"note",title:E.title||"Untitled Note",subtitle:E.type==="audio"?"Audio recording":me(new Date(E.created_at),"MMM d, yyyy"),classId:E.class_id||void 0,sessionId:E.session_id||void 0,icon:E.type==="audio"?l.jsx(Gf,{className:"h-4 w-4"}):l.jsx(zt,{className:"h-4 w-4"})})});const{data:k}=await q.from("classes").select("id, name, code, professor_name, color").or(`name.ilike.${x},code.ilike.${x},professor_name.ilike.${x}`).limit(5);k&&k.forEach(E=>{w.push({id:E.id,type:"class",title:E.name,subtitle:`${E.code}  ${E.professor_name}`,icon:l.jsx(vt,{className:"h-4 w-4"}),color:E.color})});const{data:S}=await q.from("sessions").select("id, class_id, session_date, topics, location, notes").or(`location.ilike.${x},notes.ilike.${x}`).limit(5);if(S){const E=[...new Set(S.map(P=>P.class_id))],{data:j}=await q.from("classes").select("id, name, code, color").in("id",E),_=new Map((j==null?void 0:j.map(P=>[P.id,P]))||[]);S.forEach(P=>{const T=_.get(P.class_id);w.push({id:P.id,type:"session",title:`${(T==null?void 0:T.code)||"Class"} - ${me(new Date(P.session_date),"MMM d, yyyy")}`,subtitle:P.location||"No location",classId:P.class_id,sessionId:P.id,icon:l.jsx(Sr,{className:"h-4 w-4"}),color:T==null?void 0:T.color})})}const{data:N}=await q.from("deadlines").select("id, title, description, due_date, class_id, deadline_type").or(`title.ilike.${x},description.ilike.${x}`).limit(5);if(N){const E=[...new Set(N.map(P=>P.class_id))],{data:j}=await q.from("classes").select("id, code, color").in("id",E),_=new Map((j==null?void 0:j.map(P=>[P.id,P]))||[]);N.forEach(P=>{const T=_.get(P.class_id);w.push({id:P.id,type:"deadline",title:P.title,subtitle:`${(T==null?void 0:T.code)||"Class"}  Due ${me(new Date(P.due_date),"MMM d")}`,classId:P.class_id,icon:l.jsx(tr,{className:"h-4 w-4"}),color:T==null?void 0:T.color})})}const{data:C}=await q.from("class_todos").select("id, title, description, class_id, due_date, status").or(`title.ilike.${x},description.ilike.${x}`).limit(5);if(C){const E=[...new Set(C.map(P=>P.class_id))],{data:j}=await q.from("classes").select("id, code, color").in("id",E),_=new Map((j==null?void 0:j.map(P=>[P.id,P]))||[]);C.forEach(P=>{const T=_.get(P.class_id);w.push({id:P.id,type:"task",title:P.title,subtitle:`${(T==null?void 0:T.code)||"Class"}  ${P.status}`,classId:P.class_id,icon:l.jsx(El,{className:"h-4 w-4"}),color:T==null?void 0:T.color})})}o(w)}catch(b){console.error("Search error:",b)}finally{a(!1)}},[]);m.useEffect(()=>{const y=setTimeout(()=>{d(r)},300);return()=>clearTimeout(y)},[r,d]);const u=y=>{switch(e(),n(""),y.type){case"class":c(`/classes/${y.id}`);break;case"session":c(`/classes/${y.classId}`);break;case"note":y.classId?c(`/classes/${y.classId}`):c("/");break;case"deadline":c(`/classes/${y.classId}`);break;case"task":c("/todo");break;default:c("/")}},h=s.filter(y=>y.type==="note"),f=s.filter(y=>y.type==="class"),p=s.filter(y=>y.type==="session"),v=s.filter(y=>y.type==="deadline"),g=s.filter(y=>y.type==="task");return l.jsxs(GJ,{open:t,onOpenChange:e,children:[l.jsx(gO,{placeholder:"Search notes, classes, tasks...",value:r,onValueChange:n}),l.jsxs(vO,{children:[i&&l.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"Searching..."}),!i&&r&&s.length===0&&l.jsxs(yO,{children:['No results found for "',r,'"']}),!r&&!i&&l.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"Start typing to search across notes, classes, tasks, and more..."}),h.length>0&&l.jsx(Nc,{heading:"Notes",children:h.map(y=>l.jsxs(Cc,{value:`note-${y.id}-${y.title}`,onSelect:()=>u(y),className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("div",{className:"p-1.5 rounded-md",style:{backgroundColor:y.color?`${y.color}20`:"hsl(var(--secondary))"},children:y.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:y.title}),y.subtitle&&l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:y.subtitle})]})]},`note-${y.id}`))}),f.length>0&&l.jsxs(l.Fragment,{children:[h.length>0&&l.jsx(Gu,{}),l.jsx(Nc,{heading:"Classes",children:f.map(y=>l.jsxs(Cc,{value:`class-${y.id}-${y.title}`,onSelect:()=>u(y),className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("div",{className:"p-1.5 rounded-md",style:{backgroundColor:y.color?`${y.color}20`:"hsl(var(--secondary))"},children:l.jsx(vt,{className:"h-4 w-4",style:{color:y.color}})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:y.title}),y.subtitle&&l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:y.subtitle})]})]},`class-${y.id}`))})]}),p.length>0&&l.jsxs(l.Fragment,{children:[(h.length>0||f.length>0)&&l.jsx(Gu,{}),l.jsx(Nc,{heading:"Sessions",children:p.map(y=>l.jsxs(Cc,{value:`session-${y.id}-${y.title}`,onSelect:()=>u(y),className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("div",{className:"p-1.5 rounded-md",style:{backgroundColor:y.color?`${y.color}20`:"hsl(var(--secondary))"},children:y.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:y.title}),y.subtitle&&l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:y.subtitle})]})]},`session-${y.id}`))})]}),v.length>0&&l.jsxs(l.Fragment,{children:[(h.length>0||f.length>0||p.length>0)&&l.jsx(Gu,{}),l.jsx(Nc,{heading:"Deadlines",children:v.map(y=>l.jsxs(Cc,{value:`deadline-${y.id}-${y.title}`,onSelect:()=>u(y),className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("div",{className:"p-1.5 rounded-md",style:{backgroundColor:y.color?`${y.color}20`:"hsl(var(--secondary))"},children:y.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:y.title}),y.subtitle&&l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:y.subtitle})]})]},`deadline-${y.id}`))})]}),g.length>0&&l.jsxs(l.Fragment,{children:[(h.length>0||f.length>0||p.length>0||v.length>0)&&l.jsx(Gu,{}),l.jsx(Nc,{heading:"Tasks",children:g.map(y=>l.jsxs(Cc,{value:`task-${y.id}-${y.title}`,onSelect:()=>u(y),className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("div",{className:"p-1.5 rounded-md",style:{backgroundColor:y.color?`${y.color}20`:"hsl(var(--secondary))"},children:y.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:y.title}),y.subtitle&&l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:y.subtitle})]})]},`task-${y.id}`))})]})]})]})}function JJ(){const{sidebarOpen:t,mobileSidebarOpen:e,setMobileSidebarOpen:r}=Ot(),n=du();return l.jsxs("div",{className:"min-h-screen bg-background",children:[n&&e&&l.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-30",onClick:()=>r(!1)}),l.jsx("div",{className:U("fixed left-0 top-0 z-40 h-screen transition-transform duration-300",n?e?"translate-x-0":"-translate-x-full":"translate-x-0"),children:l.jsx(SJ,{onNavigate:()=>n&&r(!1)})}),l.jsx(YJ,{}),l.jsx("main",{className:U("min-h-screen transition-all duration-300",n?"ml-0":t?"ml-64":"ml-16"),children:l.jsx(HB,{})})]})}function uo(){const t=du(),e=Ot(r=>r.setMobileSidebarOpen);return t?l.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 md:hidden",onClick:()=>e(!0),children:l.jsx(cL,{className:"h-5 w-5"})}):null}function QJ(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return m.useMemo(()=>n=>{e.forEach(s=>s(n))},e)}const Om=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Z0(t){return"nodeType"in t}function Wr(t){var e,r;return t?jc(t)?t:Z0(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function eb(t){const{Document:e}=Wr(t);return t instanceof e}function Yu(t){return jc(t)?!1:t instanceof Wr(t).HTMLElement}function xO(t){return t instanceof Wr(t).SVGElement}function Ec(t){return t?jc(t)?t.document:Z0(t)?eb(t)?t:Yu(t)||xO(t)?t.ownerDocument:document:document:document}const js=Om?m.useLayoutEffect:m.useEffect;function tb(t){const e=m.useRef(t);return js(()=>{e.current=t}),m.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function XJ(){const t=m.useRef(null),e=m.useCallback((n,s)=>{t.current=setInterval(n,s)},[]),r=m.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function Ju(t,e){e===void 0&&(e=[t]);const r=m.useRef(t);return js(()=>{r.current!==t&&(r.current=t)},e),r}function Qu(t,e){const r=m.useRef();return m.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function Pm(t){const e=tb(t),r=m.useRef(null),n=m.useCallback(s=>{s!==r.current&&(e==null||e(s,r.current)),r.current=s},[]);return[r,n]}function rb(t){const e=m.useRef();return m.useEffect(()=>{e.current=t},[t]),e.current}let nb={};function Xu(t,e){return m.useMemo(()=>{if(e)return e;const r=nb[t]==null?0:nb[t]+1;return nb[t]=r,t+"-"+r},[t,e])}function wO(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((o,i)=>{const a=Object.entries(i);for(const[c,d]of a){const u=o[c];u!=null&&(o[c]=u+t*d)}return o},{...e})}}const _c=wO(1),Zu=wO(-1);function ZJ(t){return"clientX"in t&&"clientY"in t}function sb(t){if(!t)return!1;const{KeyboardEvent:e}=Wr(t.target);return e&&t instanceof e}function eQ(t){if(!t)return!1;const{TouchEvent:e}=Wr(t.target);return e&&t instanceof e}function ob(t){if(eQ(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return ZJ(t)?{x:t.clientX,y:t.clientY}:null}const eh=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[eh.Translate.toString(t),eh.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),bO="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function tQ(t){return t.matches(bO)?t:t.querySelector(bO)}const rQ={display:"none"};function nQ(t){let{id:e,value:r}=t;return W.createElement("div",{id:e,style:rQ},r)}function sQ(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return W.createElement("div",{id:e,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function oQ(){const[t,e]=m.useState("");return{announce:m.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const kO=m.createContext(null);function iQ(t){const e=m.useContext(kO);m.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function aQ(){const[t]=m.useState(()=>new Set),e=m.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[m.useCallback(n=>{let{type:s,event:o}=n;t.forEach(i=>{var a;return(a=i[s])==null?void 0:a.call(i,o)})},[t]),e]}const lQ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},cQ={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function dQ(t){let{announcements:e=cQ,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=lQ}=t;const{announce:o,announcement:i}=oQ(),a=Xu("DndLiveRegion"),[c,d]=m.useState(!1);if(m.useEffect(()=>{d(!0)},[]),iQ(m.useMemo(()=>({onDragStart(h){let{active:f}=h;o(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:p}=h;e.onDragMove&&o(e.onDragMove({active:f,over:p}))},onDragOver(h){let{active:f,over:p}=h;o(e.onDragOver({active:f,over:p}))},onDragEnd(h){let{active:f,over:p}=h;o(e.onDragEnd({active:f,over:p}))},onDragCancel(h){let{active:f,over:p}=h;o(e.onDragCancel({active:f,over:p}))}}),[o,e])),!c)return null;const u=W.createElement(W.Fragment,null,W.createElement(nQ,{id:n,value:s.draggable}),W.createElement(sQ,{id:a,announcement:i}));return r?yn.createPortal(u,r):u}var At;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(At||(At={}));function Am(){}function ib(t,e){return m.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function SO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return m.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const rs=Object.freeze({x:0,y:0});function NO(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function CO(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function uQ(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function jO(t){let{left:e,top:r,height:n,width:s}=t;return[{x:e,y:r},{x:e+s,y:r},{x:e,y:r+n},{x:e+s,y:r+n}]}function EO(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function _O(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const hQ=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=_O(e,e.left,e.top),o=[];for(const i of n){const{id:a}=i,c=r.get(a);if(c){const d=NO(_O(c),s);o.push({id:a,data:{droppableContainer:i,value:d}})}}return o.sort(CO)},fQ=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=jO(e),o=[];for(const i of n){const{id:a}=i,c=r.get(a);if(c){const d=jO(c),u=s.reduce((f,p,v)=>f+NO(d[v],p),0),h=Number((u/4).toFixed(4));o.push({id:a,data:{droppableContainer:i,value:h}})}}return o.sort(CO)};function pQ(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),i=s-n,a=o-r;if(n<s&&r<o){const c=e.width*e.height,d=t.width*t.height,u=i*a,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const mQ=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=[];for(const o of n){const{id:i}=o,a=r.get(i);if(a){const c=pQ(a,e);c>0&&s.push({id:i,data:{droppableContainer:o,value:c}})}}return s.sort(uQ)};function gQ(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function TO(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:rs}function vQ(t){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((i,a)=>({...i,top:i.top+t*a.y,bottom:i.bottom+t*a.y,left:i.left+t*a.x,right:i.right+t*a.x}),{...r})}}const yQ=vQ(1);function xQ(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function wQ(t,e,r){const n=xQ(e);if(!n)return t;const{scaleX:s,scaleY:o,x:i,y:a}=n,c=t.left-i-(1-s)*parseFloat(r),d=t.top-a-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),u=s?t.width/s:t.width,h=o?t.height/o:t.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const bQ={ignoreTransform:!1};function Tc(t,e){e===void 0&&(e=bQ);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:u}=Wr(t).getComputedStyle(t);d&&(r=wQ(r,d,u))}const{top:n,left:s,width:o,height:i,bottom:a,right:c}=r;return{top:n,left:s,width:o,height:i,bottom:a,right:c}}function RO(t){return Tc(t,{ignoreTransform:!0})}function kQ(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function SQ(t,e){return e===void 0&&(e=Wr(t).getComputedStyle(t)),e.position==="fixed"}function NQ(t,e){e===void 0&&(e=Wr(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?r.test(o):!1})}function Im(t,e){const r=[];function n(s){if(e!=null&&r.length>=e||!s)return r;if(eb(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!Yu(s)||xO(s)||r.includes(s))return r;const o=Wr(t).getComputedStyle(s);return s!==t&&NQ(s,o)&&r.push(s),SQ(s,o)?r:n(s.parentNode)}return t?n(t):r}function MO(t){const[e]=Im(t,1);return e??null}function ab(t){return!Om||!t?null:jc(t)?t:Z0(t)?eb(t)||t===Ec(t).scrollingElement?window:Yu(t)?t:null:null}function OO(t){return jc(t)?t.scrollX:t.scrollLeft}function PO(t){return jc(t)?t.scrollY:t.scrollTop}function lb(t){return{x:OO(t),y:PO(t)}}var Kt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Kt||(Kt={}));function AO(t){return!Om||!t?!1:t===document.scrollingElement}function IO(t){const e={x:0,y:0},r=AO(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,i=t.scrollTop>=n.y,a=t.scrollLeft>=n.x;return{isTop:s,isLeft:o,isBottom:i,isRight:a,maxScroll:n,minScroll:e}}const CQ={x:.2,y:.2};function jQ(t,e,r,n,s){let{top:o,left:i,right:a,bottom:c}=r;n===void 0&&(n=10),s===void 0&&(s=CQ);const{isTop:d,isBottom:u,isLeft:h,isRight:f}=IO(t),p={x:0,y:0},v={x:0,y:0},g={height:e.height*s.y,width:e.width*s.x};return!d&&o<=e.top+g.height?(p.y=Kt.Backward,v.y=n*Math.abs((e.top+g.height-o)/g.height)):!u&&c>=e.bottom-g.height&&(p.y=Kt.Forward,v.y=n*Math.abs((e.bottom-g.height-c)/g.height)),!f&&a>=e.right-g.width?(p.x=Kt.Forward,v.x=n*Math.abs((e.right-g.width-a)/g.width)):!h&&i<=e.left+g.width&&(p.x=Kt.Backward,v.x=n*Math.abs((e.left+g.width-i)/g.width)),{direction:p,speed:v}}function EQ(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:e,left:r,right:n,bottom:s}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:s,width:t.clientWidth,height:t.clientHeight}}function DO(t){return t.reduce((e,r)=>_c(e,lb(r)),rs)}function _Q(t){return t.reduce((e,r)=>e+OO(r),0)}function TQ(t){return t.reduce((e,r)=>e+PO(r),0)}function RQ(t,e){if(e===void 0&&(e=Tc),!t)return;const{top:r,left:n,bottom:s,right:o}=e(t);MO(t)&&(s<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const MQ=[["x",["left","right"],_Q],["y",["top","bottom"],TQ]];class cb{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Im(r),s=DO(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,i,a]of MQ)for(const c of i)Object.defineProperty(this,c,{get:()=>{const d=a(n),u=s[o]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class th{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var s;(s=this.target)==null||s.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function OQ(t){const{EventTarget:e}=Wr(t);return t instanceof e?t:Ec(t)}function db(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Mn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Mn||(Mn={}));function LO(t){t.preventDefault()}function PQ(t){t.stopPropagation()}var Ie;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ie||(Ie={}));const $O={start:[Ie.Space,Ie.Enter],cancel:[Ie.Esc],end:[Ie.Space,Ie.Enter,Ie.Tab]},AQ=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case Ie.Right:return{...r,x:r.x+25};case Ie.Left:return{...r,x:r.x-25};case Ie.Down:return{...r,y:r.y+25};case Ie.Up:return{...r,y:r.y-25}}};class ub{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new th(Ec(r)),this.windowListeners=new th(Wr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Mn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&RQ(n),r(rs)}handleKeyDown(e){if(sb(e)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:o=$O,coordinateGetter:i=AQ,scrollBehavior:a="smooth"}=s,{code:c}=e;if(o.end.includes(c)){this.handleEnd(e);return}if(o.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=n.current,u=d?{x:d.left,y:d.top}:rs;this.referenceCoordinates||(this.referenceCoordinates=u);const h=i(e,{active:r,context:n.current,currentCoordinates:u});if(h){const f=Zu(h,u),p={x:0,y:0},{scrollableAncestors:v}=n.current;for(const g of v){const y=e.code,{isTop:x,isRight:w,isLeft:b,isBottom:k,maxScroll:S,minScroll:N}=IO(g),C=EQ(g),E={x:Math.min(y===Ie.Right?C.right-C.width/2:C.right,Math.max(y===Ie.Right?C.left:C.left+C.width/2,h.x)),y:Math.min(y===Ie.Down?C.bottom-C.height/2:C.bottom,Math.max(y===Ie.Down?C.top:C.top+C.height/2,h.y))},j=y===Ie.Right&&!w||y===Ie.Left&&!b,_=y===Ie.Down&&!k||y===Ie.Up&&!x;if(j&&E.x!==h.x){const P=g.scrollLeft+f.x,T=y===Ie.Right&&P<=S.x||y===Ie.Left&&P>=N.x;if(T&&!f.y){g.scrollTo({left:P,behavior:a});return}T?p.x=g.scrollLeft-P:p.x=y===Ie.Right?g.scrollLeft-S.x:g.scrollLeft-N.x,p.x&&g.scrollBy({left:-p.x,behavior:a});break}else if(_&&E.y!==h.y){const P=g.scrollTop+f.y,T=y===Ie.Down&&P<=S.y||y===Ie.Up&&P>=N.y;if(T&&!f.x){g.scrollTo({top:P,behavior:a});return}T?p.y=g.scrollTop-P:p.y=y===Ie.Down?g.scrollTop-S.y:g.scrollTop-N.y,p.y&&g.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(e,_c(Zu(h,this.referenceCoordinates),p))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ub.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=$O,onActivation:s}=e,{active:o}=r;const{code:i}=t.nativeEvent;if(n.start.includes(i)){const a=o.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function FO(t){return!!(t&&"distance"in t)}function zO(t){return!!(t&&"delay"in t)}class hb{constructor(e,r,n){var s;n===void 0&&(n=OQ(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:o}=e,{target:i}=o;this.props=e,this.events=r,this.document=Ec(i),this.documentListeners=new th(this.document),this.listeners=new th(n),this.windowListeners=new th(Wr(i)),this.initialCoordinates=(s=ob(o))!=null?s:rs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.DragStart,LO),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),this.windowListeners.add(Mn.ContextMenu,LO),this.documentListeners.add(Mn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(zO(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(FO(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:s}=this.props;s(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Mn.Click,PQ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Mn.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!s)return;const c=(r=ob(e))!=null?r:rs,d=Zu(s,c);if(!n&&a){if(FO(a)){if(a.tolerance!=null&&db(d,a.tolerance))return this.handleCancel();if(db(d,a.distance))return this.handleStart()}if(zO(a)&&db(d,a.tolerance))return this.handleCancel();this.handlePending(a,d);return}e.cancelable&&e.preventDefault(),i(c)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===Ie.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const IQ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Dm extends hb{constructor(e){const{event:r}=e,n=Ec(r.target);super(e,IQ,n)}}Dm.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const DQ={move:{name:"mousemove"},end:{name:"mouseup"}};var fb;(function(t){t[t.RightClick=2]="RightClick"})(fb||(fb={}));class LQ extends hb{constructor(e){super(e,DQ,Ec(e.event.target))}}LQ.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===fb.RightClick?!1:(n==null||n({event:r}),!0)}}];const pb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $Q extends hb{constructor(e){super(e,pb)}static setup(){return window.addEventListener(pb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(pb.move.name,e)};function e(){}}}$Q.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var rh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(rh||(rh={}));var Lm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lm||(Lm={}));function FQ(t){let{acceleration:e,activator:r=rh.Pointer,canScroll:n,draggingRect:s,enabled:o,interval:i=5,order:a=Lm.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:f}=t;const p=BQ({delta:h,disabled:!o}),[v,g]=XJ(),y=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),w=m.useMemo(()=>{switch(r){case rh.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case rh.DraggableRect:return s}},[r,s,c]),b=m.useRef(null),k=m.useCallback(()=>{const N=b.current;if(!N)return;const C=y.current.x*x.current.x,E=y.current.y*x.current.y;N.scrollBy(C,E)},[]),S=m.useMemo(()=>a===Lm.TreeOrder?[...d].reverse():d,[a,d]);m.useEffect(()=>{if(!o||!d.length||!w){g();return}for(const N of S){if((n==null?void 0:n(N))===!1)continue;const C=d.indexOf(N),E=u[C];if(!E)continue;const{direction:j,speed:_}=jQ(N,E,w,e,f);for(const P of["x","y"])p[P][j[P]]||(_[P]=0,j[P]=0);if(_.x>0||_.y>0){g(),b.current=N,v(k,i),y.current=_,x.current=j;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[e,k,n,g,o,i,JSON.stringify(w),JSON.stringify(p),v,d,S,u,JSON.stringify(f)])}const zQ={x:{[Kt.Backward]:!1,[Kt.Forward]:!1},y:{[Kt.Backward]:!1,[Kt.Forward]:!1}};function BQ(t){let{delta:e,disabled:r}=t;const n=rb(e);return Qu(s=>{if(r||!n||!s)return zQ;const o={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Kt.Backward]:s.x[Kt.Backward]||o.x===-1,[Kt.Forward]:s.x[Kt.Forward]||o.x===1},y:{[Kt.Backward]:s.y[Kt.Backward]||o.y===-1,[Kt.Forward]:s.y[Kt.Forward]||o.y===1}}},[r,e,n])}function UQ(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return Qu(s=>{var o;return e==null?null:(o=n??s)!=null?o:null},[n,e])}function VQ(t,e){return m.useMemo(()=>t.reduce((r,n)=>{const{sensor:s}=n,o=s.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,n)}));return[...r,...o]},[]),[t,e])}var nh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(nh||(nh={}));var mb;(function(t){t.Optimized="optimized"})(mb||(mb={}));const BO=new Map;function WQ(t,e){let{dragging:r,dependencies:n,config:s}=e;const[o,i]=m.useState(null),{frequency:a,measure:c,strategy:d}=s,u=m.useRef(t),h=y(),f=Ju(h),p=m.useCallback(function(x){x===void 0&&(x=[]),!f.current&&i(w=>w===null?x:w.concat(x.filter(b=>!w.includes(b))))},[f]),v=m.useRef(null),g=Qu(x=>{if(h&&!r)return BO;if(!x||x===BO||u.current!==t||o!=null){const w=new Map;for(let b of t){if(!b)continue;if(o&&o.length>0&&!o.includes(b.id)&&b.rect.current){w.set(b.id,b.rect.current);continue}const k=b.node.current,S=k?new cb(c(k),k):null;b.rect.current=S,S&&w.set(b.id,S)}return w}return x},[t,o,r,h,c]);return m.useEffect(()=>{u.current=t},[t]),m.useEffect(()=>{h||p()},[r,h]),m.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),m.useEffect(()=>{h||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{p(),v.current=null},a))},[a,h,p,...n]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:o!=null};function y(){switch(d){case nh.Always:return!1;case nh.BeforeDragging:return r;default:return!r}}}function UO(t,e){return Qu(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function HQ(t,e){return UO(t,e)}function qQ(t){let{callback:e,disabled:r}=t;const n=tb(e),s=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function $m(t){let{callback:e,disabled:r}=t;const n=tb(e),s=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function KQ(t){return new cb(Tc(t),t)}function VO(t,e,r){e===void 0&&(e=KQ);const[n,s]=m.useState(null);function o(){s(c=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=c??r)!=null?d:null}const u=e(t);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const i=qQ({callback(c){if(t)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){o();break}}}}),a=$m({callback:o});return js(()=>{o(),t?(a==null||a.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[t]),n}function GQ(t){const e=UO(t);return TO(t,e)}const WO=[];function YQ(t){const e=m.useRef(t),r=Qu(n=>t?n&&n!==WO&&t&&e.current&&t.parentNode===e.current.parentNode?n:Im(t):WO,[t]);return m.useEffect(()=>{e.current=t},[t]),r}function JQ(t){const[e,r]=m.useState(null),n=m.useRef(t),s=m.useCallback(o=>{const i=ab(o.target);i&&r(a=>a?(a.set(i,lb(i)),new Map(a)):null)},[]);return m.useEffect(()=>{const o=n.current;if(t!==o){i(o);const a=t.map(c=>{const d=ab(c);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,lb(d)]):null}).filter(c=>c!=null);r(a.length?new Map(a):null),n.current=t}return()=>{i(t),i(o)};function i(a){a.forEach(c=>{const d=ab(c);d==null||d.removeEventListener("scroll",s)})}},[s,t]),m.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,i)=>_c(o,i),rs):DO(t):rs,[t,e])}function HO(t,e){e===void 0&&(e=[]);const r=m.useRef(null);return m.useEffect(()=>{r.current=null},e),m.useEffect(()=>{const n=t!==rs;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?Zu(t,r.current):rs}function QQ(t){m.useEffect(()=>{if(!Om)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function XQ(t,e){return m.useMemo(()=>t.reduce((r,n)=>{let{eventName:s,handler:o}=n;return r[s]=i=>{o(i,e)},r},{}),[t,e])}function qO(t){return m.useMemo(()=>t?kQ(t):null,[t])}const KO=[];function ZQ(t,e){e===void 0&&(e=Tc);const[r]=t,n=qO(r?Wr(r):null),[s,o]=m.useState(KO);function i(){o(()=>t.length?t.map(c=>AO(c)?n:new cb(e(c),c)):KO)}const a=$m({callback:i});return js(()=>{a==null||a.disconnect(),i(),t.forEach(c=>a==null?void 0:a.observe(c))},[t]),s}function eX(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Yu(e)?e:t}function tX(t){let{measure:e}=t;const[r,n]=m.useState(null),s=m.useCallback(d=>{for(const{target:u}of d)if(Yu(u)){n(h=>{const f=e(u);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),o=$m({callback:s}),i=m.useCallback(d=>{const u=eX(d);o==null||o.disconnect(),u&&(o==null||o.observe(u)),n(u?e(u):null)},[e,o]),[a,c]=Pm(i);return m.useMemo(()=>({nodeRef:a,rect:r,setRef:c}),[r,a,c])}const rX=[{sensor:Dm,options:{}},{sensor:ub,options:{}}],nX={current:{}},Fm={draggable:{measure:RO},droppable:{measure:RO,strategy:nh.WhileDragging,frequency:mb.Optimized},dragOverlay:{measure:Tc}};class sh extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const sX={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new sh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Am},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fm,measureDroppableContainers:Am,windowRect:null,measuringScheduled:!1},oX={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Am,draggableNodes:new Map,over:null,measureDroppableContainers:Am},zm=m.createContext(oX),GO=m.createContext(sX);function iX(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new sh}}}function aX(t,e){switch(e.type){case At.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case At.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case At.DragEnd:case At.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case At.RegisterDroppable:{const{element:r}=e,{id:n}=r,s=new sh(t.droppable.containers);return s.set(n,r),{...t,droppable:{...t.droppable,containers:s}}}case At.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=e,o=t.droppable.containers.get(r);if(!o||n!==o.key)return t;const i=new sh(t.droppable.containers);return i.set(r,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:i}}}case At.UnregisterDroppable:{const{id:r,key:n}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const o=new sh(t.droppable.containers);return o.delete(r),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function lX(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:s}=m.useContext(zm),o=rb(n),i=rb(r==null?void 0:r.id);return m.useEffect(()=>{if(!e&&!n&&o&&i!=null){if(!sb(o)||document.activeElement===o.target)return;const a=s.get(i);if(!a)return;const{activatorNode:c,node:d}=a;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=tQ(u);if(h){h.focus();break}}})}},[n,e,s,i,o]),null}function cX(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...n}),r):r}function dX(t){return m.useMemo(()=>({draggable:{...Fm.draggable,...t==null?void 0:t.draggable},droppable:{...Fm.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Fm.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function uX(t){let{activeNode:e,measure:r,initialRect:n,config:s=!0}=t;const o=m.useRef(!1),{x:i,y:a}=typeof s=="boolean"?{x:s,y:s}:s;js(()=>{if(!i&&!a||!e){o.current=!1;return}if(o.current||!n)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const u=r(d),h=TO(u,n);if(i||(h.x=0),a||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=MO(d);f&&f.scrollBy({top:h.y,left:h.x})}},[e,i,a,n,r])}const YO=m.createContext({...rs,scaleX:1,scaleY:1});var vi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(vi||(vi={}));const JO=m.memo(function(e){var r,n,s,o;let{id:i,accessibility:a,autoScroll:c=!0,children:d,sensors:u=rX,collisionDetection:h=mQ,measuring:f,modifiers:p,...v}=e;const g=m.useReducer(aX,void 0,iX),[y,x]=g,[w,b]=aQ(),[k,S]=m.useState(vi.Uninitialized),N=k===vi.Initialized,{draggable:{active:C,nodes:E,translate:j},droppable:{containers:_}}=y,P=C!=null?E.get(C):null,T=m.useRef({initial:null,translated:null}),A=m.useMemo(()=>{var jt;return C!=null?{id:C,data:(jt=P==null?void 0:P.data)!=null?jt:nX,rect:T}:null},[C,P]),I=m.useRef(null),[L,F]=m.useState(null),[V,O]=m.useState(null),D=Ju(v,Object.values(v)),H=Xu("DndDescribedBy",i),ne=m.useMemo(()=>_.getEnabled(),[_]),$=dX(f),{droppableRects:G,measureDroppableContainers:J,measuringScheduled:M}=WQ(ne,{dragging:N,dependencies:[j.x,j.y],config:$.droppable}),B=UQ(E,C),z=m.useMemo(()=>V?ob(V):null,[V]),te=Zb(),ee=HQ(B,$.draggable.measure);uX({activeNode:C!=null?E.get(C):null,config:te.layoutShiftCompensation,initialRect:ee,measure:$.draggable.measure});const Z=VO(B,$.draggable.measure,ee),ve=VO(B?B.parentElement:null),ce=m.useRef({activatorEvent:null,active:null,activeNode:B,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:_,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Le=_.getNodeFor((r=ce.current.over)==null?void 0:r.id),We=tX({measure:$.dragOverlay.measure}),It=(n=We.nodeRef.current)!=null?n:B,Dt=N?(s=We.rect)!=null?s:Z:null,Dn=!!(We.nodeRef.current&&We.rect),cs=GQ(Dn?null:Z),Ps=qO(It?Wr(It):null),ds=YQ(N?Le??B:null),As=ZQ(ds),Wa=cX(p,{transform:{x:j.x-cs.x,y:j.y-cs.y,scaleX:1,scaleY:1},activatorEvent:V,active:A,activeNodeRect:Z,containerNodeRect:ve,draggingNodeRect:Dt,over:ce.current.over,overlayNodeRect:We.rect,scrollableAncestors:ds,scrollableAncestorRects:As,windowRect:Ps}),Is=z?_c(z,j):null,dg=JQ(ds),Qb=HO(dg),Kr=HO(dg,[Z]),un=_c(Wa,Qb),Oi=Dt?yQ(Dt,Wa):null,Ha=A&&Oi?h({active:A,collisionRect:Oi,droppableRects:G,droppableContainers:ne,pointerCoordinates:Is}):null,qa=EO(Ha,"id"),[Ds,bh]=m.useState(null),kh=Dn?Wa:_c(Wa,Kr),Pi=gQ(kh,(o=Ds==null?void 0:Ds.rect)!=null?o:null,Z),qc=m.useRef(null),go=m.useCallback((jt,ht)=>{let{sensor:Or,options:ye}=ht;if(I.current==null)return;const Ee=E.get(I.current);if(!Ee)return;const Me=jt.nativeEvent,ft=new Or({active:I.current,activeNode:Ee,event:Me,options:ye,context:ce,onAbort(Ge){if(!E.get(Ge))return;const{onDragAbort:pt}=D.current,Yt={id:Ge};pt==null||pt(Yt),w({type:"onDragAbort",event:Yt})},onPending(Ge,yr,pt,Yt){if(!E.get(Ge))return;const{onDragPending:Nh}=D.current,Ai={id:Ge,constraint:yr,initialCoordinates:pt,offset:Yt};Nh==null||Nh(Ai),w({type:"onDragPending",event:Ai})},onStart(Ge){const yr=I.current;if(yr==null)return;const pt=E.get(yr);if(!pt)return;const{onDragStart:Yt}=D.current,Sh={activatorEvent:Me,active:{id:yr,data:pt.data,rect:T}};yn.unstable_batchedUpdates(()=>{Yt==null||Yt(Sh),S(vi.Initializing),x({type:At.DragStart,initialCoordinates:Ge,active:yr}),w({type:"onDragStart",event:Sh}),F(qc.current),O(Me)})},onMove(Ge){x({type:At.DragMove,coordinates:Ge})},onEnd:Gt(At.DragEnd),onCancel:Gt(At.DragCancel)});qc.current=ft;function Gt(Ge){return async function(){const{active:pt,collisions:Yt,over:Sh,scrollAdjustedTranslate:Nh}=ce.current;let Ai=null;if(pt&&Nh){const{cancelDrop:Ch}=D.current;Ai={activatorEvent:Me,active:pt,collisions:Yt,delta:Nh,over:Sh},Ge===At.DragEnd&&typeof Ch=="function"&&await Promise.resolve(Ch(Ai))&&(Ge=At.DragCancel)}I.current=null,yn.unstable_batchedUpdates(()=>{x({type:Ge}),S(vi.Uninitialized),bh(null),F(null),O(null),qc.current=null;const Ch=Ge===At.DragEnd?"onDragEnd":"onDragCancel";if(Ai){const e1=D.current[Ch];e1==null||e1(Ai),w({type:Ch,event:Ai})}})}}},[E]),Xb=m.useCallback((jt,ht)=>(Or,ye)=>{const Ee=Or.nativeEvent,Me=E.get(ye);if(I.current!==null||!Me||Ee.dndKit||Ee.defaultPrevented)return;const ft={active:Me};jt(Or,ht.options,ft)===!0&&(Ee.dndKit={capturedBy:ht.sensor},I.current=ye,go(Or,ht))},[E,go]),ug=VQ(u,Xb);QQ(u),js(()=>{Z&&k===vi.Initializing&&S(vi.Initialized)},[Z,k]),m.useEffect(()=>{const{onDragMove:jt}=D.current,{active:ht,activatorEvent:Or,collisions:ye,over:Ee}=ce.current;if(!ht||!Or)return;const Me={active:ht,activatorEvent:Or,collisions:ye,delta:{x:un.x,y:un.y},over:Ee};yn.unstable_batchedUpdates(()=>{jt==null||jt(Me),w({type:"onDragMove",event:Me})})},[un.x,un.y]),m.useEffect(()=>{const{active:jt,activatorEvent:ht,collisions:Or,droppableContainers:ye,scrollAdjustedTranslate:Ee}=ce.current;if(!jt||I.current==null||!ht||!Ee)return;const{onDragOver:Me}=D.current,ft=ye.get(qa),Gt=ft&&ft.rect.current?{id:ft.id,rect:ft.rect.current,data:ft.data,disabled:ft.disabled}:null,Ge={active:jt,activatorEvent:ht,collisions:Or,delta:{x:Ee.x,y:Ee.y},over:Gt};yn.unstable_batchedUpdates(()=>{bh(Gt),Me==null||Me(Ge),w({type:"onDragOver",event:Ge})})},[qa]),js(()=>{ce.current={activatorEvent:V,active:A,activeNode:B,collisionRect:Oi,collisions:Ha,droppableRects:G,draggableNodes:E,draggingNode:It,draggingNodeRect:Dt,droppableContainers:_,over:Ds,scrollableAncestors:ds,scrollAdjustedTranslate:un},T.current={initial:Dt,translated:Oi}},[A,B,Ha,Oi,E,It,Dt,G,_,Ds,ds,un]),FQ({...te,delta:j,draggingRect:Oi,pointerCoordinates:Is,scrollableAncestors:ds,scrollableAncestorRects:As});const hg=m.useMemo(()=>({active:A,activeNode:B,activeNodeRect:Z,activatorEvent:V,collisions:Ha,containerNodeRect:ve,dragOverlay:We,draggableNodes:E,droppableContainers:_,droppableRects:G,over:Ds,measureDroppableContainers:J,scrollableAncestors:ds,scrollableAncestorRects:As,measuringConfiguration:$,measuringScheduled:M,windowRect:Ps}),[A,B,Z,V,Ha,ve,We,E,_,G,Ds,J,ds,As,$,M,Ps]),fg=m.useMemo(()=>({activatorEvent:V,activators:ug,active:A,activeNodeRect:Z,ariaDescribedById:{draggable:H},dispatch:x,draggableNodes:E,over:Ds,measureDroppableContainers:J}),[V,ug,A,Z,x,H,E,Ds,J]);return W.createElement(kO.Provider,{value:b},W.createElement(zm.Provider,{value:fg},W.createElement(GO.Provider,{value:hg},W.createElement(YO.Provider,{value:Pi},d)),W.createElement(lX,{disabled:(a==null?void 0:a.restoreFocus)===!1})),W.createElement(dQ,{...a,hiddenTextDescribedById:H}));function Zb(){const jt=(L==null?void 0:L.autoScrollEnabled)===!1,ht=typeof c=="object"?c.enabled===!1:c===!1,Or=N&&!jt&&!ht;return typeof c=="object"?{...c,enabled:Or}:{enabled:Or}}}),hX=m.createContext(null),QO="button",fX="Draggable";function XO(t){let{id:e,data:r,disabled:n=!1,attributes:s}=t;const o=Xu(fX),{activators:i,activatorEvent:a,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:f}=m.useContext(zm),{role:p=QO,roleDescription:v="draggable",tabIndex:g=0}=s??{},y=(c==null?void 0:c.id)===e,x=m.useContext(y?YO:hX),[w,b]=Pm(),[k,S]=Pm(),N=XQ(i,e),C=Ju(r);js(()=>(h.set(e,{id:e,key:o,node:w,activatorNode:k,data:C}),()=>{const j=h.get(e);j&&j.key===o&&h.delete(e)}),[h,e]);const E=m.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":n,"aria-pressed":y&&p===QO?!0:void 0,"aria-roledescription":v,"aria-describedby":u.draggable}),[n,p,g,y,v,u.draggable]);return{active:c,activatorEvent:a,activeNodeRect:d,attributes:E,isDragging:y,listeners:n?void 0:N,node:w,over:f,setNodeRef:b,setActivatorNodeRef:S,transform:x}}function pX(){return m.useContext(GO)}const mX="Droppable",gX={timeout:25};function ZO(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:s}=t;const o=Xu(mX),{active:i,dispatch:a,over:c,measureDroppableContainers:d}=m.useContext(zm),u=m.useRef({disabled:r}),h=m.useRef(!1),f=m.useRef(null),p=m.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:y}={...gX,...s},x=Ju(g??n),w=m.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),p.current=null},y)},[y]),b=$m({callback:w,disabled:v||!i}),k=m.useCallback((E,j)=>{b&&(j&&(b.unobserve(j),h.current=!1),E&&b.observe(E))},[b]),[S,N]=Pm(k),C=Ju(e);return m.useEffect(()=>{!b||!S.current||(b.disconnect(),h.current=!1,b.observe(S.current))},[S,b]),m.useEffect(()=>(a({type:At.RegisterDroppable,element:{id:n,key:o,disabled:r,node:S,rect:f,data:C}}),()=>a({type:At.UnregisterDroppable,key:o,id:n})),[n]),m.useEffect(()=>{r!==u.current.disabled&&(a({type:At.SetDroppableDisabled,id:n,key:o,disabled:r}),u.current.disabled=r)},[n,o,r,a]),{active:i,rect:f,isOver:(c==null?void 0:c.id)===n,node:S,over:c,setNodeRef:N}}function eP(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function vX(t,e){return t.reduce((r,n,s)=>{const o=e.get(n);return o&&(r[s]=o),r},Array(t.length))}function Bm(t){return t!==null&&t>=0}function yX(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function xX(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const oh=t=>{let{rects:e,activeIndex:r,overIndex:n,index:s}=t;const o=eP(e,n,r),i=e[s],a=o[s];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},tP="Sortable",rP=W.createContext({activeIndex:-1,containerId:tP,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:oh,disabled:{draggable:!1,droppable:!1}});function gb(t){let{children:e,id:r,items:n,strategy:s=oh,disabled:o=!1}=t;const{active:i,dragOverlay:a,droppableRects:c,over:d,measureDroppableContainers:u}=pX(),h=Xu(tP,r),f=a.rect!==null,p=m.useMemo(()=>n.map(N=>typeof N=="object"&&"id"in N?N.id:N),[n]),v=i!=null,g=i?p.indexOf(i.id):-1,y=d?p.indexOf(d.id):-1,x=m.useRef(p),w=!yX(p,x.current),b=y!==-1&&g===-1||w,k=xX(o);js(()=>{w&&v&&u(p)},[w,p,v,u]),m.useEffect(()=>{x.current=p},[p]);const S=m.useMemo(()=>({activeIndex:g,containerId:h,disabled:k,disableTransforms:b,items:p,overIndex:y,useDragOverlay:f,sortedRects:vX(p,c),strategy:s}),[g,h,k.draggable,k.droppable,b,p,y,c,f,s]);return W.createElement(rP.Provider,{value:S},e)}const wX=t=>{let{id:e,items:r,activeIndex:n,overIndex:s}=t;return eP(r,n,s).indexOf(e)},bX=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:s,items:o,newIndex:i,previousItems:a,previousContainerId:c,transition:d}=t;return!d||!n||a!==o&&s===i?!1:r?!0:i!==s&&e===c},kX={duration:200,easing:"ease"},nP="transform",SX=eh.Transition.toString({property:nP,duration:0,easing:"linear"}),NX={roleDescription:"sortable"};function CX(t){let{disabled:e,index:r,node:n,rect:s}=t;const[o,i]=m.useState(null),a=m.useRef(r);return js(()=>{if(!e&&r!==a.current&&n.current){const c=s.current;if(c){const d=Tc(n.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&i(u)}}r!==a.current&&(a.current=r)},[e,r,n,s]),m.useEffect(()=>{o&&i(null)},[o]),o}function jX(t){let{animateLayoutChanges:e=bX,attributes:r,disabled:n,data:s,getNewIndex:o=wX,id:i,strategy:a,resizeObserverConfig:c,transition:d=kX}=t;const{items:u,containerId:h,activeIndex:f,disabled:p,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:w}=m.useContext(rP),b=EX(n,p),k=u.indexOf(i),S=m.useMemo(()=>({sortable:{containerId:h,index:k,items:u},...s}),[h,s,k,u]),N=m.useMemo(()=>u.slice(u.indexOf(i)),[u,i]),{rect:C,node:E,isOver:j,setNodeRef:_}=ZO({id:i,data:S,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:P,activatorEvent:T,activeNodeRect:A,attributes:I,setNodeRef:L,listeners:F,isDragging:V,over:O,setActivatorNodeRef:D,transform:H}=XO({id:i,data:S,attributes:{...NX,...r},disabled:b.draggable}),ne=QJ(_,L),$=!!P,G=$&&!v&&Bm(f)&&Bm(y),J=!x&&V,M=J&&G?H:null,z=G?M??(a??w)({rects:g,activeNodeRect:A,activeIndex:f,overIndex:y,index:k}):null,te=Bm(f)&&Bm(y)?o({id:i,items:u,activeIndex:f,overIndex:y}):k,ee=P==null?void 0:P.id,Z=m.useRef({activeId:ee,items:u,newIndex:te,containerId:h}),ve=u!==Z.current.items,ce=e({active:P,containerId:h,isDragging:V,isSorting:$,id:i,index:k,items:u,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:d,wasDragging:Z.current.activeId!=null}),Le=CX({disabled:!ce,index:k,node:E,rect:C});return m.useEffect(()=>{$&&Z.current.newIndex!==te&&(Z.current.newIndex=te),h!==Z.current.containerId&&(Z.current.containerId=h),u!==Z.current.items&&(Z.current.items=u)},[$,te,h,u]),m.useEffect(()=>{if(ee===Z.current.activeId)return;if(ee!=null&&Z.current.activeId==null){Z.current.activeId=ee;return}const It=setTimeout(()=>{Z.current.activeId=ee},50);return()=>clearTimeout(It)},[ee]),{active:P,activeIndex:f,attributes:I,data:S,rect:C,index:k,newIndex:te,items:u,isOver:j,isSorting:$,isDragging:V,listeners:F,node:E,overIndex:y,over:O,setNodeRef:ne,setActivatorNodeRef:D,setDroppableNodeRef:_,setDraggableNodeRef:L,transform:Le??z,transition:We()};function We(){if(Le||ve&&Z.current.newIndex===k)return SX;if(!(J&&!sb(T)||!d)&&($||ce))return eh.Transition.toString({...d,property:nP})}}function EX(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t==null?void 0:t.draggable)!=null?r:e.draggable,droppable:(n=t==null?void 0:t.droppable)!=null?n:e.droppable}}function Um(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const _X=[Ie.Down,Ie.Right,Ie.Up,Ie.Left],TX=(t,e)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:o,over:i,scrollableAncestors:a}}=e;if(_X.includes(t.code)){if(t.preventDefault(),!r||!n)return;const c=[];o.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const f=s.get(h.id);if(f)switch(t.code){case Ie.Down:n.top<f.top&&c.push(h);break;case Ie.Up:n.top>f.top&&c.push(h);break;case Ie.Left:n.left>f.left&&c.push(h);break;case Ie.Right:n.left<f.left&&c.push(h);break}});const d=fQ({collisionRect:n,droppableRects:s,droppableContainers:c});let u=EO(d,"id");if(u===(i==null?void 0:i.id)&&d.length>1&&(u=d[1].id),u!=null){const h=o.get(r.id),f=o.get(u),p=f?s.get(f.id):null,v=f==null?void 0:f.node.current;if(v&&p&&h&&f){const y=Im(v).some((N,C)=>a[C]!==N),x=sP(h,f),w=RX(h,f),b=y||!x?{x:0,y:0}:{x:w?n.width-p.width:0,y:w?n.height-p.height:0},k={x:p.left,y:p.top};return b.x&&b.y?k:Zu(k,b)}}}};function sP(t,e){return!Um(t)||!Um(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function RX(t,e){return!Um(t)||!Um(e)||!sP(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const ih=[{id:"upcoming-events",name:"Upcoming Events",description:"Your next classes and deadlines",size:"large",enabled:!0,order:0},{id:"todo",name:"To-Do List",description:"Your tasks and assignments",size:"medium",enabled:!0,order:1},{id:"classes",name:"My Classes",description:"Quick access to your classes",size:"medium",enabled:!0,order:2},{id:"study-hub",name:"Study Hub",description:"Study groups and guides",size:"medium",enabled:!0,order:3},{id:"weekly-recap",name:"Weekly Recap",description:"AI-powered summaries",size:"medium",enabled:!0,order:4}],Vm="forward-dashboard-widgets";function MX(){const[t,e]=m.useState(ih);m.useEffect(()=>{const i=localStorage.getItem(Vm);if(i)try{const a=JSON.parse(i),c=ih.map((d,u)=>{const h=a.find(f=>f.id===d.id);return h?{...d,enabled:h.enabled,order:h.order??u}:{...d,order:u}});c.sort((d,u)=>d.order-u.order),e(c)}catch{e(ih)}},[]);const r=i=>{e(a=>{const c=a.map(d=>d.id===i?{...d,enabled:!d.enabled}:d);return localStorage.setItem(Vm,JSON.stringify(c)),c})},n=m.useCallback((i,a)=>{e(c=>{const d=c.findIndex(v=>v.id===i),u=c.findIndex(v=>v.id===a);if(d===-1||u===-1)return c;const h=[...c],[f]=h.splice(d,1);h.splice(u,0,f);const p=h.map((v,g)=>({...v,order:g}));return localStorage.setItem(Vm,JSON.stringify(p)),p})},[]),s=()=>{e(ih),localStorage.setItem(Vm,JSON.stringify(ih))},o=t.filter(i=>i.enabled);return{widgets:t,enabledWidgets:o,toggleWidget:r,reorderWidgets:n,resetToDefaults:s}}var OX="Label",oP=m.forwardRef((t,e)=>l.jsx(se.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));oP.displayName=OX;var iP=oP;const PX=Nl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=m.forwardRef(({className:t,...e},r)=>l.jsx(iP,{ref:r,className:U(PX(),t),...e}));de.displayName=iP.displayName;function AX({widgets:t,onToggle:e,onReset:r}){return l.jsxs(bn,{children:[l.jsx(o_,{asChild:!0,children:l.jsxs(K,{variant:"outline",size:"sm",children:[l.jsx(gL,{className:"h-4 w-4 mr-2"}),"Customize"]})}),l.jsxs(nn,{className:"sm:max-w-md",children:[l.jsxs(kn,{children:[l.jsx(Sn,{children:"Customize Dashboard"}),l.jsx(Hl,{children:"Choose which widgets to show on your dashboard"})]}),l.jsx("div",{className:"space-y-4 py-4",children:t.map(n=>l.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 rounded-lg border border-border hover:bg-secondary/50 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(de,{htmlFor:`widget-${n.id}`,className:"font-medium cursor-pointer",children:n.name}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:n.description})]}),l.jsx(Go,{id:`widget-${n.id}`,checked:n.enabled,onCheckedChange:()=>e(n.id)})]},n.id))}),l.jsx("div",{className:"flex justify-end",children:l.jsxs(K,{variant:"ghost",size:"sm",onClick:r,children:[l.jsx(NC,{className:"h-4 w-4 mr-2"}),"Reset to Defaults"]})})]})]})}function vb({id:t,children:e,className:r}){const{attributes:n,listeners:s,setNodeRef:o,transform:i,transition:a,isDragging:c}=jX({id:t}),d={transform:eh.Transform.toString(i),transition:a};return l.jsxs("div",{ref:o,style:d,className:U("relative group",c&&"z-50 opacity-90",r),children:[l.jsx("div",{...n,...s,className:"absolute top-3 right-12 z-10 p-1.5 rounded-md bg-secondary/80 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing",children:l.jsx(Z3,{className:"h-4 w-4 text-muted-foreground"})}),e]})}const IX=Nl("rounded-2xl border bg-card text-card-foreground",{variants:{variant:{default:"shadow-sm",glass:"bg-card/80 backdrop-blur-xl border-border/50",interactive:"shadow-sm hover:shadow-lg hover:border-primary/20 transition-all duration-200 cursor-pointer",bordered:"border-2 border-primary/20"}},defaultVariants:{variant:"default"}}),pe=m.forwardRef(({className:t,variant:e,...r},n)=>l.jsx("div",{ref:n,className:U(IX({variant:e}),t),...r}));pe.displayName="Card";const Nt=m.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:U("flex flex-col space-y-1.5 p-6",t),...e}));Nt.displayName="CardHeader";const Ct=m.forwardRef(({className:t,...e},r)=>l.jsx("h3",{ref:r,className:U("text-lg font-semibold leading-none tracking-tight",t),...e}));Ct.displayName="CardTitle";const ho=m.forwardRef(({className:t,...e},r)=>l.jsx("p",{ref:r,className:U("text-sm text-muted-foreground",t),...e}));ho.displayName="CardDescription";const xe=m.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:U("p-6 pt-0",t),...e}));xe.displayName="CardContent";const DX=m.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:U("flex items-center p-6 pt-0",t),...e}));DX.displayName="CardFooter";function LX(){const{events:t,classes:e}=Ot(),r=new Date,n=yt(r,7),s=t.filter(c=>{const d=new Date(c.date);return d>=ou(r)&&d<=n}).sort((c,d)=>new Date(c.date).getTime()-new Date(d.date).getTime()).slice(0,5),o=c=>e.find(d=>d.id===c),i=c=>Cn(c)?"Today":E8(c)?"Tomorrow":me(c,"EEE, MMM d"),a=c=>{const[d,u]=c.split(":"),h=parseInt(d,10),f=h>=12?"PM":"AM";return`${h%12||12}:${u} ${f}`};return l.jsxs(pe,{className:"h-full flex flex-col",children:[l.jsx(Nt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ct,{className:"flex items-center gap-2 text-base",children:[l.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:l.jsx(Sr,{className:"h-4 w-4 text-primary"})}),"Upcoming Events"]}),l.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:l.jsxs(rn,{to:"/calendar",children:["View All",l.jsx(wt,{className:"h-4 w-4 ml-1"})]})})]})}),l.jsx(xe,{className:"flex-1 pt-0",children:s.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-center",children:[l.jsx(Sr,{className:"h-10 w-10 text-muted-foreground mb-3"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"No upcoming events"})]}):l.jsx("div",{className:"space-y-3",children:s.map(c=>{const d=o(c.classId),u=new Date(c.date);return l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/50 hover:bg-secondary transition-colors",children:[l.jsx("div",{className:"h-10 w-1 rounded-full shrink-0 bg-primary",style:{backgroundColor:d==null?void 0:d.color}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("h4",{className:"font-medium text-sm text-foreground truncate",children:c.title}),d&&l.jsx(ue,{variant:"class",className:"shrink-0 text-xs",style:{backgroundColor:`${d.color}20`,borderColor:`${d.color}50`,color:d.color},children:d.code})]}),l.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-muted-foreground",children:[l.jsxs("span",{className:U("flex items-center gap-1",Cn(u)&&"text-primary font-medium"),children:[l.jsx(tr,{className:"h-3 w-3"}),i(u),", ",a(c.startTime)]}),c.location&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fo,{className:"h-3 w-3"}),c.location]})]})]})]},c.id)})})})]})}function $X(){const{assignments:t,classes:e,updateAssignment:r}=Ot(),n=t.filter(d=>d.status!=="completed").sort((d,u)=>new Date(d.dueDate).getTime()-new Date(u.dueDate).getTime()).slice(0,4),s=d=>e.find(u=>u.id===d),o=d=>{const u=new Date,f=new Date(d).getTime()-u.getTime();return Math.ceil(f/(1e3*60*60*24))},i=(d,u)=>{r(d,{status:u==="completed"?"todo":"completed"})},a=t.filter(d=>d.status==="completed").length,c=t.length;return l.jsxs(pe,{className:"h-full flex flex-col",children:[l.jsxs(Nt,{className:"pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ct,{className:"flex items-center gap-2 text-base",children:[l.jsx("div",{className:"p-1.5 rounded-lg bg-success/10",children:l.jsx(El,{className:"h-4 w-4 text-success"})}),"To-Do List"]}),l.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:l.jsxs(rn,{to:"/todo",children:["View All",l.jsx(wt,{className:"h-4 w-4 ml-1"})]})})]}),c>0&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a," of ",c," completed"]})]}),l.jsx(xe,{className:"flex-1 pt-0",children:n.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-center",children:[l.jsx($o,{className:"h-10 w-10 text-success mb-3"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"All caught up!"})]}):l.jsx("div",{className:"space-y-2",children:n.map(d=>{const u=s(d.classId),h=o(d.dueDate),f=h<0,p=h>=0&&h<=2;return l.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-lg hover:bg-secondary/50 transition-colors group",children:[l.jsx("button",{onClick:()=>i(d.id,d.status),className:"mt-0.5 shrink-0",children:l.jsx(Gs,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:d.title}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u&&l.jsx(ue,{variant:"class",className:"text-xs px-1.5 py-0",style:{backgroundColor:`${u.color}20`,borderColor:`${u.color}50`,color:u.color},children:u.code}),l.jsxs("span",{className:U("flex items-center gap-1 text-xs",f?"text-destructive":p?"text-warning":"text-muted-foreground"),children:[f?l.jsx(Vd,{className:"h-3 w-3"}):l.jsx(tr,{className:"h-3 w-3"}),f?`${Math.abs(h)}d overdue`:h===0?"Today":`${h}d`]})]})]})]},d.id)})})})]})}function FX(){const{classes:t}=Ot(),e=t.slice(0,4),r=s=>{const o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return s.map(i=>o[i.dayOfWeek]).join(", ")},n=s=>{const[o,i]=s.split(":"),a=parseInt(o,10),c=a>=12?"PM":"AM";return`${a%12||12}:${i} ${c}`};return l.jsxs(pe,{className:"h-full flex flex-col",children:[l.jsx(Nt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ct,{className:"flex items-center gap-2 text-base",children:[l.jsx("div",{className:"p-1.5 rounded-lg bg-accent",children:l.jsx(vt,{className:"h-4 w-4 text-accent-foreground"})}),"My Classes"]}),l.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:l.jsxs(rn,{to:"/classes",children:["View All",l.jsx(wt,{className:"h-4 w-4 ml-1"})]})})]})}),l.jsx(xe,{className:"flex-1 pt-0",children:e.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-center",children:[l.jsx(vt,{className:"h-10 w-10 text-muted-foreground mb-3"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"No classes yet"}),l.jsx(K,{variant:"outline",size:"sm",className:"mt-3",asChild:!0,children:l.jsx(rn,{to:"/classes",children:"Add a class"})})]}):l.jsx("div",{className:"space-y-3",children:e.map(s=>{var i,a;const o=(i=s.schedule)==null?void 0:i[0];return l.jsxs(rn,{to:`/classes/${s.id}`,className:"flex items-start gap-3 p-3 rounded-lg hover:bg-secondary/50 transition-colors group",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${s.color}20`},children:l.jsx("span",{className:"text-sm font-bold",style:{color:s.color},children:((a=s.code)==null?void 0:a.substring(0,2))||s.name.substring(0,2)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-medium text-sm text-foreground truncate group-hover:text-primary transition-colors",children:[s.code&&l.jsx("span",{className:"mr-1",children:s.code}),s.name]}),o&&l.jsx("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(tr,{className:"h-3 w-3"}),n(o.startTime)," - ",n(o.endTime)]})}),s.schedule&&s.schedule.length>0&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:r(s.schedule)})]})]},s.id)})})})]})}var aP={exports:{}},lP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=m;function zX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var BX=typeof Object.is=="function"?Object.is:zX,UX=Rc.useState,VX=Rc.useEffect,WX=Rc.useLayoutEffect,HX=Rc.useDebugValue;function qX(t,e){var r=e(),n=UX({inst:{value:r,getSnapshot:e}}),s=n[0].inst,o=n[1];return WX(function(){s.value=r,s.getSnapshot=e,yb(s)&&o({inst:s})},[t,r,e]),VX(function(){return yb(s)&&o({inst:s}),t(function(){yb(s)&&o({inst:s})})},[t]),HX(r),r}function yb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!BX(t,r)}catch{return!0}}function KX(t,e){return e()}var GX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KX:qX;lP.useSyncExternalStore=Rc.useSyncExternalStore!==void 0?Rc.useSyncExternalStore:GX,aP.exports=lP;var YX=aP.exports;function JX(){return YX.useSyncExternalStore(QX,()=>!0,()=>!1)}function QX(){return()=>{}}var xb="Avatar",[XX]=Ft(xb),[ZX,cP]=XX(xb),dP=m.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,o]=m.useState("idle");return l.jsx(ZX,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:l.jsx(se.span,{...n,ref:e})})});dP.displayName=xb;var uP="AvatarImage",hP=m.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=t,i=cP(uP,r),a=eZ(n,o),c=at(d=>{s(d),i.onImageLoadingStatusChange(d)});return gt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(se.img,{...o,ref:e,src:n}):null});hP.displayName=uP;var fP="AvatarFallback",pP=m.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,o=cP(fP,r),[i,a]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?l.jsx(se.span,{...s,ref:e}):null});pP.displayName=fP;function mP(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function eZ(t,{referrerPolicy:e,crossOrigin:r}){const n=JX(),s=m.useRef(null),o=n?(s.current||(s.current=new window.Image),s.current):null,[i,a]=m.useState(()=>mP(o,t));return gt(()=>{a(mP(o,t))},[o,t]),gt(()=>{const c=h=>()=>{a(h)};if(!o)return;const d=c("loaded"),u=c("error");return o.addEventListener("load",d),o.addEventListener("error",u),e&&(o.referrerPolicy=e),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",d),o.removeEventListener("error",u)}},[o,r,e]),i}var gP=dP,vP=hP,yP=pP;const ah=m.forwardRef(({className:t,...e},r)=>l.jsx(gP,{ref:r,className:U("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ah.displayName=gP.displayName;const wb=m.forwardRef(({className:t,...e},r)=>l.jsx(vP,{ref:r,className:U("aspect-square h-full w-full",t),...e}));wb.displayName=vP.displayName;const lh=m.forwardRef(({className:t,...e},r)=>l.jsx(yP,{ref:r,className:U("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));lh.displayName=yP.displayName;const tZ=[{id:"1",name:"You",initials:"ME",attendance:12,rank:1},{id:"2",name:"Alex M.",initials:"AM",attendance:10,rank:2},{id:"3",name:"Jordan K.",initials:"JK",attendance:8,rank:3},{id:"4",name:"Sam R.",initials:"SR",attendance:7,rank:4}],rZ=t=>{switch(t){case 1:return l.jsx("span",{className:"text-lg",children:""});case 2:return l.jsx("span",{className:"text-lg",children:""});case 3:return l.jsx("span",{className:"text-lg",children:""});default:return l.jsxs("span",{className:"text-xs text-muted-foreground font-medium",children:["#",t]})}};function nZ(){return l.jsxs(pe,{className:"h-full flex flex-col",children:[l.jsx(Nt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ct,{className:"flex items-center gap-2 text-base",children:[l.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:l.jsx($r,{className:"h-4 w-4 text-primary"})}),"Study Hub"]}),l.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:l.jsxs(rn,{to:"/study-groups",children:["Open",l.jsx(wt,{className:"h-4 w-4 ml-1"})]})})]})}),l.jsxs(xe,{className:"flex-1 pt-0 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs(rn,{to:"/study-groups",className:"flex flex-col items-center gap-1.5 p-3 rounded-lg bg-gradient-to-r from-primary/10 to-accent/10 hover:from-primary/20 hover:to-accent/20 transition-colors",children:[l.jsx($r,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"text-xs font-medium text-foreground",children:"Groups"})]}),l.jsxs(rn,{to:"/study",className:"flex flex-col items-center gap-1.5 p-3 rounded-lg bg-secondary/50 hover:bg-secondary transition-colors",children:[l.jsx(Ky,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"text-xs font-medium text-foreground",children:"Study Mode"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lL,{className:"h-4 w-4 text-primary"}),l.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Attendance Leaderboard"})]}),l.jsx("div",{className:"space-y-1.5",children:tZ.map(t=>l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg transition-colors ${t.name==="You"?"bg-primary/10 border border-primary/20":"bg-secondary/30 hover:bg-secondary/50"}`,children:[l.jsx("div",{className:"w-6 flex justify-center",children:rZ(t.rank)}),l.jsx(ah,{className:"h-6 w-6",children:l.jsx(lh,{className:"text-[10px] bg-muted",children:t.initials})}),l.jsx("span",{className:`flex-1 text-xs ${t.name==="You"?"font-semibold text-foreground":"text-muted-foreground"}`,children:t.name}),l.jsxs(ue,{variant:"secondary",className:"text-[10px] px-1.5",children:[t.attendance," classes"]})]},t.id))})]})]})]})}var bb="Progress",kb=100,[sZ]=Ft(bb),[oZ,iZ]=sZ(bb),xP=m.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=aZ,...i}=t;(s||s===0)&&!SP(s)&&console.error(lZ(`${s}`,"Progress"));const a=SP(s)?s:kb;n!==null&&!NP(n,a)&&console.error(cZ(`${n}`,"Progress"));const c=NP(n,a)?n:null,d=Wm(c)?o(c,a):void 0;return l.jsx(oZ,{scope:r,value:c,max:a,children:l.jsx(se.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Wm(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":kP(c,a),"data-value":c??void 0,"data-max":a,...i,ref:e})})});xP.displayName=bb;var wP="ProgressIndicator",bP=m.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=iZ(wP,r);return l.jsx(se.div,{"data-state":kP(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});bP.displayName=wP;function aZ(t,e){return`${Math.round(t/e*100)}%`}function kP(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Wm(t){return typeof t=="number"}function SP(t){return Wm(t)&&!isNaN(t)&&t>0}function NP(t,e){return Wm(t)&&!isNaN(t)&&t<=e&&t>=0}function lZ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${kb}\`.`}function cZ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${kb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var CP=xP,dZ=bP;const ch=m.forwardRef(({className:t,value:e,...r},n)=>l.jsx(CP,{ref:n,className:U("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:l.jsx(dZ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));ch.displayName=CP.displayName;function uZ(){const{classes:t}=Ot(),r=__[0],n=r?t.find(a=>a.id===r.classId):null,s=Nn(new Date,{weekStartsOn:1}),o=Pe(s,7),i={notes:12,lectures:8,topics:24,completionRate:75};return l.jsxs(pe,{className:"h-full flex flex-col",children:[l.jsxs(Nt,{className:"pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ct,{className:"flex items-center gap-2 text-base",children:[l.jsx("div",{className:"p-1.5 rounded-lg gradient-primary",children:l.jsx(Nr,{className:"h-4 w-4 text-primary-foreground"})}),"Weekly Recap"]}),l.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:l.jsxs(rn,{to:"/recap",children:["View All",l.jsx(wt,{className:"h-4 w-4 ml-1"})]})})]}),l.jsxs(ue,{variant:"secondary",className:"w-fit text-xs",children:[me(o,"MMM d")," - ",me(Pe(s,1),"MMM d")]})]}),l.jsxs(xe,{className:"flex-1 pt-0 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:"Weekly Progress"}),l.jsxs("span",{className:"font-medium text-foreground",children:[i.completionRate,"%"]})]}),l.jsx(ch,{value:i.completionRate,className:"h-2"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"p-2 rounded-lg bg-secondary/50 text-center",children:[l.jsx(zt,{className:"h-4 w-4 mx-auto text-primary mb-1"}),l.jsx("p",{className:"text-base font-bold text-foreground",children:i.notes}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Notes"})]}),l.jsxs("div",{className:"p-2 rounded-lg bg-secondary/50 text-center",children:[l.jsx(qy,{className:"h-4 w-4 mx-auto text-primary mb-1"}),l.jsx("p",{className:"text-base font-bold text-foreground",children:i.lectures}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Lectures"})]}),l.jsxs("div",{className:"p-2 rounded-lg bg-secondary/50 text-center",children:[l.jsx(vt,{className:"h-4 w-4 mx-auto text-primary mb-1"}),l.jsx("p",{className:"text-base font-bold text-foreground",children:i.topics}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Topics"})]})]}),r&&n&&l.jsxs("div",{className:"p-3 rounded-lg bg-secondary/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{backgroundColor:n==null?void 0:n.color}}),l.jsx("span",{className:"text-xs font-medium text-foreground truncate",children:(n==null?void 0:n.code)||(n==null?void 0:n.name)})]}),l.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:r.summary}),l.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[r.keyTopics.slice(0,2).map(a=>l.jsx(ue,{variant:"secondary",className:"text-[10px]",children:a},a)),r.keyTopics.length>2&&l.jsxs(ue,{variant:"secondary",className:"text-[10px]",children:["+",r.keyTopics.length-2]})]})]})]})]})}const hZ={"upcoming-events":LX,todo:$X,classes:FX,"study-hub":nZ,"weekly-recap":uZ};function fZ(){const{widgets:t,enabledWidgets:e,toggleWidget:r,reorderWidgets:n,resetToDefaults:s}=MX(),o=SO(ib(Dm,{activationConstraint:{distance:8}}),ib(ub,{coordinateGetter:TX})),i=h=>{const{active:f,over:p}=h;p&&f.id!==p.id&&n(f.id,p.id)},a=h=>{const f=hZ[h];return f?l.jsx(f,{}):null},c=e.filter(h=>h.size==="large"),d=e.filter(h=>h.size==="medium"),u=e.filter(h=>h.size==="small");return l.jsxs("div",{className:"min-h-screen p-4 sm:p-6 max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-8 sm:mb-10",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(uo,{}),l.jsx("div",{className:"p-2.5 rounded-xl gradient-primary shadow-md",children:l.jsx(Vy,{className:"h-6 w-6 text-primary-foreground"})}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground tracking-tight",children:"Dashboard"})]}),l.jsx("p",{className:"text-muted-foreground mt-0.5",children:"Your personalized overview of everything that matters"})]}),l.jsx(AX,{widgets:t,onToggle:r,onReset:s})]}),e.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[l.jsx(Vy,{className:"h-16 w-16 text-muted-foreground mb-4"}),l.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2",children:"No widgets enabled"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:'Click "Customize" to add widgets to your dashboard'})]}):l.jsx(JO,{sensors:o,collisionDetection:hQ,onDragEnd:i,children:l.jsxs("div",{className:"space-y-6",children:[c.length>0&&l.jsx(gb,{items:c.map(h=>h.id),strategy:oh,children:l.jsx("div",{className:"grid grid-cols-1 gap-6",children:c.map(h=>l.jsx(vb,{id:h.id,className:"min-h-[320px]",children:a(h.id)},h.id))})}),d.length>0&&l.jsx(gb,{items:d.map(h=>h.id),strategy:oh,children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(h=>l.jsx(vb,{id:h.id,className:"min-h-[360px]",children:a(h.id)},h.id))})}),u.length>0&&l.jsx(gb,{items:u.map(h=>h.id),strategy:oh,children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>l.jsx(vb,{id:h.id,className:"min-h-[280px]",children:a(h.id)},h.id))})})]})})]})}function Hm(){const[t,e]=m.useState([]),[r,n]=m.useState([]),[s,o]=m.useState(!1),[i,a]=m.useState(!1),c=m.useCallback(async()=>{const{data:v,error:g}=await q.from("external_calendars").select("*").order("created_at",{ascending:!0});if(g){console.error("Error fetching calendars:",g);return}e(v||[])},[]),d=m.useCallback(async()=>{const{data:v,error:g}=await q.from("external_calendar_events").select("*, external_calendars(name, color, enabled)").order("start_time",{ascending:!0});if(g){console.error("Error fetching external events:",g);return}const y=(v||[]).filter(x=>{var w;return((w=x.external_calendars)==null?void 0:w.enabled)!==!1}).map(x=>{var w,b;return{...x,calendarName:(w=x.external_calendars)==null?void 0:w.name,calendarColor:(b=x.external_calendars)==null?void 0:b.color}});n(y)},[]),u=async(v,g,y,x)=>{const{data:{user:w}}=await q.auth.getUser();if(!w)return Se.error("Please sign in first"),null;const{data:b,error:k}=await q.from("external_calendars").insert({user_id:w.id,name:v,ics_url:g,provider:y,color:x}).select().single();return k?(console.error("Error adding calendar:",k),Se.error("Failed to add calendar"),null):(await c(),await p(b.id),b)},h=async v=>{const{error:g}=await q.from("external_calendars").delete().eq("id",v);if(g){Se.error("Failed to remove calendar");return}Se.success("Calendar removed"),await c(),await d()},f=async(v,g)=>{const{error:y}=await q.from("external_calendars").update({enabled:g}).eq("id",v);if(y){Se.error("Failed to update calendar");return}await c(),await d()},p=async v=>{var g,y;a(!0);try{const{data:{session:x}}=await q.auth.getSession();if(!x){Se.error("Please sign in first");return}const b=await fetch("https://jqoaxvwjqgjxmenvuwql.supabase.co/functions/v1/sync-external-calendar",{method:"POST",headers:{Authorization:`Bearer ${x.access_token}`,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impxb2F4dndqcWdqeG1lbnZ1d3FsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwOTUxMTYsImV4cCI6MjA4NjY3MTExNn0.0em4louFIEQkjQwCvudwxWQILppMpGcPtWTIwd1yvQw"},body:JSON.stringify({action:"sync",calendarId:v})});if(!b.ok)throw new Error("Sync failed");const k=await b.json(),S=((g=k.results)==null?void 0:g.reduce((C,E)=>C+(E.eventsCount||0),0))||0,N=((y=k.results)==null?void 0:y.filter(C=>C.error))||[];N.length>0?Se.error(`Some calendars failed to sync: ${N.map(C=>C.name).join(", ")}`):Se.success(`Synced ${S} events from your calendars`),await c(),await d()}catch(x){console.error("Sync error:",x),Se.error("Failed to sync calendars")}finally{a(!1)}};return m.useEffect(()=>{o(!0),Promise.all([c(),d()]).finally(()=>o(!1))},[c,d]),{calendars:t,events:r,loading:s,syncing:i,addCalendar:u,removeCalendar:h,toggleCalendar:f,syncCalendar:p,refetch:()=>Promise.all([c(),d()])}}const pZ=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function mZ({onEventClick:t,onDateClick:e}){const{currentDate:r,setCurrentDate:n,events:s,classes:o}=Ot(),{events:i}=Hm(),a=m.useMemo(()=>{const v=y_(r),g=v_(r),y=Nn(v,{weekStartsOn:0}),x=Rp(g,{weekStartsOn:0});return Yx({start:y,end:x})},[r]),c=v=>s.filter(g=>eo(new Date(g.date),v)),d=v=>i.filter(g=>eo(new Date(g.start_time),v)),u=v=>o.find(g=>g.id===v),h=()=>n(E_(r)),f=()=>n(Gx(r,1)),p=()=>n(new Date);return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h2",{className:"text-2xl font-semibold text-foreground tracking-tight",children:me(r,"MMMM yyyy")}),l.jsx(K,{variant:"outline",size:"sm",onClick:p,children:"Today"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(K,{variant:"ghost",size:"icon",onClick:h,children:l.jsx(Cl,{className:"h-5 w-5"})}),l.jsx(K,{variant:"ghost",size:"icon",onClick:f,children:l.jsx(wt,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"flex-1 p-4",children:[l.jsx("div",{className:"grid grid-cols-7 mb-2",children:pZ.map(v=>l.jsx("div",{className:"py-2 text-center text-xs font-medium uppercase tracking-wider text-muted-foreground",children:v},v))}),l.jsx("div",{className:"grid grid-cols-7 flex-1 border border-border rounded-xl overflow-hidden",children:a.map((v,g)=>{const y=c(v),x=d(v),w=y.length+x.length,b=C_(v,r),k=Cn(v);return l.jsxs("div",{onClick:()=>e(v),className:U("min-h-[100px] p-2 border-r border-b border-border cursor-pointer transition-colors","hover:bg-secondary/30",!b&&"bg-muted/30",k&&"bg-primary/5 border-l-2 border-l-primary",g%7===6&&"border-r-0",g>=a.length-7&&"border-b-0"),children:[l.jsx("div",{className:U("flex h-7 w-7 items-center justify-center rounded-full text-sm mb-1",k?"bg-primary text-primary-foreground font-semibold":b?"text-foreground":"text-muted-foreground"),children:me(v,"d")}),l.jsxs("div",{className:"space-y-1",children:[y.slice(0,2).map(S=>{const N=u(S.classId);return l.jsx("div",{onClick:C=>{C.stopPropagation(),t(S)},className:"px-2 py-0.5 text-xs rounded truncate cursor-pointer transition-colors",style:{backgroundColor:`${N==null?void 0:N.color}30`,color:N==null?void 0:N.color},children:S.title},S.id)}),x.slice(0,Math.max(0,3-y.length)).map(S=>l.jsx("div",{className:"px-2 py-0.5 text-xs rounded truncate",style:{backgroundColor:`${S.calendarColor||"#6366f1"}25`,color:S.calendarColor||"#6366f1"},children:S.title},S.id)),w>3&&l.jsxs("div",{className:"px-2 text-xs text-muted-foreground",children:["+",w-3," more"]})]})]},v.toISOString())})})]})]})}const jP=Array.from({length:13},(t,e)=>e+7),qm=60,EP=15;function gZ({onEventClick:t,onDateClick:e}){const{currentDate:r,setCurrentDate:n,events:s,classes:o,notes:i,updateEvent:a}=Ot(),{events:c}=Hm(),d=m.useMemo(()=>{const j=Nn(r,{weekStartsOn:1}),_=Rp(r,{weekStartsOn:1});return Yx({start:j,end:_})},[r]),u=j=>s.filter(_=>eo(new Date(_.date),j)),h=j=>c.filter(_=>eo(new Date(_.start_time),j)),f=j=>o.find(_=>_.id===j),p=j=>i.some(_=>_.eventId===j),v=j=>{const[_,P]=j.startTime.split(":").map(Number),[T,A]=j.endTime.split(":").map(Number),I=((_-7)*60+P)*(qm/60),L=((T-_)*60+(A-P))*(qm/60);return{top:I,height:Math.max(L,30)}},[g,y]=m.useState(null),x=m.useRef(null),w=j=>{const _=j/qm*60+420,P=Math.round(_/EP)*EP;return{hours:Math.floor(P/60),minutes:P%60}},b=m.useCallback((j,_)=>{j.preventDefault(),j.stopPropagation();const{top:P,height:T}=v(_),A={eventId:_.id,initialY:j.clientY,initialTop:P,currentTop:P,eventHeight:T};x.current=A,y(A);const I=F=>{if(!x.current)return;const V=F.clientY-x.current.initialY,O=Math.max(0,x.current.initialTop+V);x.current={...x.current,currentTop:O},y({...x.current})},L=()=>{if(document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",L),!x.current)return;const{eventId:F,currentTop:V,eventHeight:O}=x.current,D=w(V),H=O/qm*60,ne=D.hours*60+D.minutes+H,$=Math.floor(ne/60),G=Math.round(ne%60),J=`${String(D.hours).padStart(2,"0")}:${String(D.minutes).padStart(2,"0")}`,M=`${String($).padStart(2,"0")}:${String(G).padStart(2,"0")}`;a(F,{startTime:J,endTime:M}),x.current=null,y(null)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",L)},[a]),k=()=>n(V8(r)),S=()=>n(m_(r,1)),N=()=>n(new Date),C=Nn(r,{weekStartsOn:0}),E=Rp(r,{weekStartsOn:0});return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("h2",{className:"text-2xl font-semibold text-foreground",children:[me(C,"MMM d")," - ",me(E,"MMM d, yyyy")]}),l.jsx(K,{variant:"outline",size:"sm",onClick:N,children:"Today"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(K,{variant:"ghost",size:"icon",onClick:k,children:l.jsx(Cl,{className:"h-5 w-5"})}),l.jsx(K,{variant:"ghost",size:"icon",onClick:S,children:l.jsx(wt,{className:"h-5 w-5"})})]})]}),l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsxs("div",{className:"min-w-[800px]",children:[l.jsxs("div",{className:"grid grid-cols-8 border-b border-border sticky top-0 bg-background z-10",children:[l.jsx("div",{className:"w-16"})," ",d.map(j=>{const _=Cn(j);return l.jsxs("div",{onClick:()=>e(j),className:U("py-3 text-center cursor-pointer hover:bg-secondary/30 transition-colors border-l border-border",_&&"bg-primary/5"),children:[l.jsx("div",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:me(j,"EEE")}),l.jsx("div",{className:U("mt-1 mx-auto flex h-10 w-10 items-center justify-center rounded-full text-lg font-semibold",_?"bg-primary text-primary-foreground":"text-foreground"),children:me(j,"d")})]},j.toISOString())})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"grid grid-cols-8",children:[l.jsx("div",{className:"w-16",children:jP.map(j=>l.jsx("div",{className:"h-[60px] border-b border-border pr-2 text-right",children:l.jsx("span",{className:"text-xs text-muted-foreground relative -top-2",children:j===12?"12 PM":j>12?`${j-12} PM`:`${j} AM`})},j))}),d.map(j=>{const _=u(j),P=h(j),T=Cn(j);return l.jsxs("div",{className:U("relative border-l border-border",T&&"bg-primary/5"),children:[jP.map(A=>l.jsx("div",{className:"h-[60px] border-b border-border/50"},A)),_.map(A=>{const I=f(A.classId),{top:L,height:F}=v(A),V=p(A.id),O=(g==null?void 0:g.eventId)===A.id,D=O?g.currentTop:L;return l.jsx("div",{onMouseDown:H=>b(H,A),onClick:H=>{g||t(A)},className:U("absolute left-1 right-1 rounded-lg p-2 cursor-grab active:cursor-grabbing transition-shadow","hover:shadow-lg hover:z-10","border border-transparent hover:border-primary/30",O&&"shadow-xl z-50 opacity-80"),style:{top:`${D}px`,height:`${F}px`,backgroundColor:`${I==null?void 0:I.color}25`,borderLeftWidth:"3px",borderLeftColor:I==null?void 0:I.color},children:l.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[l.jsxs("div",{className:"flex items-start justify-between gap-1",children:[l.jsx("span",{className:"text-xs font-medium truncate",style:{color:I==null?void 0:I.color},children:A.title}),V&&l.jsx(Gf,{className:"h-3 w-3 shrink-0 text-muted-foreground"})]}),l.jsxs("span",{className:"text-xs text-muted-foreground mt-0.5",children:[A.startTime," - ",A.endTime]}),A.location&&F>50&&l.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[l.jsx(Fo,{className:"h-3 w-3"}),l.jsx("span",{className:"truncate",children:A.location})]}),A.type==="exam"&&l.jsx(ue,{variant:"destructive",className:"mt-1 w-fit text-[10px] px-1.5 py-0",children:"Exam"})]})},A.id)}),P.filter(A=>!A.all_day).map(A=>{const I=new Date(A.start_time),L=A.end_time?new Date(A.end_time):new Date(I.getTime()+60*60*1e3),F=I.getHours(),V=I.getMinutes(),O=L.getHours(),D=L.getMinutes(),H=((F-7)*60+V)*(60/60),ne=Math.max(((O-F)*60+(D-V))*(60/60),30),$=A.calendarColor||"#6366f1";return H<0?null:l.jsx("div",{className:U("absolute left-1 right-1 rounded-lg p-2 cursor-default transition-all","hover:shadow-lg hover:z-10","border border-transparent"),style:{top:`${H}px`,height:`${ne}px`,backgroundColor:`${$}20`,borderLeftWidth:"3px",borderLeftColor:$},children:l.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[l.jsx("span",{className:"text-xs font-medium truncate",style:{color:$},children:A.title}),l.jsxs("span",{className:"text-xs text-muted-foreground mt-0.5",children:[me(I,"h:mm a")," - ",me(L,"h:mm a")]}),A.location&&ne>50&&l.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[l.jsx(Fo,{className:"h-3 w-3"}),l.jsx("span",{className:"truncate",children:A.location})]}),A.calendarName&&l.jsx("span",{className:"text-[10px] text-muted-foreground mt-auto truncate",children:A.calendarName})]})},`ext-${A.id}`)})]},j.toISOString())})]}),d.some(j=>Cn(j))&&l.jsx(vZ,{days:d})]})]})})]})}function vZ({days:t}){const e=new Date;if(t.findIndex(i=>Cn(i))===-1)return null;const n=e.getHours(),s=e.getMinutes();if(n<7||n>=20)return null;const o=((n-7)*60+s)*(60/60);return l.jsx("div",{className:"absolute h-0.5 bg-destructive z-20 pointer-events-none",style:{top:`${o}px`,left:"64px",right:0},children:l.jsx("div",{className:"absolute -left-1 -top-1.5 h-3 w-3 rounded-full bg-destructive"})})}const yZ=["S","M","T","W","T","F","S"];function xZ({onEventClick:t,onDateClick:e}){const{currentDate:r,setCurrentDate:n,events:s,classes:o}=Ot(),{events:i}=Hm(),[a,c]=m.useState(new Date),d=m.useMemo(()=>{const w=y_(r),b=v_(r),k=Nn(w,{weekStartsOn:0}),S=Rp(b,{weekStartsOn:0});return Yx({start:k,end:S})},[r]),u=w=>s.filter(b=>eo(new Date(b.date),w)),h=w=>i.filter(b=>eo(new Date(b.start_time),w)),f=w=>o.find(b=>b.id===w),p=()=>n(E_(r)),v=()=>n(Gx(r,1)),g=w=>{c(w),e(w)},y=u(a),x=h(a);return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[l.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:p,children:l.jsx(Cl,{className:"h-5 w-5"})}),l.jsx("h2",{className:"text-base font-semibold text-foreground",children:me(r,"MMMM yyyy")}),l.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:v,children:l.jsx(wt,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"px-2",children:[l.jsx("div",{className:"grid grid-cols-7 mb-1",children:yZ.map((w,b)=>l.jsx("div",{className:"py-1 text-center text-[11px] font-medium text-muted-foreground",children:w},b))}),l.jsx("div",{className:"grid grid-cols-7",children:d.map(w=>{const b=u(w),k=h(w);b.length+k.length>0;const S=C_(w,r),N=Cn(w),C=eo(w,a),E=[];return b.forEach(j=>{const _=f(j.classId);_!=null&&_.color&&E.length<3&&!E.includes(_.color)&&E.push(_.color)}),k.forEach(j=>{const _=j.calendarColor||"#6366f1";E.length<3&&!E.includes(_)&&E.push(_)}),l.jsxs("div",{onClick:()=>g(w),className:"flex flex-col items-center py-1 cursor-pointer",children:[l.jsx("div",{className:U("flex h-9 w-9 items-center justify-center rounded-full text-sm transition-colors",C&&N&&"bg-primary text-primary-foreground font-semibold",C&&!N&&"bg-primary/15 text-primary font-semibold",!C&&N&&"text-primary font-semibold",!C&&!N&&S&&"text-foreground",!S&&"text-muted-foreground/40"),children:me(w,"d")}),l.jsx("div",{className:"flex gap-0.5 h-2 items-center mt-0.5",children:E.map((j,_)=>l.jsx("div",{className:"h-1 w-1 rounded-full",style:{backgroundColor:j}},_))})]},w.toISOString())})})]}),l.jsx("div",{className:"flex-1 overflow-auto border-t border-border mt-2",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:Cn(a)?"Today":me(a,"EEEE, MMM d")}),y.length===0&&x.length===0?l.jsx("p",{className:"text-sm text-muted-foreground/60 py-8 text-center",children:"No events"}):l.jsxs("div",{className:"space-y-2",children:[y.map(w=>{const b=f(w.classId);return l.jsxs("div",{onClick:()=>t(w),className:"flex items-start gap-3 p-3 rounded-xl bg-card border border-border active:scale-[0.98] transition-transform cursor-pointer",children:[l.jsx("div",{className:"w-1 self-stretch rounded-full shrink-0 mt-0.5",style:{backgroundColor:b==null?void 0:b.color}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:w.title}),l.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[l.jsx(tr,{className:"h-3 w-3 text-muted-foreground"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.startTime,"  ",w.endTime]})]}),w.location&&l.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[l.jsx(Fo,{className:"h-3 w-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground truncate",children:w.location})]})]}),w.type==="exam"&&l.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-destructive/10 text-destructive shrink-0",children:"Exam"})]},w.id)}),x.map(w=>{const b=w.calendarColor||"#6366f1",k=new Date(w.start_time),S=w.end_time?new Date(w.end_time):null;return l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-card border border-border",children:[l.jsx("div",{className:"w-1 self-stretch rounded-full shrink-0 mt-0.5",style:{backgroundColor:b}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:w.title}),!w.all_day&&l.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[l.jsx(tr,{className:"h-3 w-3 text-muted-foreground"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[me(k,"h:mm a"),S&&`  ${me(S,"h:mm a")}`]})]}),w.all_day&&l.jsx("span",{className:"text-xs text-muted-foreground",children:"All day"}),w.location&&l.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[l.jsx(Fo,{className:"h-3 w-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground truncate",children:w.location})]}),w.calendarName&&l.jsx("span",{className:"text-[10px] text-muted-foreground mt-1 block",children:w.calendarName})]})]},`ext-${w.id}`)})]})]})})]})}function wZ(t,e){return m.useReducer((r,n)=>e[r][n]??r,t)}var Sb="ScrollArea",[_P]=Ft(Sb),[bZ,On]=_P(Sb),TP=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=t,[a,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(null),[p,v]=m.useState(null),[g,y]=m.useState(null),[x,w]=m.useState(0),[b,k]=m.useState(0),[S,N]=m.useState(!1),[C,E]=m.useState(!1),j=we(e,P=>c(P)),_=fa(s);return l.jsx(bZ,{scope:r,type:n,dir:_,scrollHideDelay:o,scrollArea:a,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:C,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:k,children:l.jsx(se.div,{dir:_,...i,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});TP.displayName=Sb;var RP="ScrollAreaViewport",MP=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=t,i=On(RP,r),a=m.useRef(null),c=we(e,a,i.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(se.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});MP.displayName=RP;var Es="ScrollAreaScrollbar",Nb=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=On(Es,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=t.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?l.jsx(kZ,{...n,ref:e,forceMount:r}):s.type==="scroll"?l.jsx(SZ,{...n,ref:e,forceMount:r}):s.type==="auto"?l.jsx(OP,{...n,ref:e,forceMount:r}):s.type==="always"?l.jsx(Cb,{...n,ref:e}):null});Nb.displayName=Es;var kZ=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=On(Es,t.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",d),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",d),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(er,{present:r||o,children:l.jsx(OP,{"data-state":o?"visible":"hidden",...n,ref:e})})}),SZ=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=On(Es,t.__scopeScrollArea),o=t.orientation==="horizontal",i=Jm(()=>c("SCROLL_END"),100),[a,c]=wZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[a,s.scrollHideDelay,c]),m.useEffect(()=>{const d=s.viewport,u=o?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const p=d[u];h!==p&&(c("SCROLL"),i()),h=p};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[s.viewport,o,c,i]),l.jsx(er,{present:r||a!=="hidden",children:l.jsx(Cb,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Q(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Q(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),OP=m.forwardRef((t,e)=>{const r=On(Es,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,i]=m.useState(!1),a=t.orientation==="horizontal",c=Jm(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(a?d:u)}},10);return Mc(r.viewport,c),Mc(r.content,c),l.jsx(er,{present:n||o,children:l.jsx(Cb,{"data-state":o?"visible":"hidden",...s,ref:e})})}),Cb=m.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=On(Es,t.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[a,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=LP(a.viewport,a.content),u={...n,sizes:a,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function h(f,p){return TZ(f,i.current,a,p)}return r==="horizontal"?l.jsx(NZ,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollLeft,p=$P(f,a,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):r==="vertical"?l.jsx(CZ,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollTop,p=$P(f,a);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),NZ=m.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=On(Es,t.__scopeScrollArea),[i,a]=m.useState(),c=m.useRef(null),d=we(e,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(AP,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ym(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(o.viewport){const f=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),zP(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Gm(i.paddingLeft),paddingEnd:Gm(i.paddingRight)}})}})}),CZ=m.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=On(Es,t.__scopeScrollArea),[i,a]=m.useState(),c=m.useRef(null),d=we(e,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(AP,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ym(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(o.viewport){const f=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),zP(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Gm(i.paddingTop),paddingEnd:Gm(i.paddingBottom)}})}})}),[jZ,PP]=_P(Es),AP=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=t,p=On(Es,r),[v,g]=m.useState(null),y=we(e,j=>g(j)),x=m.useRef(null),w=m.useRef(""),b=p.viewport,k=n.content-n.viewport,S=at(u),N=at(c),C=Jm(h,10);function E(j){if(x.current){const _=j.clientX-x.current.left,P=j.clientY-x.current.top;d({x:_,y:P})}}return m.useEffect(()=>{const j=_=>{const P=_.target;(v==null?void 0:v.contains(P))&&S(_,k)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[b,v,k,S]),m.useEffect(N,[n,N]),Mc(v,C),Mc(p.content,C),l.jsx(jZ,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:at(o),onThumbPointerUp:at(i),onThumbPositionChange:N,onThumbPointerDown:at(a),children:l.jsx(se.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:Q(t.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),x.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(j))}),onPointerMove:Q(t.onPointerMove,E),onPointerUp:Q(t.onPointerUp,j=>{const _=j.target;_.hasPointerCapture(j.pointerId)&&_.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),Km="ScrollAreaThumb",IP=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=PP(Km,t.__scopeScrollArea);return l.jsx(er,{present:r||s.hasThumb,children:l.jsx(EZ,{ref:e,...n})})}),EZ=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=On(Km,r),i=PP(Km,r),{onThumbPositionChange:a}=i,c=we(e,h=>i.onThumbChange(h)),d=m.useRef(void 0),u=Jm(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const h=o.viewport;if(h){const f=()=>{if(u(),!d.current){const p=RZ(h,a);d.current=p,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[o.viewport,u,a]),l.jsx(se.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Q(t.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),v=h.clientX-p.left,g=h.clientY-p.top;i.onThumbPointerDown({x:v,y:g})}),onPointerUp:Q(t.onPointerUp,i.onThumbPointerUp)})});IP.displayName=Km;var jb="ScrollAreaCorner",DP=m.forwardRef((t,e)=>{const r=On(jb,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(_Z,{...t,ref:e}):null});DP.displayName=jb;var _Z=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=On(jb,r),[o,i]=m.useState(0),[a,c]=m.useState(0),d=!!(o&&a);return Mc(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),Mc(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),i(u)}),d?l.jsx(se.div,{...n,ref:e,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Gm(t){return t?parseInt(t,10):0}function LP(t,e){const r=t/e;return isNaN(r)?0:r}function Ym(t){const e=LP(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function TZ(t,e,r,n="ltr"){const s=Ym(r),o=s/2,i=e||o,a=s-i,c=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return FP([c,d],h)(t)}function $P(t,e,r="ltr"){const n=Ym(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,i=e.content-e.viewport,a=o-n,c=r==="ltr"?[0,i]:[i*-1,0],d=Hu(t,c);return FP([0,i],[0,a])(d)}function FP(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function zP(t,e){return t>0&&t<e}var RZ=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},i=r.left!==o.left,a=r.top!==o.top;(i||a)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Jm(t,e){const r=at(t),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Mc(t,e){const r=at(e);gt(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var BP=TP,MZ=MP,OZ=DP;const Pn=m.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(BP,{ref:n,className:U("relative overflow-hidden",t),...r,children:[l.jsx(MZ,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(UP,{}),l.jsx(OZ,{})]}));Pn.displayName=BP.displayName;const UP=m.forwardRef(({className:t,orientation:e="vertical",...r},n)=>l.jsx(Nb,{ref:n,orientation:e,className:U("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:l.jsx(IP,{className:"relative flex-1 rounded-full bg-border"})}));UP.displayName=Nb.displayName;function PZ(t={}){const[e,r]=m.useState(!1),[n,s]=m.useState(!1),[o,i]=m.useState(0),[a,c]=m.useState(null),d=m.useRef(null),u=m.useRef([]),h=m.useRef(null),f=m.useRef(0),{toast:p}=gs(),v=m.useCallback(async()=>{try{const x=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0}}),w=new MediaRecorder(x,{mimeType:MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4"});d.current=w,u.current=[],w.ondataavailable=b=>{b.data.size>0&&u.current.push(b.data)},w.start(1e3),r(!0),f.current=Date.now(),h.current=window.setInterval(()=>{i(Math.floor((Date.now()-f.current)/1e3))},1e3),p({title:"Recording started",description:"Speak clearly into your microphone"})}catch(x){console.error("Failed to start recording:",x),p({title:"Recording failed",description:"Could not access microphone. Please check permissions.",variant:"destructive"})}},[p]),g=m.useCallback(async(x,w)=>new Promise(b=>{if(!d.current){b(null);return}const k=d.current;k.onstop=async()=>{h.current&&(clearInterval(h.current),h.current=null),k.stream.getTracks().forEach(S=>S.stop()),r(!1),s(!0);try{const S=new Blob(u.current,{type:k.mimeType}),N=o,{data:{user:C}}=await q.auth.getUser();if(!C)throw new Error("Not authenticated");const E=`${C.id}/${Date.now()}.webm`,{data:j,error:_}=await q.storage.from("audio-notes").upload(E,S,{contentType:k.mimeType});if(_)throw new Error(`Upload failed: ${_.message}`);const{data:{publicUrl:P}}=q.storage.from("audio-notes").getPublicUrl(E),T=`[Audio recording - ${N} seconds]

Note: Speech-to-text transcription will be added. For now, please describe the key points from your recording.`,{data:A,error:I}=await q.from("notes").insert({user_id:C.id,event_id:x||null,class_id:w||null,type:"audio",content:T,audio_url:P,transcription:T,duration_seconds:N}).select().single();if(I)throw new Error(`Failed to save note: ${I.message}`);c(T);const{data:{session:L}}=await q.auth.getSession();if(L){const{data:F,error:V}=await q.functions.invoke("process-audio-note",{body:{noteId:A.id,transcription:T,classId:w||null,eventId:x||null}});V?console.error("Failed to process note:",V):F!=null&&F.todos&&t.onTodosExtracted&&t.onTodosExtracted(F.todos)}p({title:"Note saved",description:`Recording saved (${N}s). AI is analyzing for to-dos.`}),t.onTranscriptionComplete&&t.onTranscriptionComplete(T,A.id),b({noteId:A.id,transcription:T})}catch(S){console.error("Failed to process recording:",S),p({title:"Processing failed",description:S instanceof Error?S.message:"Failed to process recording",variant:"destructive"}),b(null)}finally{s(!1),i(0)}},k.stop()}),[o,p,t]),y=m.useCallback(()=>{d.current&&(d.current.stream.getTracks().forEach(x=>x.stop()),d.current=null),h.current&&(clearInterval(h.current),h.current=null),u.current=[],r(!1),i(0)},[]);return{isRecording:e,isProcessing:n,recordingDuration:o,transcription:a,startRecording:v,stopRecording:g,cancelRecording:y}}function AZ({eventId:t,classId:e,onRecordingComplete:r,onTodosExtracted:n,variant:s="button",className:o}){const{isRecording:i,isProcessing:a,recordingDuration:c,startRecording:d,stopRecording:u,cancelRecording:h}=PZ({onTranscriptionComplete:(v,g)=>{r==null||r(g,v)},onTodosExtracted:n}),f=v=>{const g=Math.floor(v/60),y=v%60;return`${g}:${y.toString().padStart(2,"0")}`},p=async()=>{await u(t,e)};return a?l.jsxs(K,{disabled:!0,className:U("flex-1",o),children:[l.jsx(Bt,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):i?l.jsxs("div",{className:U("flex items-center gap-2",o),children:[l.jsxs(K,{variant:"recording",onClick:p,className:"flex-1",children:[l.jsx("div",{className:"recording-indicator mr-2"}),l.jsx("span",{className:"font-mono",children:f(c)}),l.jsx(yL,{className:"h-4 w-4 ml-2 fill-current"})]}),l.jsx(K,{variant:"ghost",size:"icon",onClick:h,className:"shrink-0",children:l.jsx(Wd,{className:"h-4 w-4"})})]}):l.jsxs(K,{variant:"glow",onClick:d,className:U("flex-1",o),children:[l.jsx(Gf,{className:"h-4 w-4"}),"Record Note"]})}function VP({event:t,open:e,onOpenChange:r}){const{classes:n,notes:s}=Ot(),o=Zs(),{toast:i}=gs(),[a,c]=m.useState(!1);if(!t)return null;const d=n.find(p=>p.id===t.classId),u=s.filter(p=>p.eventId===t.id),h=p=>{p.length>0&&i({title:`${p.length} to-do${p.length>1?"s":""} extracted!`,description:"View them in your To-Do list",action:l.jsx(K,{variant:"outline",size:"sm",onClick:()=>o("/todo"),children:"View To-Dos"})})},f={lecture:"Lecture",lab:"Lab Session",exam:"Exam","office-hours":"Office Hours","study-session":"Study Session"};return l.jsx(Bp,{open:e,onOpenChange:r,children:l.jsxs(bu,{className:"w-full sm:max-w-lg border-l border-border bg-background",children:[l.jsxs(ku,{className:"space-y-4",children:[l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"space-y-1",children:[l.jsx(ue,{variant:"class",style:{backgroundColor:`${d==null?void 0:d.color}20`,borderColor:`${d==null?void 0:d.color}50`,color:d==null?void 0:d.color},children:d==null?void 0:d.code}),l.jsx(Up,{className:"text-xl font-semibold text-foreground",children:t.title})]})}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(tr,{className:"h-4 w-4"}),l.jsxs("span",{children:[me(new Date(t.date),"EEEE, MMMM d, yyyy"),"  ",t.startTime," - ",t.endTime]})]}),t.location&&l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(Fo,{className:"h-4 w-4"}),l.jsx("span",{children:t.location})]}),l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(vt,{className:"h-4 w-4"}),l.jsx("span",{children:f[t.type]})]})]})]}),l.jsxs("div",{className:"mt-6 space-y-6",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(AZ,{eventId:t.id,classId:t.classId,onTodosExtracted:h}),l.jsxs(K,{className:"flex-1",variant:"outline",onClick:()=>c(!0),children:[l.jsx(zt,{className:"h-4 w-4"}),"Add Text Note"]})]}),l.jsx(q0,{open:a,onOpenChange:c,eventId:t.id,classId:t.classId}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Notes"}),u.length>0&&l.jsxs(K,{variant:"ghost",size:"sm",className:"h-7 text-xs",children:[l.jsx(Nr,{className:"h-3 w-3 mr-1"}),"Generate Summary"]})]}),u.length===0?l.jsxs(pe,{className:"p-6 text-center border-dashed",children:[l.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-secondary flex items-center justify-center mb-3",children:l.jsx(zt,{className:"h-6 w-6 text-muted-foreground"})}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No notes for this lecture yet"}),l.jsxs(K,{variant:"outline",size:"sm",children:[l.jsx(Rt,{className:"h-4 w-4 mr-1"}),"Add your first note"]})]}):l.jsx(Pn,{className:"h-[400px] pr-4",children:l.jsx("div",{className:"space-y-3",children:u.map(p=>l.jsx(pe,{variant:"interactive",className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:U("h-8 w-8 rounded-lg flex items-center justify-center shrink-0",p.type==="audio"?"bg-primary/10 text-primary":"bg-secondary text-secondary-foreground"),children:p.type==="audio"?l.jsx(Gf,{className:"h-4 w-4"}):l.jsx(zt,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:me(new Date(p.createdAt),"MMM d, h:mm a")}),p.type==="audio"&&l.jsx(ue,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:"Transcribed"})]}),l.jsx("p",{className:"text-sm text-foreground line-clamp-3",children:p.transcription||p.content}),p.topics.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[p.topics.slice(0,3).map(v=>l.jsx(ue,{variant:"secondary",className:"text-[10px]",children:v},v)),p.topics.length>3&&l.jsxs(ue,{variant:"secondary",className:"text-[10px]",children:["+",p.topics.length-3]})]})]}),l.jsx(wt,{className:"h-4 w-4 text-muted-foreground shrink-0"})]})},p.id))})})]})]})]})})}var IZ=[" ","Enter","ArrowUp","ArrowDown"],DZ=[" ","Enter"],Ra="Select",[Qm,Xm,LZ]=Ld(Ra),[Oc]=Ft(Ra,[LZ,Al]),Zm=Al(),[$Z,yi]=Oc(Ra),[FZ,zZ]=Oc(Ra),WP=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:p,form:v}=t,g=Zm(e),[y,x]=m.useState(null),[w,b]=m.useState(null),[k,S]=m.useState(!1),N=fa(d),[C,E]=Wn({prop:n,defaultProp:s??!1,onChange:o,caller:Ra}),[j,_]=Wn({prop:i,defaultProp:a,onChange:c,caller:Ra}),P=m.useRef(null),T=y?v||!!y.closest("form"):!0,[A,I]=m.useState(new Set),L=Array.from(A).map(F=>F.props.value).join(";");return l.jsx(wj,{...g,children:l.jsxs($Z,{required:p,scope:e,trigger:y,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:k,onValueNodeHasChildrenChange:S,contentId:hr(),value:j,onValueChange:_,open:C,onOpenChange:E,dir:N,triggerPointerDownPosRef:P,disabled:f,children:[l.jsx(Qm.Provider,{scope:e,children:l.jsx(FZ,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(F=>{I(V=>new Set(V).add(F))},[]),onNativeOptionRemove:m.useCallback(F=>{I(V=>{const O=new Set(V);return O.delete(F),O})},[]),children:r})}),T?l.jsxs(pA,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:j,onChange:F=>_(F.target.value),disabled:f,form:v,children:[j===void 0?l.jsx("option",{value:""}):null,Array.from(A)]},L):null]})})};WP.displayName=Ra;var HP="SelectTrigger",qP=m.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=Zm(r),i=yi(HP,r),a=i.disabled||n,c=we(e,i.onTriggerChange),d=Xm(r),u=m.useRef("touch"),[h,f,p]=gA(g=>{const y=d().filter(b=>!b.disabled),x=y.find(b=>b.value===i.value),w=vA(y,g,x);w!==void 0&&i.onValueChange(w.value)}),v=g=>{a||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(hx,{asChild:!0,...o,children:l.jsx(se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":mA(i.value)?"":void 0,...s,ref:c,onClick:Q(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:Q(s.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Q(s.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&IZ.includes(g.key)&&(v(),g.preventDefault())})})})});qP.displayName=HP;var KP="SelectValue",GP=m.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=t,c=yi(KP,r),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,h=we(e,c.onValueNodeChange);return gt(()=>{d(u)},[d,u]),l.jsx(se.span,{...a,ref:h,style:{pointerEvents:"none"},children:mA(c.value)?l.jsx(l.Fragment,{children:i}):o})});GP.displayName=KP;var BZ="SelectIcon",YP=m.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return l.jsx(se.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});YP.displayName=BZ;var UZ="SelectPortal",JP=t=>l.jsx($d,{asChild:!0,...t});JP.displayName=UZ;var Ma="SelectContent",QP=m.forwardRef((t,e)=>{const r=yi(Ma,t.__scopeSelect),[n,s]=m.useState();if(gt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?yn.createPortal(l.jsx(XP,{scope:t.__scopeSelect,children:l.jsx(Qm.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),o):null}return l.jsx(ZP,{...t,ref:e})});QP.displayName=Ma;var ns=10,[XP,xi]=Oc(Ma),VZ="SelectContentImpl",WZ=Qi("SelectContent.RemoveScroll"),ZP=m.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:y,...x}=t,w=yi(Ma,r),[b,k]=m.useState(null),[S,N]=m.useState(null),C=we(e,z=>k(z)),[E,j]=m.useState(null),[_,P]=m.useState(null),T=Xm(r),[A,I]=m.useState(!1),L=m.useRef(!1);m.useEffect(()=>{if(b)return Ux(b)},[b]),Dx();const F=m.useCallback(z=>{const[te,...ee]=T().map(ce=>ce.ref.current),[Z]=ee.slice(-1),ve=document.activeElement;for(const ce of z)if(ce===ve||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===te&&S&&(S.scrollTop=0),ce===Z&&S&&(S.scrollTop=S.scrollHeight),ce==null||ce.focus(),document.activeElement!==ve))return},[T,S]),V=m.useCallback(()=>F([E,b]),[F,E,b]);m.useEffect(()=>{A&&V()},[A,V]);const{onOpenChange:O,triggerPointerDownPosRef:D}=w;m.useEffect(()=>{if(b){let z={x:0,y:0};const te=Z=>{var ve,ce;z={x:Math.abs(Math.round(Z.pageX)-(((ve=D.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((ce=D.current)==null?void 0:ce.y)??0))}},ee=Z=>{z.x<=10&&z.y<=10?Z.preventDefault():b.contains(Z.target)||O(!1),document.removeEventListener("pointermove",te),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",ee,{capture:!0})}}},[b,O,D]),m.useEffect(()=>{const z=()=>O(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[O]);const[H,ne]=gA(z=>{const te=T().filter(ve=>!ve.disabled),ee=te.find(ve=>ve.ref.current===document.activeElement),Z=vA(te,z,ee);Z&&setTimeout(()=>Z.ref.current.focus())}),$=m.useCallback((z,te,ee)=>{const Z=!L.current&&!ee;(w.value!==void 0&&w.value===te||Z)&&(j(z),Z&&(L.current=!0))},[w.value]),G=m.useCallback(()=>b==null?void 0:b.focus(),[b]),J=m.useCallback((z,te,ee)=>{const Z=!L.current&&!ee;(w.value!==void 0&&w.value===te||Z)&&P(z)},[w.value]),M=n==="popper"?Eb:eA,B=M===Eb?{side:a,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return l.jsx(XP,{scope:r,content:b,viewport:S,onViewportChange:N,itemRefCallback:$,selectedItem:E,onItemLeave:G,itemTextRefCallback:J,focusSelectedItem:V,selectedItemText:_,position:n,isPositioned:A,searchRef:H,children:l.jsx(kp,{as:WZ,allowPinchZoom:!0,children:l.jsx(gp,{asChild:!0,trapped:w.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:Q(s,z=>{var te;(te=w.trigger)==null||te.focus({preventScroll:!0}),z.preventDefault()}),children:l.jsx(Sl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(M,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:z=>z.preventDefault(),...x,...B,onPlaced:()=>I(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Q(x.onKeyDown,z=>{const te=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!te&&z.key.length===1&&ne(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let Z=T().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(z.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ve=z.target,ce=Z.indexOf(ve);Z=Z.slice(ce+1)}setTimeout(()=>F(Z)),z.preventDefault()}})})})})})})});ZP.displayName=VZ;var HZ="SelectItemAlignedPosition",eA=m.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=yi(Ma,r),i=xi(Ma,r),[a,c]=m.useState(null),[d,u]=m.useState(null),h=we(e,C=>u(C)),f=Xm(r),p=m.useRef(!1),v=m.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:x,focusSelectedItem:w}=i,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&d&&g&&y&&x){const C=o.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),j=o.valueNode.getBoundingClientRect(),_=x.getBoundingClientRect();if(o.dir!=="rtl"){const ve=_.left-E.left,ce=j.left-ve,Le=C.left-ce,We=C.width+Le,It=Math.max(We,E.width),Dt=window.innerWidth-ns,Dn=Hu(ce,[ns,Math.max(ns,Dt-It)]);a.style.minWidth=We+"px",a.style.left=Dn+"px"}else{const ve=E.right-_.right,ce=window.innerWidth-j.right-ve,Le=window.innerWidth-C.right-ce,We=C.width+Le,It=Math.max(We,E.width),Dt=window.innerWidth-ns,Dn=Hu(ce,[ns,Math.max(ns,Dt-It)]);a.style.minWidth=We+"px",a.style.right=Dn+"px"}const P=f(),T=window.innerHeight-ns*2,A=g.scrollHeight,I=window.getComputedStyle(d),L=parseInt(I.borderTopWidth,10),F=parseInt(I.paddingTop,10),V=parseInt(I.borderBottomWidth,10),O=parseInt(I.paddingBottom,10),D=L+F+A+O+V,H=Math.min(y.offsetHeight*5,D),ne=window.getComputedStyle(g),$=parseInt(ne.paddingTop,10),G=parseInt(ne.paddingBottom,10),J=C.top+C.height/2-ns,M=T-J,B=y.offsetHeight/2,z=y.offsetTop+B,te=L+F+z,ee=D-te;if(te<=J){const ve=P.length>0&&y===P[P.length-1].ref.current;a.style.bottom="0px";const ce=d.clientHeight-g.offsetTop-g.offsetHeight,Le=Math.max(M,B+(ve?G:0)+ce+V),We=te+Le;a.style.height=We+"px"}else{const ve=P.length>0&&y===P[0].ref.current;a.style.top="0px";const Le=Math.max(J,L+g.offsetTop+(ve?$:0)+B)+ee;a.style.height=Le+"px",g.scrollTop=te-J+g.offsetTop}a.style.margin=`${ns}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,o.trigger,o.valueNode,a,d,g,y,x,o.dir,n]);gt(()=>b(),[b]);const[k,S]=m.useState();gt(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const N=m.useCallback(C=>{C&&v.current===!0&&(b(),w==null||w(),v.current=!1)},[b,w]);return l.jsx(KZ,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:l.jsx(se.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});eA.displayName=HZ;var qZ="SelectPopperPosition",Eb=m.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ns,...o}=t,i=Zm(r);return l.jsx(fx,{...i,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Eb.displayName=qZ;var[KZ,_b]=Oc(Ma,{}),Tb="SelectViewport",tA=m.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=xi(Tb,r),i=_b(Tb,r),a=we(e,o.onViewportChange),c=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Qm.Slot,{scope:r,children:l.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const v=window.innerHeight-ns*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),x=Math.max(g,y);if(x<v){const w=x+p,b=Math.min(v,w),k=w-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});tA.displayName=Tb;var rA="SelectGroup",[GZ,YZ]=Oc(rA),JZ=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=hr();return l.jsx(GZ,{scope:r,id:s,children:l.jsx(se.div,{role:"group","aria-labelledby":s,...n,ref:e})})});JZ.displayName=rA;var nA="SelectLabel",sA=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=YZ(nA,r);return l.jsx(se.div,{id:s.id,...n,ref:e})});sA.displayName=nA;var eg="SelectItem",[QZ,oA]=Oc(eg),iA=m.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=t,a=yi(eg,r),c=xi(eg,r),d=a.value===n,[u,h]=m.useState(o??""),[f,p]=m.useState(!1),v=we(e,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,n,s)}),g=hr(),y=m.useRef("touch"),x=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(QZ,{scope:r,value:n,disabled:s,textId:g,isSelected:d,onItemTextChange:m.useCallback(w=>{h(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(Qm.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:l.jsx(se.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:Q(i.onFocus,()=>p(!0)),onBlur:Q(i.onBlur,()=>p(!1)),onClick:Q(i.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:Q(i.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:Q(i.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Q(i.onPointerMove,w=>{var b;y.current=w.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Q(i.onKeyDown,w=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(DZ.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});iA.displayName=eg;var dh="SelectItemText",aA=m.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,i=yi(dh,r),a=xi(dh,r),c=oA(dh,r),d=zZ(dh,r),[u,h]=m.useState(null),f=we(e,x=>h(x),c.onItemTextChange,x=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,x,c.value,c.disabled)}),p=u==null?void 0:u.textContent,v=m.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return gt(()=>(g(v),()=>y(v)),[g,y,v]),l.jsxs(l.Fragment,{children:[l.jsx(se.span,{id:c.textId,...o,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?yn.createPortal(o.children,i.valueNode):null]})});aA.displayName=dh;var lA="SelectItemIndicator",cA=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return oA(lA,r).isSelected?l.jsx(se.span,{"aria-hidden":!0,...n,ref:e}):null});cA.displayName=lA;var Rb="SelectScrollUpButton",dA=m.forwardRef((t,e)=>{const r=xi(Rb,t.__scopeSelect),n=_b(Rb,t.__scopeSelect),[s,o]=m.useState(!1),i=we(e,n.onScrollButtonChange);return gt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=c.scrollTop>0;o(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(hA,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});dA.displayName=Rb;var Mb="SelectScrollDownButton",uA=m.forwardRef((t,e)=>{const r=xi(Mb,t.__scopeSelect),n=_b(Mb,t.__scopeSelect),[s,o]=m.useState(!1),i=we(e,n.onScrollButtonChange);return gt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(hA,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});uA.displayName=Mb;var hA=m.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=xi("SelectScrollButton",r),i=m.useRef(null),a=Xm(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),gt(()=>{var u;const d=a().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),l.jsx(se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Q(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{c()})})}),XZ="SelectSeparator",fA=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(se.div,{"aria-hidden":!0,...n,ref:e})});fA.displayName=XZ;var Ob="SelectArrow",ZZ=m.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Zm(r),o=yi(Ob,r),i=xi(Ob,r);return o.open&&i.position==="popper"?l.jsx(px,{...s,...n,ref:e}):null});ZZ.displayName=Ob;var eee="SelectBubbleInput",pA=m.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=m.useRef(null),o=we(n,s),i=tu(e);return m.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&u){const h=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(h)}},[i,e]),l.jsx(se.select,{...r,style:{...UN,...r.style},ref:o,defaultValue:e})});pA.displayName=eee;function mA(t){return t===""||t===void 0}function gA(t){const e=at(t),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const a=r.current+i;e(a),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function vA(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=tee(t,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function tee(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var ree=WP,yA=qP,nee=GP,see=YP,oee=JP,xA=QP,iee=tA,wA=sA,bA=iA,aee=aA,lee=cA,kA=dA,SA=uA,NA=fA;const _s=ree,Ts=nee,ss=m.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(yA,{ref:n,className:U("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(see,{asChild:!0,children:l.jsx(gC,{className:"h-4 w-4 opacity-50"})})]}));ss.displayName=yA.displayName;const CA=m.forwardRef(({className:t,...e},r)=>l.jsx(kA,{ref:r,className:U("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(W3,{className:"h-4 w-4"})}));CA.displayName=kA.displayName;const jA=m.forwardRef(({className:t,...e},r)=>l.jsx(SA,{ref:r,className:U("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(gC,{className:"h-4 w-4"})}));jA.displayName=SA.displayName;const is=m.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>l.jsx(oee,{children:l.jsxs(xA,{ref:s,className:U("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(CA,{}),l.jsx(iee,{className:U("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(jA,{})]})}));is.displayName=xA.displayName;const cee=m.forwardRef(({className:t,...e},r)=>l.jsx(wA,{ref:r,className:U("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));cee.displayName=wA.displayName;const Fe=m.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(bA,{ref:n,className:U("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(lee,{children:l.jsx(Xi,{className:"h-4 w-4"})})}),l.jsx(aee,{children:e})]}));Fe.displayName=bA.displayName;const dee=m.forwardRef(({className:t,...e},r)=>l.jsx(NA,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",t),...e}));dee.displayName=NA.displayName;const Pb=["#4285F4","#0078D4","#FF6B6B","#51CF66","#FF922B","#845EF7","#339AF0","#20C997"],EA=[{value:"google",label:"Google Calendar"},{value:"outlook",label:"Outlook / Office 365"},{value:"apple",label:"Apple Calendar"},{value:"other",label:"Other (ICS URL)"}];function _A({open:t,onOpenChange:e}){const{calendars:r,syncing:n,addCalendar:s,removeCalendar:o,toggleCalendar:i,syncCalendar:a}=Hm(),[c,d]=m.useState(!1),[u,h]=m.useState(!1),[f,p]=m.useState(!1),[v,g]=m.useState(!1),[y,x]=m.useState(""),[w,b]=m.useState(""),[k,S]=m.useState("google"),[N,C]=m.useState(Pb[0]),E=async()=>{const{data:{session:T}}=await q.auth.getSession();return T?`https://jqoaxvwjqgjxmenvuwql.supabase.co/functions/v1/generate-ics-feed?token=${T.access_token}`:(Se.error("Please sign in to sync your calendar"),null)},j=async()=>{h(!0);try{const T=await E();if(!T)return;const A=await fetch(T);if(!A.ok)throw new Error("Failed to download");const I=await A.blob(),L=URL.createObjectURL(I),F=document.createElement("a");F.href=L,F.download="forward-calendar.ics",document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(L),Se.success("Calendar file downloaded!")}catch{Se.error("Failed to download calendar file")}finally{h(!1)}},_=async()=>{const T=await E();if(T)try{await navigator.clipboard.writeText(T),d(!0),Se.success("Calendar link copied!"),setTimeout(()=>d(!1),2e3)}catch{Se.error("Failed to copy link")}},P=async()=>{if(!y.trim()||!w.trim()){Se.error("Please fill in all fields");return}p(!0);const T=await s(y.trim(),w.trim(),k,N);p(!1),T&&(g(!1),x(""),b(""),S("google"),C(Pb[0]))};return l.jsx(bn,{open:t,onOpenChange:e,children:l.jsxs(nn,{className:"sm:max-w-lg max-h-[85vh] overflow-y-auto",children:[l.jsxs(kn,{children:[l.jsxs(Sn,{className:"flex items-center gap-2",children:[l.jsx(Sr,{className:"h-5 w-5 text-primary"}),"Calendar Hub"]}),l.jsx(Hl,{children:"Import external calendars and export your Focus calendar."})]}),l.jsxs(no,{defaultValue:"import",className:"mt-2",children:[l.jsxs(ks,{className:"grid w-full grid-cols-2",children:[l.jsx(Ze,{value:"import",children:"Import Calendars"}),l.jsx(Ze,{value:"export",children:"Export"})]}),l.jsxs(et,{value:"import",className:"space-y-4 mt-4",children:[r.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-sm font-medium",children:"Connected Calendars"}),l.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>a(),disabled:n,children:[l.jsx(SC,{className:U("h-3 w-3 mr-1",n&&"animate-spin")}),n?"Syncing...":"Sync All"]})]}),r.map(T=>{var A;return l.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border p-3",children:[l.jsx("div",{className:"h-3 w-3 rounded-full shrink-0",style:{backgroundColor:T.color}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium truncate",children:T.name}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[((A=EA.find(I=>I.value===T.provider))==null?void 0:A.label)||T.provider,T.last_synced_at&&`  Last synced ${new Date(T.last_synced_at).toLocaleDateString()}`]})]}),l.jsx(Go,{checked:T.enabled,onCheckedChange:I=>i(T.id,I)}),l.jsx(K,{variant:"ghost",size:"icon-sm",className:"h-7 w-7 text-muted-foreground hover:text-destructive",onClick:()=>o(T.id),children:l.jsx(Hy,{className:"h-3.5 w-3.5"})})]},T.id)})]}),v?l.jsxs("div",{className:"space-y-3 rounded-lg border border-border p-4",children:[l.jsx("h4",{className:"text-sm font-medium",children:"Add Calendar"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"cal-name",className:"text-xs",children:"Calendar Name"}),l.jsx(Ce,{id:"cal-name",placeholder:"My Google Calendar",value:y,onChange:T=>x(T.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"cal-provider",className:"text-xs",children:"Provider"}),l.jsxs(_s,{value:k,onValueChange:T=>{S(T),T==="google"?C("#4285F4"):T==="outlook"?C("#0078D4"):T==="apple"&&C("#FF6B6B")},children:[l.jsx(ss,{children:l.jsx(Ts,{})}),l.jsx(is,{children:EA.map(T=>l.jsx(Fe,{value:T.value,children:T.label},T.value))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"cal-url",className:"text-xs",children:"ICS Feed URL"}),l.jsx(Ce,{id:"cal-url",placeholder:"https://calendar.google.com/calendar/ical/...",value:w,onChange:T=>b(T.target.value)}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[k==="google"&&"Google Calendar  Settings  Calendar settings  Secret address in iCal format",k==="outlook"&&"Outlook  Calendar  Settings  Shared calendars  Publish a calendar  ICS link",k==="apple"&&"iCloud  Calendar  Share Calendar  Public Calendar  Copy Link",k==="other"&&"Paste any valid ICS/iCal feed URL"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{className:"text-xs",children:"Color"}),l.jsx("div",{className:"flex gap-2",children:Pb.map(T=>l.jsx("button",{className:U("h-6 w-6 rounded-full border-2 transition-transform",N===T?"border-foreground scale-110":"border-transparent"),style:{backgroundColor:T},onClick:()=>C(T)},T))})]}),l.jsxs("div",{className:"flex gap-2 pt-1",children:[l.jsx(K,{onClick:P,disabled:f,size:"sm",children:f?"Adding...":"Add & Sync"}),l.jsx(K,{variant:"ghost",size:"sm",onClick:()=>g(!1),children:"Cancel"})]})]}):l.jsxs(K,{variant:"outline",className:"w-full",onClick:()=>g(!0),children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Add External Calendar"]}),r.length===0&&!v&&l.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[l.jsx(Sr,{className:"h-10 w-10 mx-auto mb-2 opacity-30"}),l.jsx("p",{className:"text-sm",children:"No external calendars connected yet."}),l.jsx("p",{className:"text-xs mt-1",children:"Add your Google Calendar or Outlook to see all events in one place."})]})]}),l.jsxs(et,{value:"export",className:"space-y-4 mt-4",children:[l.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4 space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium",children:"Subscribe via URL"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Copy this link and add it as a subscription in Google Calendar or Outlook."}),l.jsx(K,{onClick:_,className:"w-full",variant:"outline",children:c?l.jsxs(l.Fragment,{children:[l.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Copied!"]}):l.jsxs(l.Fragment,{children:[l.jsx(By,{className:"h-4 w-4 mr-2"}),"Copy Calendar URL"]})})]}),l.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4 space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium",children:"Download .ics File"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Download a snapshot to import into any calendar app."}),l.jsxs(K,{onClick:j,className:"w-full",disabled:u,children:[l.jsx(q3,{className:"h-4 w-4 mr-2"}),u?"Downloading...":"Download Calendar File"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"How to subscribe:"}),l.jsxs("div",{className:"space-y-1.5 text-xs text-muted-foreground",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-foreground",children:"Google:"})," Settings  Add calendar  From URL"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-foreground",children:"Outlook:"})," Add calendar  Subscribe from web"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-foreground",children:"Apple:"})," File  New Calendar Subscription"]})]})]})]})]})]})})}function TA({open:t,onOpenChange:e}){const{classes:r,addEvent:n}=Ot(),[s,o]=m.useState(""),[i,a]=m.useState(""),[c,d]=m.useState(""),[u,h]=m.useState("09:00"),[f,p]=m.useState("10:00"),[v,g]=m.useState(""),[y,x]=m.useState("lecture"),w=()=>{if(!s||!i||!c)return;const b={id:`event-${Date.now()}`,classId:i,userId:"user-1",title:s,date:new Date(c),startTime:u,endTime:f,type:y,location:v||void 0,notes:[],createdAt:new Date};n(b),e(!1),o(""),a(""),d(""),h("09:00"),p("10:00"),g(""),x("lecture")};return l.jsx(bn,{open:t,onOpenChange:e,children:l.jsxs(nn,{className:"sm:max-w-[425px]",children:[l.jsxs(kn,{children:[l.jsx(Sn,{children:"Add Event"}),l.jsx(Hl,{children:"Create a new event on your calendar."})]}),l.jsxs("div",{className:"space-y-4 pt-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"event-title",children:"Title *"}),l.jsx(Ce,{id:"event-title",placeholder:"e.g., Midterm Review Session",value:s,onChange:b=>o(b.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Class *"}),l.jsxs(_s,{value:i,onValueChange:a,children:[l.jsx(ss,{children:l.jsx(Ts,{placeholder:"Select a class"})}),l.jsx(is,{children:r.map(b=>l.jsx(Fe,{value:b.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:b.color}}),b.code," - ",b.name]})},b.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Type"}),l.jsxs(_s,{value:y,onValueChange:b=>x(b),children:[l.jsx(ss,{children:l.jsx(Ts,{})}),l.jsxs(is,{children:[l.jsx(Fe,{value:"lecture",children:"Lecture"}),l.jsx(Fe,{value:"lab",children:"Lab"}),l.jsx(Fe,{value:"exam",children:"Exam"}),l.jsx(Fe,{value:"office-hours",children:"Office Hours"}),l.jsx(Fe,{value:"study-session",children:"Study Session"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"event-date",children:"Date *"}),l.jsx(Ce,{id:"event-date",type:"date",value:c,onChange:b=>d(b.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"event-start",children:"Start Time"}),l.jsx(Ce,{id:"event-start",type:"time",value:u,onChange:b=>h(b.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"event-end",children:"End Time"}),l.jsx(Ce,{id:"event-end",type:"time",value:f,onChange:b=>p(b.target.value)})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"event-location",children:"Location"}),l.jsx(Ce,{id:"event-location",placeholder:"e.g., Room 201",value:v,onChange:b=>g(b.target.value)})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx(K,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),l.jsx(K,{onClick:w,disabled:!s||!i||!c,children:"Add Event"})]})]})]})})}function uee(){const{calendarView:t,setCalendarView:e,setSelectedEvent:r,selectedEvent:n}=Ot(),[s,o]=m.useState(!1),[i,a]=m.useState(!1),[c,d]=m.useState(!1);Zs();const u=du(),h=v=>{r(v),o(!0)},f=v=>{console.log("Date clicked:",v)},p=[{value:"month",icon:X3},{value:"week",icon:wC}];return u?l.jsxs("div",{className:"h-screen flex flex-col",children:[l.jsxs("header",{className:"flex items-center justify-between px-4 py-2 border-b border-border bg-background/80 backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uo,{}),l.jsx("h1",{className:"text-lg font-bold text-foreground",children:"Calendar"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(K,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>d(!0),children:l.jsx(Rt,{className:"h-3.5 w-3.5"})}),l.jsx(K,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>a(!0),children:l.jsx(CC,{className:"h-3.5 w-3.5"})})]})]}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx(xZ,{onEventClick:h,onDateClick:f})}),l.jsx(VP,{event:n,open:s,onOpenChange:o}),l.jsx(_A,{open:i,onOpenChange:a}),l.jsx(TA,{open:c,onOpenChange:d})]}):l.jsxs("div",{className:"h-screen flex flex-col",children:[l.jsxs("header",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 px-4 sm:px-6 py-5 border-b border-border bg-background/95 backdrop-blur-sm",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground tracking-tight",children:"Calendar"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Your class schedule and lecture notes"})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[l.jsxs(K,{variant:"glow",size:"sm",onClick:()=>d(!0),children:[l.jsx(Rt,{className:"h-4 w-4 mr-1"}),"Add Event"]}),l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>a(!0),children:[l.jsx(CC,{className:"h-4 w-4 mr-1"}),"Sync"]}),l.jsx("div",{className:"flex rounded-lg border border-border p-1 ml-auto sm:ml-0",children:p.map(({value:v,icon:g})=>l.jsxs(K,{variant:t===v?"secondary":"ghost",size:"sm",onClick:()=>e(v),className:U("capitalize",t===v&&"shadow-sm"),children:[l.jsx(g,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"hidden sm:inline",children:v})]},v))})]})]}),l.jsx("div",{className:"flex-1 overflow-hidden",children:t==="month"?l.jsx(mZ,{onEventClick:h,onDateClick:f}):l.jsx(gZ,{onEventClick:h,onDateClick:f})}),l.jsx(VP,{event:n,open:s,onOpenChange:o}),l.jsx(_A,{open:i,onOpenChange:a}),l.jsx(TA,{open:c,onOpenChange:d})]})}const uh=m.forwardRef(({className:t,...e},r)=>l.jsx("textarea",{className:U("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));uh.displayName="Textarea";const Pc=["#14b8a6","#f59e0b","#8b5cf6","#ec4899","#6366f1","#22c55e","#ef4444","#3b82f6","#f97316","#a855f7"],tg=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function hee({open:t,onOpenChange:e,initialData:r}){const{createClass:n,isCreating:s}=ha(),[o,i]=m.useState(1),[a,c]=m.useState({name:(r==null?void 0:r.name)||"",code:(r==null?void 0:r.code)||"",professor_name:(r==null?void 0:r.professor_name)||"",professor_email:(r==null?void 0:r.professor_email)||"",color:(r==null?void 0:r.color)||Pc[0],meeting_days:(r==null?void 0:r.meeting_days)||[],start_time:(r==null?void 0:r.start_time)||"09:00",end_time:(r==null?void 0:r.end_time)||"10:30",location:(r==null?void 0:r.location)||"",timezone:(r==null?void 0:r.timezone)||Intl.DateTimeFormat().resolvedOptions().timeZone,semester_start:(r==null?void 0:r.semester_start)||me(new Date,"yyyy-MM-dd"),semester_end:(r==null?void 0:r.semester_end)||me(new Date(new Date().setMonth(new Date().getMonth()+4)),"yyyy-MM-dd"),section_number:(r==null?void 0:r.section_number)||"",office_hours_day:(r==null?void 0:r.office_hours_day)||"",office_hours_time:(r==null?void 0:r.office_hours_time)||"",office_hours_location:(r==null?void 0:r.office_hours_location)||"",class_website:(r==null?void 0:r.class_website)||"",notes:(r==null?void 0:r.notes)||""}),[d,u]=m.useState({}),h=(w,b)=>{c(k=>({...k,[w]:b})),d[w]&&u(k=>({...k,[w]:""}))},f=w=>{c(b=>({...b,meeting_days:b.meeting_days.includes(w)?b.meeting_days.filter(k=>k!==w):[...b.meeting_days,w].sort()}))},p=()=>{const w={};return a.name.trim()||(w.name="Course name is required"),a.professor_name.trim()||(w.professor_name="Professor name is required"),u(w),Object.keys(w).length===0},v=()=>{const w={};return a.meeting_days.length===0&&(w.meeting_days="Select at least one meeting day"),a.start_time||(w.start_time="Start time is required"),a.end_time||(w.end_time="End time is required"),a.location.trim()||(w.location="Location is required"),u(w),Object.keys(w).length===0},g=()=>{o===1&&p()?i(2):o===2&&v()&&i(3)},y=()=>{o>1&&i(o-1)},x=()=>{n(a,{onSuccess:()=>{e(!1),i(1),c({name:"",code:"",professor_name:"",professor_email:"",color:Pc[0],meeting_days:[],start_time:"09:00",end_time:"10:30",location:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,semester_start:me(new Date,"yyyy-MM-dd"),semester_end:me(new Date(new Date().setMonth(new Date().getMonth()+4)),"yyyy-MM-dd"),section_number:"",office_hours_day:"",office_hours_time:"",office_hours_location:"",class_website:"",notes:""})}})};return l.jsx(bn,{open:t,onOpenChange:e,children:l.jsxs(nn,{className:"sm:max-w-[500px]",children:[l.jsx(kn,{children:l.jsx(Sn,{children:"Add New Class"})}),l.jsx("div",{className:"flex items-center gap-2 mb-6",children:[1,2,3].map(w=>l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:U("h-2 rounded-full transition-colors",w<=o?"bg-primary":"bg-secondary")}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[w===1&&"Basic Info",w===2&&"Schedule",w===3&&"Optional"]})]},w))}),o===1&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"name",children:"Course Name *"}),l.jsx(Ce,{id:"name",placeholder:"e.g., Introduction to Biology",value:a.name,onChange:w=>h("name",w.target.value)}),d.name&&l.jsx("p",{className:"text-sm text-destructive",children:d.name})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"code",children:"Course Code"}),l.jsx(Ce,{id:"code",placeholder:"e.g., BIO 101",value:a.code,onChange:w=>h("code",w.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"professor",children:"Professor Name *"}),l.jsx(Ce,{id:"professor",placeholder:"e.g., Dr. Sarah Chen",value:a.professor_name,onChange:w=>h("professor_name",w.target.value)}),d.professor_name&&l.jsx("p",{className:"text-sm text-destructive",children:d.professor_name})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"email",children:"Professor Email"}),l.jsx(Ce,{id:"email",type:"email",placeholder:"professor@university.edu",value:a.professor_email,onChange:w=>h("professor_email",w.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Class Color"}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:Pc.map(w=>l.jsx("button",{type:"button",className:U("h-8 w-8 rounded-full transition-all",a.color===w&&"ring-2 ring-offset-2 ring-primary"),style:{backgroundColor:w},onClick:()=>h("color",w)},w))})]})]}),o===2&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Meeting Days *"}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:tg.map((w,b)=>l.jsx(ue,{variant:a.meeting_days.includes(b)?"default":"outline",className:"cursor-pointer px-3 py-1.5",onClick:()=>f(b),children:w},w))}),d.meeting_days&&l.jsx("p",{className:"text-sm text-destructive",children:d.meeting_days})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"start_time",children:"Start Time *"}),l.jsx(Ce,{id:"start_time",type:"time",value:a.start_time,onChange:w=>h("start_time",w.target.value)}),d.start_time&&l.jsx("p",{className:"text-sm text-destructive",children:d.start_time})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"end_time",children:"End Time *"}),l.jsx(Ce,{id:"end_time",type:"time",value:a.end_time,onChange:w=>h("end_time",w.target.value)}),d.end_time&&l.jsx("p",{className:"text-sm text-destructive",children:d.end_time})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"location",children:"Location *"}),l.jsx(Ce,{id:"location",placeholder:"e.g., Engineering Hall 201 or 'Online'",value:a.location,onChange:w=>h("location",w.target.value)}),d.location&&l.jsx("p",{className:"text-sm text-destructive",children:d.location})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"semester_start",children:"Semester Start"}),l.jsx(Ce,{id:"semester_start",type:"date",value:a.semester_start,onChange:w=>h("semester_start",w.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"semester_end",children:"Semester End"}),l.jsx(Ce,{id:"semester_end",type:"date",value:a.semester_end,onChange:w=>h("semester_end",w.target.value)})]})]})]}),o===3&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"section",children:"Section Number"}),l.jsx(Ce,{id:"section",placeholder:"e.g., 001",value:a.section_number,onChange:w=>h("section_number",w.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Office Hours"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx(Ce,{placeholder:"Day",value:a.office_hours_day,onChange:w=>h("office_hours_day",w.target.value)}),l.jsx(Ce,{placeholder:"Time",value:a.office_hours_time,onChange:w=>h("office_hours_time",w.target.value)}),l.jsx(Ce,{placeholder:"Location",value:a.office_hours_location,onChange:w=>h("office_hours_location",w.target.value)})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"website",children:"Class Website / LMS Link"}),l.jsx(Ce,{id:"website",type:"url",placeholder:"https://canvas.university.edu/course/...",value:a.class_website,onChange:w=>h("class_website",w.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"notes",children:"Notes"}),l.jsx(uh,{id:"notes",placeholder:"Any additional notes about this class...",value:a.notes,onChange:w=>h("notes",w.target.value),rows:3})]})]}),l.jsxs("div",{className:"flex justify-between mt-6",children:[o>1?l.jsx(K,{variant:"outline",onClick:y,children:"Back"}):l.jsx("div",{}),o<3?l.jsx(K,{onClick:g,children:"Next"}):l.jsx(K,{onClick:x,disabled:s,children:s?"Creating...":"Create Class"})]})]})})}var rg="Checkbox",[fee]=Ft(rg),[pee,Ab]=fee(rg);function mee(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=t,[f,p]=Wn({prop:r,defaultProp:s??!1,onChange:c,caller:rg}),[v,g]=m.useState(null),[y,x]=m.useState(null),w=m.useRef(!1),b=v?!!i||!!v.closest("form"):!0,k={checked:f,disabled:o,setChecked:p,control:v,setControl:g,name:a,form:i,value:u,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:wi(s)?!1:s,isFormControl:b,bubbleInput:y,setBubbleInput:x};return l.jsx(pee,{scope:e,...k,children:gee(h)?h(k):n})}var RA="CheckboxTrigger",MA=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},s)=>{const{control:o,value:i,disabled:a,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:v}=Ab(RA,t),g=we(s,u),y=m.useRef(c);return m.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const w=()=>h(y.current);return x.addEventListener("reset",w),()=>x.removeEventListener("reset",w)}},[o,h]),l.jsx(se.button,{type:"button",role:"checkbox","aria-checked":wi(c)?"mixed":c,"aria-required":d,"data-state":DA(c),"data-disabled":a?"":void 0,disabled:a,value:i,...n,ref:g,onKeyDown:Q(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Q(r,x=>{h(w=>wi(w)?!0:!w),v&&p&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})})});MA.displayName=RA;var Ib=m.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c,onCheckedChange:d,form:u,...h}=t;return l.jsx(mee,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>l.jsxs(l.Fragment,{children:[l.jsx(MA,{...h,ref:e,__scopeCheckbox:r}),f&&l.jsx(IA,{__scopeCheckbox:r})]})})});Ib.displayName=rg;var OA="CheckboxIndicator",PA=m.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,o=Ab(OA,r);return l.jsx(er,{present:n||wi(o.checked)||o.checked===!0,children:l.jsx(se.span,{"data-state":DA(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});PA.displayName=OA;var AA="CheckboxBubbleInput",IA=m.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:p}=Ab(AA,t),v=we(r,p),g=tu(o),y=Jd(n);m.useEffect(()=>{const w=f;if(!w)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set,N=!s.current;if(g!==o&&S){const C=new Event("click",{bubbles:N});w.indeterminate=wi(o),S.call(w,wi(o)?!1:o),w.dispatchEvent(C)}},[f,g,o,s]);const x=m.useRef(wi(o)?!1:o);return l.jsx(se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:a,disabled:c,name:d,value:u,form:h,...e,tabIndex:-1,ref:v,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});IA.displayName=AA;function gee(t){return typeof t=="function"}function wi(t){return t==="indeterminate"}function DA(t){return wi(t)?"indeterminate":t?"checked":"unchecked"}const ng=m.forwardRef(({className:t,...e},r)=>l.jsx(Ib,{ref:r,className:U("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(PA,{className:U("flex items-center justify-center text-current"),children:l.jsx(Xi,{className:"h-4 w-4"})})}));ng.displayName=Ib.displayName;function vee(){const[t,e]=m.useState(!1),[r,n]=m.useState(null),{toast:s}=gs(),o=async d=>{const u=await d.text();if(u.includes("%PDF-")){const h=u.match(/stream[\r\n]+([\s\S]*?)[\r\n]+endstream/g);if(h){const f=[];for(const p of h){const v=p.replace(/[^\x20-\x7E\r\n]/g," ").trim();v.length>50&&f.push(v)}if(f.length>0)return f.join(`

`)}return u.replace(/[^\x20-\x7E\r\n]/g," ").replace(/\s+/g," ").slice(0,5e4)}return u};return{isParsing:t,extractedData:r,parseSyllabus:async d=>{e(!0),n(null);try{const u=await o(d);if(!u||u.length<100)return s({title:"Could not read PDF",description:"The PDF appears to be scanned or empty. Please try a text-based PDF or enter information manually.",variant:"destructive"}),null;const{data:h,error:f}=await q.functions.invoke("parse-syllabus",{body:{syllabusText:u.slice(0,3e4),fileName:d.name}});if(f)throw f;if(!(h!=null&&h.success)||!(h!=null&&h.data))throw new Error((h==null?void 0:h.error)||"Failed to extract syllabus information");const p=h.data;return n(p),s({title:"Syllabus parsed",description:"Review the extracted information below."}),p}catch(u){return console.error("Error parsing syllabus:",u),s({title:"Failed to parse syllabus",description:u instanceof Error?u.message:"An error occurred",variant:"destructive"}),null}finally{e(!1)}},uploadSyllabus:async(d,u)=>{try{const{data:{user:h}}=await q.auth.getUser();if(!h)throw new Error("Not authenticated");const f=`${h.id}/${u}/${d.name}`,{error:p}=await q.storage.from("syllabi").upload(f,d,{upsert:!0});if(p)throw p;const{data:{publicUrl:v}}=q.storage.from("syllabi").getPublicUrl(f);return v}catch(h){return console.error("Error uploading syllabus:",h),null}},clearExtraction:()=>{n(null)}}}function yee({open:t,onOpenChange:e}){var T,A,I;const r=m.useRef(null),{isParsing:n,parseSyllabus:s,clearExtraction:o}=vee(),{createClass:i,isCreating:a}=ha(),{toast:c}=gs(),[d,u]=m.useState("upload"),[h,f]=m.useState(null),[p,v]=m.useState(null),[g,y]=m.useState(new Set),[x,w]=m.useState(Pc[0]),b=m.useCallback(async L=>{var V;if(!L.type.includes("pdf")){c({title:"Invalid file type",description:"Please upload a PDF file.",variant:"destructive"});return}f(L);const F=await s(L);F&&(v(F),y(new Set(((V=F.deadlines)==null?void 0:V.map((O,D)=>D))||[])),u("review"))},[s,c]),k=m.useCallback(L=>{L.preventDefault();const F=L.dataTransfer.files[0];F&&b(F)},[b]),S=L=>{L.preventDefault()},N=(L,F)=>{v(V=>V?{...V,[L]:F}:null)},C=L=>{if(!p)return;const F=p.meetingDays.includes(L)?p.meetingDays.filter(V=>V!==L):[...p.meetingDays,L].sort();N("meetingDays",F)},E=L=>{y(F=>{const V=new Set(F);return V.has(L)?V.delete(L):V.add(L),V})},j=async()=>{var F,V,O,D,H,ne;if(!p)return;if(!((F=p.courseName)!=null&&F.trim())){c({title:"Course name is required",variant:"destructive"});return}if(!((V=p.professorName)!=null&&V.trim())){c({title:"Professor name is required",variant:"destructive"});return}if(!((O=p.location)!=null&&O.trim())){c({title:"Location is required",variant:"destructive"});return}if(p.meetingDays.length===0){c({title:"At least one meeting day is required",variant:"destructive"});return}if(!p.startTime||!p.endTime){c({title:"Meeting times are required",variant:"destructive"});return}const L={name:p.courseName,code:p.courseCode||"",professor_name:p.professorName,professor_email:p.professorEmail||"",color:x,meeting_days:p.meetingDays,start_time:p.startTime,end_time:p.endTime,location:p.location,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,semester_start:p.semesterStart||me(new Date,"yyyy-MM-dd"),semester_end:p.semesterEnd||me(new Date(new Date().setMonth(new Date().getMonth()+4)),"yyyy-MM-dd"),section_number:"",office_hours_day:((D=p.officeHours)==null?void 0:D.day)||"",office_hours_time:((H=p.officeHours)==null?void 0:H.time)||"",office_hours_location:((ne=p.officeHours)==null?void 0:ne.location)||"",class_website:"",notes:""};i(L,{onSuccess:async $=>{var J;const{data:{user:G}}=await q.auth.getUser();if(G&&((J=p.deadlines)==null?void 0:J.length)>0){const M=p.deadlines.filter((B,z)=>g.has(z)).map(B=>({class_id:$.id,user_id:G.id,title:B.title,description:B.description,deadline_type:B.type,due_date:B.dueDate,weight:B.weight,status:"upcoming",source:"syllabus"}));M.length>0&&await q.from("deadlines").insert(M)}c({title:"Class created from syllabus",description:`${L.name} has been added with ${g.size} deadlines.`}),_()}})},_=()=>{u("upload"),f(null),v(null),y(new Set),w(Pc[0]),o(),e(!1)},P=({level:L})=>{const F={high:"bg-green-500/10 text-green-500",medium:"bg-yellow-500/10 text-yellow-500",low:"bg-red-500/10 text-red-500"};return l.jsxs(ue,{variant:"outline",className:U("text-xs",F[L]),children:[L==="low"&&l.jsx(zd,{className:"h-3 w-3 mr-1"}),L," confidence"]})};return l.jsx(bn,{open:t,onOpenChange:_,children:l.jsxs(nn,{className:"sm:max-w-[600px] max-h-[85vh]",children:[l.jsx(kn,{children:l.jsxs(Sn,{children:[d==="upload"&&"Import Syllabus",d==="review"&&"Review Extracted Information"]})}),d==="upload"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:U("border-2 border-dashed rounded-lg p-8 text-center transition-colors",n?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onDrop:k,onDragOver:S,children:n?l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx(Bt,{className:"h-10 w-10 text-primary animate-spin"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzing syllabus with AI..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(EC,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),l.jsx("p",{className:"font-medium mb-1",children:"Drop your syllabus PDF here"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse"}),l.jsx(K,{variant:"outline",onClick:()=>{var L;return(L=r.current)==null?void 0:L.click()},children:"Choose File"}),l.jsx("input",{ref:r,type:"file",accept:".pdf",className:"hidden",onChange:L=>{var V;const F=(V=L.target.files)==null?void 0:V[0];F&&b(F)}})]})}),h&&!n&&l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary rounded-lg",children:[l.jsx(zt,{className:"h-5 w-5 text-muted-foreground"}),l.jsx("span",{className:"flex-1 text-sm truncate",children:h.name})]})]}),d==="review"&&p&&l.jsx(Pn,{className:"max-h-[60vh] pr-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold",children:"Course Information"}),l.jsx(P,{level:((T=p.confidence)==null?void 0:T.courseName)||"medium"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Course Name *"}),l.jsx(Ce,{value:p.courseName||"",onChange:L=>N("courseName",L.target.value),className:p.courseName?"":"border-destructive"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Course Code"}),l.jsx(Ce,{value:p.courseCode||"",onChange:L=>N("courseCode",L.target.value)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Professor *"}),l.jsx(Ce,{value:p.professorName||"",onChange:L=>N("professorName",L.target.value),className:p.professorName?"":"border-destructive"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Email"}),l.jsx(Ce,{value:p.professorEmail||"",onChange:L=>N("professorEmail",L.target.value)})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Class Color"}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:Pc.map(L=>l.jsx("button",{type:"button",className:U("h-7 w-7 rounded-full transition-all",x===L&&"ring-2 ring-offset-2 ring-primary"),style:{backgroundColor:L},onClick:()=>w(L)},L))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold",children:"Schedule"}),l.jsx(P,{level:((A=p.confidence)==null?void 0:A.schedule)||"medium"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Meeting Days *"}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:tg.map((L,F)=>l.jsx(ue,{variant:p.meetingDays.includes(F)?"default":"outline",className:"cursor-pointer px-3 py-1.5",onClick:()=>C(F),children:L},L))})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Start Time *"}),l.jsx(Ce,{type:"time",value:p.startTime||"",onChange:L=>N("startTime",L.target.value),className:p.startTime?"":"border-destructive"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"End Time *"}),l.jsx(Ce,{type:"time",value:p.endTime||"",onChange:L=>N("endTime",L.target.value),className:p.endTime?"":"border-destructive"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Location *"}),l.jsx(Ce,{value:p.location||"",onChange:L=>N("location",L.target.value),className:p.location?"":"border-destructive"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Semester Start"}),l.jsx(Ce,{type:"date",value:p.semesterStart||"",onChange:L=>N("semesterStart",L.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Semester End"}),l.jsx(Ce,{type:"date",value:p.semesterEnd||"",onChange:L=>N("semesterEnd",L.target.value)})]})]})]}),p.deadlines&&p.deadlines.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"font-semibold",children:["Extracted Deadlines (",g.size," selected)"]}),l.jsx(P,{level:((I=p.confidence)==null?void 0:I.deadlines)||"medium"})]}),l.jsx("div",{className:"space-y-2",children:p.deadlines.map((L,F)=>l.jsx(pe,{className:U("cursor-pointer transition-colors",g.has(F)?"border-primary":"opacity-60"),onClick:()=>E(F),children:l.jsxs(xe,{className:"p-3 flex items-start gap-3",children:[l.jsx(ng,{checked:g.has(F),className:"mt-0.5"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-sm",children:L.title}),l.jsx(ue,{variant:"outline",className:"text-xs",children:L.type})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Due: ",me(new Date(L.dueDate),"MMM d, yyyy"),L.weight&&`  ${L.weight}%`]})]})]})},F))})]})]})}),l.jsx("div",{className:"flex justify-between mt-6 pt-4 border-t",children:d==="review"?l.jsxs(l.Fragment,{children:[l.jsx(K,{variant:"outline",onClick:()=>u("upload"),children:"Back"}),l.jsx(K,{onClick:j,disabled:a,children:a?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Class"})]}):l.jsx(K,{variant:"outline",onClick:_,className:"ml-auto",children:"Cancel"})})]})})}var Db=["Enter"," "],xee=["ArrowDown","PageUp","Home"],LA=["ArrowUp","PageDown","End"],wee=[...xee,...LA],bee={ltr:[...Db,"ArrowRight"],rtl:[...Db,"ArrowLeft"]},kee={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hh="Menu",[fh,See,Nee]=Ld(hh),[Oa,$A]=Ft(hh,[Nee,Al,sc]),sg=Al(),FA=sc(),[Cee,Pa]=Oa(hh),[jee,ph]=Oa(hh),zA=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=t,a=sg(e),[c,d]=m.useState(null),u=m.useRef(!1),h=at(o),f=fa(s);return m.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(wj,{...a,children:l.jsx(Cee,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d,children:l.jsx(jee,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:i,children:n})})})};zA.displayName=hh;var Eee="MenuAnchor",Lb=m.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=sg(r);return l.jsx(hx,{...s,...n,ref:e})});Lb.displayName=Eee;var $b="MenuPortal",[_ee,BA]=Oa($b,{forceMount:void 0}),UA=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=Pa($b,e);return l.jsx(_ee,{scope:e,forceMount:r,children:l.jsx(er,{present:r||o.open,children:l.jsx($d,{asChild:!0,container:s,children:n})})})};UA.displayName=$b;var An="MenuContent",[Tee,Fb]=Oa(An),VA=m.forwardRef((t,e)=>{const r=BA(An,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Pa(An,t.__scopeMenu),i=ph(An,t.__scopeMenu);return l.jsx(fh.Provider,{scope:t.__scopeMenu,children:l.jsx(er,{present:n||o.open,children:l.jsx(fh.Slot,{scope:t.__scopeMenu,children:i.modal?l.jsx(Ree,{...s,ref:e}):l.jsx(Mee,{...s,ref:e})})})})}),Ree=m.forwardRef((t,e)=>{const r=Pa(An,t.__scopeMenu),n=m.useRef(null),s=we(e,n);return m.useEffect(()=>{const o=n.current;if(o)return Ux(o)},[]),l.jsx(zb,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Q(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Mee=m.forwardRef((t,e)=>{const r=Pa(An,t.__scopeMenu);return l.jsx(zb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Oee=Qi("MenuContent.ScrollLock"),zb=m.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:v,...g}=t,y=Pa(An,r),x=ph(An,r),w=sg(r),b=FA(r),k=See(r),[S,N]=m.useState(null),C=m.useRef(null),E=we(e,C,y.onContentChange),j=m.useRef(0),_=m.useRef(""),P=m.useRef(0),T=m.useRef(null),A=m.useRef("right"),I=m.useRef(0),L=v?kp:m.Fragment,F=v?{as:Oee,allowPinchZoom:!0}:void 0,V=D=>{var z,te;const H=_.current+D,ne=k().filter(ee=>!ee.disabled),$=document.activeElement,G=(z=ne.find(ee=>ee.ref.current===$))==null?void 0:z.textValue,J=ne.map(ee=>ee.textValue),M=Wee(J,H,G),B=(te=ne.find(ee=>ee.textValue===M))==null?void 0:te.ref.current;(function ee(Z){_.current=Z,window.clearTimeout(j.current),Z!==""&&(j.current=window.setTimeout(()=>ee(""),1e3))})(H),B&&setTimeout(()=>B.focus())};m.useEffect(()=>()=>window.clearTimeout(j.current),[]),Dx();const O=m.useCallback(D=>{var ne,$;return A.current===((ne=T.current)==null?void 0:ne.side)&&qee(D,($=T.current)==null?void 0:$.area)},[]);return l.jsx(Tee,{scope:r,searchRef:_,onItemEnter:m.useCallback(D=>{O(D)&&D.preventDefault()},[O]),onItemLeave:m.useCallback(D=>{var H;O(D)||((H=C.current)==null||H.focus(),N(null))},[O]),onTriggerLeave:m.useCallback(D=>{O(D)&&D.preventDefault()},[O]),pointerGraceTimerRef:P,onPointerGraceIntentChange:m.useCallback(D=>{T.current=D},[]),children:l.jsx(L,{...F,children:l.jsx(gp,{asChild:!0,trapped:s,onMountAutoFocus:Q(o,D=>{var H;D.preventDefault(),(H=C.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(Sl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:l.jsx(Ew,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:Q(c,D=>{x.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(fx,{role:"menu","aria-orientation":"vertical","data-state":iI(y.open),"data-radix-menu-content":"",dir:x.dir,...w,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:Q(g.onKeyDown,D=>{const ne=D.target.closest("[data-radix-menu-content]")===D.currentTarget,$=D.ctrlKey||D.altKey||D.metaKey,G=D.key.length===1;ne&&(D.key==="Tab"&&D.preventDefault(),!$&&G&&V(D.key));const J=C.current;if(D.target!==J||!wee.includes(D.key))return;D.preventDefault();const B=k().filter(z=>!z.disabled).map(z=>z.ref.current);LA.includes(D.key)&&B.reverse(),Uee(B)}),onBlur:Q(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(j.current),_.current="")}),onPointerMove:Q(t.onPointerMove,gh(D=>{const H=D.target,ne=I.current!==D.clientX;if(D.currentTarget.contains(H)&&ne){const $=D.clientX>I.current?"right":"left";A.current=$,I.current=D.clientX}}))})})})})})})});VA.displayName=An;var Pee="MenuGroup",Bb=m.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(se.div,{role:"group",...n,ref:e})});Bb.displayName=Pee;var Aee="MenuLabel",WA=m.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(se.div,{...n,ref:e})});WA.displayName=Aee;var og="MenuItem",HA="menu.itemSelect",ig=m.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=m.useRef(null),i=ph(og,t.__scopeMenu),a=Fb(og,t.__scopeMenu),c=we(e,o),d=m.useRef(!1),u=()=>{const h=o.current;if(!r&&h){const f=new CustomEvent(HA,{bubbles:!0,cancelable:!0});h.addEventListener(HA,p=>n==null?void 0:n(p),{once:!0}),Oy(h,f),f.defaultPrevented?d.current=!1:i.onClose()}};return l.jsx(qA,{...s,ref:c,disabled:r,onClick:Q(t.onClick,u),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),d.current=!0},onPointerUp:Q(t.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Q(t.onKeyDown,h=>{const f=a.searchRef.current!=="";r||f&&h.key===" "||Db.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ig.displayName=og;var qA=m.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,i=Fb(og,r),a=FA(r),c=m.useRef(null),d=we(e,c),[u,h]=m.useState(!1),[f,p]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[o.children]),l.jsx(fh.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:l.jsx(_w,{asChild:!0,...a,focusable:!n,children:l.jsx(se.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:Q(t.onPointerMove,gh(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(t.onPointerLeave,gh(v=>i.onItemLeave(v))),onFocus:Q(t.onFocus,()=>h(!0)),onBlur:Q(t.onBlur,()=>h(!1))})})})}),Iee="MenuCheckboxItem",KA=m.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return l.jsx(XA,{scope:t.__scopeMenu,checked:r,children:l.jsx(ig,{role:"menuitemcheckbox","aria-checked":ag(r)?"mixed":r,...s,ref:e,"data-state":Vb(r),onSelect:Q(s.onSelect,()=>n==null?void 0:n(ag(r)?!0:!r),{checkForDefaultPrevented:!1})})})});KA.displayName=Iee;var GA="MenuRadioGroup",[Dee,Lee]=Oa(GA,{value:void 0,onValueChange:()=>{}}),YA=m.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=at(n);return l.jsx(Dee,{scope:t.__scopeMenu,value:r,onValueChange:o,children:l.jsx(Bb,{...s,ref:e})})});YA.displayName=GA;var JA="MenuRadioItem",QA=m.forwardRef((t,e)=>{const{value:r,...n}=t,s=Lee(JA,t.__scopeMenu),o=r===s.value;return l.jsx(XA,{scope:t.__scopeMenu,checked:o,children:l.jsx(ig,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":Vb(o),onSelect:Q(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});QA.displayName=JA;var Ub="MenuItemIndicator",[XA,$ee]=Oa(Ub,{checked:!1}),ZA=m.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=$ee(Ub,r);return l.jsx(er,{present:n||ag(o.checked)||o.checked===!0,children:l.jsx(se.span,{...s,ref:e,"data-state":Vb(o.checked)})})});ZA.displayName=Ub;var Fee="MenuSeparator",eI=m.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(se.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});eI.displayName=Fee;var zee="MenuArrow",tI=m.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=sg(r);return l.jsx(px,{...s,...n,ref:e})});tI.displayName=zee;var Bee="MenuSub",[Ure,rI]=Oa(Bee),mh="MenuSubTrigger",nI=m.forwardRef((t,e)=>{const r=Pa(mh,t.__scopeMenu),n=ph(mh,t.__scopeMenu),s=rI(mh,t.__scopeMenu),o=Fb(mh,t.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,d={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),c(null)}},[a,c]),l.jsx(Lb,{asChild:!0,...d,children:l.jsx(qA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":iI(r.open),...t,ref:Ks(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Q(t.onPointerMove,gh(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Q(t.onPointerLeave,gh(h=>{var p,v;u();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const g=(v=r.content)==null?void 0:v.dataset.side,y=g==="right",x=y?-5:5,w=f[y?"left":"right"],b=f[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:w,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:w,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Q(t.onKeyDown,h=>{var p;const f=o.searchRef.current!=="";t.disabled||f&&h.key===" "||bee[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});nI.displayName=mh;var sI="MenuSubContent",oI=m.forwardRef((t,e)=>{const r=BA(An,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Pa(An,t.__scopeMenu),i=ph(An,t.__scopeMenu),a=rI(sI,t.__scopeMenu),c=m.useRef(null),d=we(e,c);return l.jsx(fh.Provider,{scope:t.__scopeMenu,children:l.jsx(er,{present:n||o.open,children:l.jsx(fh.Slot,{scope:t.__scopeMenu,children:l.jsx(zb,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Q(t.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Q(t.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:Q(t.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),f=kee[i.dir].includes(u.key);h&&f&&(o.onOpenChange(!1),(p=a.trigger)==null||p.focus(),u.preventDefault())})})})})})});oI.displayName=sI;function iI(t){return t?"open":"closed"}function ag(t){return t==="indeterminate"}function Vb(t){return ag(t)?"indeterminate":t?"checked":"unchecked"}function Uee(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Vee(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Wee(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=Vee(t,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Hee(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],c=e[i],d=a.x,u=a.y,h=c.x,f=c.y;u>n!=f>n&&r<(h-d)*(n-u)/(f-u)+d&&(s=!s)}return s}function qee(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Hee(r,e)}function gh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Kee=zA,Gee=Lb,Yee=UA,Jee=VA,Qee=Bb,Xee=WA,Zee=ig,ete=KA,tte=YA,rte=QA,nte=ZA,ste=eI,ote=tI,ite=nI,ate=oI,lg="DropdownMenu",[lte]=Ft(lg,[$A]),Tr=$A(),[cte,aI]=lte(lg),lI=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,c=Tr(e),d=m.useRef(null),[u,h]=Wn({prop:s,defaultProp:o??!1,onChange:i,caller:lg});return l.jsx(cte,{scope:e,triggerId:hr(),triggerRef:d,contentId:hr(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:a,children:l.jsx(Kee,{...c,open:u,onOpenChange:h,dir:n,modal:a,children:r})})};lI.displayName=lg;var cI="DropdownMenuTrigger",dI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=aI(cI,r),i=Tr(r);return l.jsx(Gee,{asChild:!0,...i,children:l.jsx(se.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Ks(e,o.triggerRef),onPointerDown:Q(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:Q(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});dI.displayName=cI;var dte="DropdownMenuPortal",uI=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Tr(e);return l.jsx(Yee,{...n,...r})};uI.displayName=dte;var hI="DropdownMenuContent",fI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=aI(hI,r),o=Tr(r),i=m.useRef(!1);return l.jsx(Jee,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:Q(t.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Q(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fI.displayName=hI;var ute="DropdownMenuGroup",hte=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(Qee,{...s,...n,ref:e})});hte.displayName=ute;var fte="DropdownMenuLabel",pI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(Xee,{...s,...n,ref:e})});pI.displayName=fte;var pte="DropdownMenuItem",mI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(Zee,{...s,...n,ref:e})});mI.displayName=pte;var mte="DropdownMenuCheckboxItem",gI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(ete,{...s,...n,ref:e})});gI.displayName=mte;var gte="DropdownMenuRadioGroup",vte=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(tte,{...s,...n,ref:e})});vte.displayName=gte;var yte="DropdownMenuRadioItem",vI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(rte,{...s,...n,ref:e})});vI.displayName=yte;var xte="DropdownMenuItemIndicator",yI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(nte,{...s,...n,ref:e})});yI.displayName=xte;var wte="DropdownMenuSeparator",xI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(ste,{...s,...n,ref:e})});xI.displayName=wte;var bte="DropdownMenuArrow",kte=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(ote,{...s,...n,ref:e})});kte.displayName=bte;var Ste="DropdownMenuSubTrigger",wI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(ite,{...s,...n,ref:e})});wI.displayName=Ste;var Nte="DropdownMenuSubContent",bI=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Tr(r);return l.jsx(ate,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bI.displayName=Nte;var Cte=lI,jte=dI,Ete=uI,kI=fI,SI=pI,NI=mI,CI=gI,jI=vI,EI=yI,_I=xI,TI=wI,RI=bI;const _te=Cte,Tte=jte,Rte=m.forwardRef(({className:t,inset:e,children:r,...n},s)=>l.jsxs(TI,{ref:s,className:U("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,l.jsx(wt,{className:"ml-auto h-4 w-4"})]}));Rte.displayName=TI.displayName;const Mte=m.forwardRef(({className:t,...e},r)=>l.jsx(RI,{ref:r,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Mte.displayName=RI.displayName;const MI=m.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(Ete,{children:l.jsx(kI,{ref:n,sideOffset:e,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));MI.displayName=kI.displayName;const Wb=m.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(NI,{ref:n,className:U("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));Wb.displayName=NI.displayName;const Ote=m.forwardRef(({className:t,children:e,checked:r,...n},s)=>l.jsxs(CI,{ref:s,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(EI,{children:l.jsx(Xi,{className:"h-4 w-4"})})}),e]}));Ote.displayName=CI.displayName;const Pte=m.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(jI,{ref:n,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(EI,{children:l.jsx(Gs,{className:"h-2 w-2 fill-current"})})}),e]}));Pte.displayName=jI.displayName;const Ate=m.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(SI,{ref:n,className:U("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Ate.displayName=SI.displayName;const OI=m.forwardRef(({className:t,...e},r)=>l.jsx(_I,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",t),...e}));OI.displayName=_I.displayName;function Ite({classData:t,sessions:e,deadlines:r,notesCount:n,onEdit:s,onDelete:o}){const i=Zs(),a=new Date,c=e.filter(y=>new Date(`${y.session_date}T${y.start_time}`)>a).sort((y,x)=>new Date(y.session_date).getTime()-new Date(x.session_date).getTime()),d=r.filter(y=>y.status!=="completed"&&new Date(y.due_date)>a).sort((y,x)=>new Date(y.due_date).getTime()-new Date(x.due_date).getTime()),u=r.filter(y=>y.status!=="completed"),h=r.filter(y=>y.status==="overdue").length;let f=null;const p=c[0],v=d[0];if(p&&v){const y=new Date(`${p.session_date}T${p.start_time}`),x=new Date(v.due_date);y<x?f={type:"session",date:y,label:"Next class"}:f={type:"deadline",date:x,label:v.title}}else p?f={type:"session",date:new Date(`${p.session_date}T${p.start_time}`),label:"Next class"}:v&&(f={type:"deadline",date:new Date(v.due_date),label:v.title});const g=()=>!t.meeting_days||t.meeting_days.length===0?"":`${t.meeting_days.map(x=>tg[x]).join("/")} ${t.start_time}`;return l.jsxs(pe,{className:"group overflow-hidden cursor-pointer transition-all hover:shadow-lg hover:border-primary/30",onClick:()=>i(`/classes/${t.id}`),children:[l.jsx("div",{className:"h-2",style:{backgroundColor:t.color}}),l.jsx(Nt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`${t.color}20`},children:l.jsx(vt,{className:"h-6 w-6",style:{color:t.color}})}),l.jsxs("div",{children:[l.jsx(Ct,{className:"text-lg",children:t.code||t.name}),l.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[180px]",children:t.code?t.name:""})]})]}),l.jsxs(_te,{children:[l.jsx(Tte,{asChild:!0,children:l.jsx(K,{variant:"ghost",size:"icon",onClick:y=>y.stopPropagation(),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(K3,{className:"h-4 w-4"})})}),l.jsxs(MI,{align:"end",children:[l.jsx(Wb,{onClick:y=>{y.stopPropagation(),s==null||s()},children:"Edit Class"}),l.jsx(OI,{}),l.jsx(Wb,{onClick:y=>{y.stopPropagation(),o==null||o()},className:"text-destructive",children:"Delete Class"})]})]})]})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx($r,{className:"h-4 w-4"}),l.jsx("span",{children:t.professor_name})]}),l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(Fo,{className:"h-4 w-4"}),l.jsx("span",{children:t.location})]}),l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(tr,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:g()})]})]}),f&&l.jsx("div",{className:"p-3 rounded-lg bg-secondary/50",children:l.jsxs("div",{className:"flex items-center gap-2",children:[f.type==="session"?l.jsx(Sr,{className:"h-4 w-4 text-primary"}):l.jsx(zd,{className:"h-4 w-4 text-warning"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:f.label}),l.jsx("p",{className:"text-sm font-medium truncate",children:Cn(f.date)?`Today at ${me(f.date,"h:mm a")}`:me(f.date,"MMM d, h:mm a")})]}),l.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsxs("div",{className:"flex items-center gap-3 pt-3 border-t border-border",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(zt,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-foreground font-medium",children:n}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"notes"})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Sr,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-foreground font-medium",children:e.length}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"sessions"})]}),h>0?l.jsxs(ue,{variant:"destructive",className:"ml-auto",children:[h," overdue"]}):u.length>0?l.jsxs(ue,{variant:"warning",className:"ml-auto",children:[u.length," due"]}):null]})]})]})}function Dte(){const t=Ot(o=>o.addEvent);return{createCalendarEvent:async o=>{try{const{data:{user:i}}=await q.auth.getUser();if(!i)throw new Error("Not authenticated");const a=crypto.randomUUID();t({id:a,classId:o.classId,userId:i.id,title:o.title,date:o.date,startTime:o.startTime,endTime:o.endTime,type:"study-session",notes:[],createdAt:new Date});const{error:c}=await q.from("calendar_event_mappings").insert({user_id:i.id,entity_type:o.entityType,entity_id:o.entityId,calendar_provider:"internal",calendar_event_id:a});return c&&console.error("Failed to store calendar mapping:",c),a}catch(i){return console.error("Failed to create calendar event:",i),null}},updateCalendarEvent:async(o,i,a)=>{try{const{data:{user:c}}=await q.auth.getUser();if(!c)return!1;const{data:d}=await q.from("calendar_event_mappings").select("calendar_event_id").eq("entity_id",o).eq("entity_type",i).eq("user_id",c.id).single();return d?!0:(console.log("No calendar mapping found for entity:",o),!1)}catch(c){return console.error("Failed to update calendar event:",c),!1}},deleteCalendarEvent:async(o,i)=>{try{const{data:{user:a}}=await q.auth.getUser();if(!a)return!1;const{error:c}=await q.from("calendar_event_mappings").delete().eq("entity_id",o).eq("entity_type",i).eq("user_id",a.id);return c?(console.error("Failed to delete calendar mapping:",c),!1):!0}catch(a){return console.error("Failed to delete calendar event:",a),!1}},hasCalendarEvent:async(o,i)=>{try{const{data:{user:a}}=await q.auth.getUser();if(!a)return!1;const{data:c}=await q.from("calendar_event_mappings").select("id").eq("entity_id",o).eq("entity_type",i).eq("user_id",a.id).single();return!!c}catch{return!1}}}}const Lte=[{value:"low",label:"Low",color:"bg-secondary text-secondary-foreground"},{value:"medium",label:"Medium",color:"bg-warning/20 text-warning"},{value:"high",label:"High",color:"bg-destructive/20 text-destructive"}];function Hb({open:t,onOpenChange:e,defaultClassId:r,defaultSessionId:n}){const s=Zs(),{toast:o}=gs(),i=Ll(),{classes:a,isLoading:c}=ha(),{createCalendarEvent:d}=Dte(),[u,h]=m.useState({title:"",classId:r||"",sessionId:n||null,dueDate:me(new Date,"yyyy-MM-dd"),dueTime:"23:59",priority:"medium",description:"",estimatedMinutes:"",addToCalendar:!1,linkedDeadlineId:null}),[f,p]=m.useState(!1);m.useEffect(()=>{r&&h(b=>({...b,classId:r})),n&&h(b=>({...b,sessionId:n}))},[r,n]);const{data:v=[]}=wn({queryKey:["sessions",u.classId],queryFn:async()=>{if(!u.classId)return[];const{data:b}=await q.from("sessions").select("*").eq("class_id",u.classId).order("session_date",{ascending:!0});return b||[]},enabled:!!u.classId}),{data:g=[]}=wn({queryKey:["deadlines",u.classId],queryFn:async()=>{if(!u.classId)return[];const{data:b}=await q.from("deadlines").select("*").eq("class_id",u.classId).order("due_date",{ascending:!0});return b||[]},enabled:!!u.classId}),y=a.find(b=>b.id===u.classId),x=u.title.trim().length>0&&u.classId.length>0&&u.dueDate.length>0&&u.priority.length>0,w=async()=>{if(x){p(!0);try{const{data:{user:b}}=await q.auth.getUser();if(!b)throw new Error("Not authenticated");const k=new Date(`${u.dueDate}T${u.dueTime}`),{data:S,error:N}=await q.from("class_todos").insert({user_id:b.id,class_id:u.classId,title:u.title.trim(),description:u.description.trim()||null,due_date:k.toISOString(),priority:u.priority,status:"todo",linked_session_id:u.sessionId||null,linked_deadline_id:u.linkedDeadlineId||null}).select().single();if(N)throw N;if(u.addToCalendar&&S){const C=await d({title:`Task: ${u.title.trim()}  ${(y==null?void 0:y.code)||(y==null?void 0:y.name)||"Class"}`,date:k,startTime:u.dueTime,endTime:u.dueTime,classId:u.classId,entityType:"task",entityId:S.id,className:y==null?void 0:y.name,classColor:y==null?void 0:y.color});C&&console.log("Calendar event created:",C)}i.invalidateQueries({queryKey:["class-todos"]}),i.invalidateQueries({queryKey:["all-class-todos"]}),o({title:"Task created",description:u.addToCalendar?`"${u.title}" has been added to ${(y==null?void 0:y.name)||"your class"} and your calendar`:`"${u.title}" has been added to ${(y==null?void 0:y.name)||"your class"}`}),h({title:"",classId:r||"",sessionId:n||null,dueDate:me(new Date,"yyyy-MM-dd"),dueTime:"23:59",priority:"medium",description:"",estimatedMinutes:"",addToCalendar:!1,linkedDeadlineId:null}),e(!1)}catch(b){console.error("Failed to create task:",b),o({title:"Failed to create task",description:b.message,variant:"destructive"})}finally{p(!1)}}};return!c&&a.length===0?l.jsx(bn,{open:t,onOpenChange:e,children:l.jsxs(nn,{className:"sm:max-w-md",children:[l.jsx(kn,{children:l.jsx(Sn,{children:"Create a class first"})}),l.jsxs("div",{className:"flex flex-col items-center py-8 text-center",children:[l.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:l.jsx(vt,{className:"h-8 w-8 text-primary"})}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"You need to create at least one class before you can add tasks. Tasks are always affiliated with a class."}),l.jsxs(K,{onClick:()=>{e(!1),s("/classes")},children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Create a Class",l.jsx(pC,{className:"h-4 w-4 ml-2"})]})]})]})}):l.jsx(bn,{open:t,onOpenChange:e,children:l.jsxs(nn,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsx(kn,{children:l.jsx(Sn,{children:"Create Task"})}),l.jsxs("div",{className:"space-y-5 pt-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(de,{className:"flex items-center gap-1",children:["Title ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Ce,{value:u.title,onChange:b=>h({...u,title:b.target.value}),placeholder:"e.g., Complete reading for Chapter 5",autoFocus:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(de,{className:"flex items-center gap-1",children:[l.jsx(vt,{className:"h-4 w-4 text-muted-foreground"}),"Class ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs(_s,{value:u.classId,onValueChange:b=>h({...u,classId:b,sessionId:null,linkedDeadlineId:null}),children:[l.jsx(ss,{children:l.jsx(Ts,{placeholder:"Select a class"})}),l.jsx(is,{children:a.map(b=>l.jsx(Fe,{value:b.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:b.color}}),b.code?`${b.code} - `:"",b.name]})},b.id))})]})]}),u.classId&&v.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs(de,{className:"flex items-center gap-1",children:[l.jsx(Sr,{className:"h-4 w-4 text-muted-foreground"}),"Link to Session (optional)"]}),l.jsxs(_s,{value:u.sessionId||"none",onValueChange:b=>h({...u,sessionId:b==="none"?null:b}),children:[l.jsx(ss,{children:l.jsx(Ts,{placeholder:"No specific session"})}),l.jsxs(is,{children:[l.jsx(Fe,{value:"none",children:"No specific session"}),v.slice(0,20).map(b=>l.jsxs(Fe,{value:b.id,children:[me(new Date(b.session_date),"MMM d, yyyy")," - ",b.start_time]},b.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(de,{className:"flex items-center gap-1",children:[l.jsx(tr,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Ce,{type:"date",value:u.dueDate,onChange:b=>h({...u,dueDate:b.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(de,{children:["Due Time ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Ce,{type:"time",value:u.dueTime,onChange:b=>h({...u,dueTime:b.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(de,{className:"flex items-center gap-1",children:[l.jsx(zd,{className:"h-4 w-4 text-muted-foreground"}),"Priority ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx("div",{className:"flex gap-2",children:Lte.map(b=>l.jsx("button",{type:"button",onClick:()=>h({...u,priority:b.value}),className:U("flex-1 py-2 px-3 rounded-lg border text-sm font-medium transition-all",u.priority===b.value?b.color+" border-current":"bg-background border-border text-muted-foreground hover:bg-secondary"),children:b.label},b.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Description (optional)"}),l.jsx(uh,{value:u.description,onChange:b=>h({...u,description:b.target.value}),placeholder:"Additional notes or details...",rows:3})]}),u.classId&&g.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs(de,{className:"flex items-center gap-1",children:[l.jsx(Bd,{className:"h-4 w-4 text-muted-foreground"}),"Link to Deadline (optional)"]}),l.jsxs(_s,{value:u.linkedDeadlineId||"none",onValueChange:b=>h({...u,linkedDeadlineId:b==="none"?null:b}),children:[l.jsx(ss,{children:l.jsx(Ts,{placeholder:"No linked deadline"})}),l.jsxs(is,{children:[l.jsx(Fe,{value:"none",children:"No linked deadline"}),g.map(b=>l.jsxs(Fe,{value:b.id,children:[b.title," - ",me(new Date(b.due_date),"MMM d")]},b.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(de,{className:"flex items-center gap-1",children:[l.jsx(kL,{className:"h-4 w-4 text-muted-foreground"}),"Estimated Time (optional)"]}),l.jsxs(_s,{value:u.estimatedMinutes||"none",onValueChange:b=>h({...u,estimatedMinutes:b==="none"?"":b}),children:[l.jsx(ss,{children:l.jsx(Ts,{placeholder:"No estimate"})}),l.jsxs(is,{children:[l.jsx(Fe,{value:"none",children:"No estimate"}),l.jsx(Fe,{value:"15",children:"15 minutes"}),l.jsx(Fe,{value:"30",children:"30 minutes"}),l.jsx(Fe,{value:"60",children:"1 hour"}),l.jsx(Fe,{value:"120",children:"2 hours"}),l.jsx(Fe,{value:"180",children:"3 hours"}),l.jsx(Fe,{value:"240",children:"4+ hours"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-secondary/50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sr,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm",children:"Add to calendar"})]}),l.jsx(Go,{checked:u.addToCalendar,onCheckedChange:b=>h({...u,addToCalendar:b})})]}),l.jsx(K,{onClick:w,disabled:!x||f,className:"w-full",variant:"glow",children:f?"Creating...":"Create Task"}),!x&&l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Please fill in all required fields (title, class, due date, priority)"})]})]})})}function $te(){const{classId:t}=dE(),e=Zs(),{classData:r,sessions:n,deadlines:s,todos:o,notes:i,isLoading:a,addDeadline:c,updateDeadline:d,updateTodo:u}=NH(t),[h,f]=m.useState(!1),[p,v]=m.useState(!1),[g,y]=m.useState(!1),[x,w]=m.useState({title:"",deadline_type:"assignment",due_date:me(new Date,"yyyy-MM-dd'T'HH:mm"),description:"",weight:""});if(a)return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading class..."})});if(!r)return l.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[l.jsx("p",{className:"text-muted-foreground",children:"Class not found"}),l.jsx(K,{onClick:()=>e("/classes"),children:"Back to Classes"})]});const b=new Date,S=n.filter(j=>new Date(`${j.session_date}T${j.start_time}`)>b).sort((j,_)=>new Date(j.session_date).getTime()-new Date(_.session_date).getTime())[0],N=s.filter(j=>j.status!=="completed"&&j8(new Date(j.due_date))),C=s.filter(j=>j.status!=="completed"&&Qx(new Date(j.due_date))),E=async()=>{const{data:{user:j}}=await q.auth.getUser();!j||!t||(c({class_id:t,user_id:j.id,title:x.title,deadline_type:x.deadline_type,due_date:new Date(x.due_date).toISOString(),description:x.description||null,weight:x.weight?parseFloat(x.weight):null,status:"upcoming",source:"manual",calendar_event_id:null}),f(!1),w({title:"",deadline_type:"assignment",due_date:me(new Date,"yyyy-MM-dd'T'HH:mm"),description:"",weight:""}))};return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("div",{className:"p-6 border-b",style:{backgroundColor:`${r.color}08`},children:[l.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>e("/classes"),className:"mb-4",children:[l.jsx(U3,{className:"h-4 w-4 mr-2"}),"Back to Classes"]}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-16 w-16 rounded-xl flex items-center justify-center",style:{backgroundColor:`${r.color}20`},children:l.jsx(vt,{className:"h-8 w-8",style:{color:r.color}})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold",children:[r.code&&l.jsx("span",{className:"mr-2",children:r.code}),r.name]}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx($r,{className:"h-4 w-4"}),r.professor_name]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fo,{className:"h-4 w-4"}),r.location]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(tr,{className:"h-4 w-4"}),r.meeting_days.map(j=>tg[j]).join("/")," ",r.start_time]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>y(!0),children:[l.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add Note"]}),l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>v(!0),children:[l.jsx(El,{className:"h-4 w-4 mr-2"}),"Add To-Do"]}),r.class_website&&l.jsx(K,{variant:"outline",size:"sm",asChild:!0,children:l.jsxs("a",{href:r.class_website,target:"_blank",rel:"noopener noreferrer",children:[l.jsx(Y3,{className:"h-4 w-4 mr-2"}),"Course Page"]})})]})]})]}),l.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(pe,{className:"bg-primary/5 border-primary/20",children:l.jsxs(xe,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-primary mb-2",children:[l.jsx(Sr,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Next Class"})]}),S?l.jsxs("p",{className:"font-semibold",children:[Cn(lu(S.session_date))?`Today at ${S.start_time}`:me(lu(S.session_date),"MMM d")," at ",S.start_time]}):l.jsx("p",{className:"text-muted-foreground text-sm",children:"No upcoming sessions"})]})}),l.jsx(pe,{className:U("border-warning/20",N.length>0&&"bg-warning/5"),children:l.jsxs(xe,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-warning mb-2",children:[l.jsx(zd,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Next Due"})]}),N[0]?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"font-semibold",children:N[0].title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:me(new Date(N[0].due_date),"MMM d, h:mm a")})]}):l.jsx("p",{className:"text-muted-foreground text-sm",children:"No upcoming deadlines"})]})}),l.jsx(pe,{className:U("border-destructive/20",C.length>0&&"bg-destructive/5"),children:l.jsxs(xe,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[l.jsx(zd,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Overdue"})]}),C.length>0?l.jsxs("p",{className:"font-semibold",children:[C.length," item(s)"]}):l.jsxs("p",{className:"text-green-600 text-sm flex items-center gap-1",children:[l.jsx(Xi,{className:"h-4 w-4"}),"All caught up!"]})]})})]}),l.jsx("div",{className:"px-6 pb-6",children:l.jsxs(no,{defaultValue:"sessions",className:"space-y-4",children:[l.jsxs(ks,{children:[l.jsxs(Ze,{value:"sessions",children:["Sessions (",n.length,")"]}),l.jsxs(Ze,{value:"notes",children:["Notes (",i.length,")"]}),l.jsxs(Ze,{value:"deadlines",children:["Deadlines (",s.length,")"]}),l.jsxs(Ze,{value:"todos",children:["To-Dos (",o.length,")"]})]}),l.jsx(et,{value:"sessions",className:"space-y-4",children:l.jsx(Pn,{className:"h-[calc(100vh-400px)]",children:l.jsx("div",{className:"space-y-2",children:n.map(j=>{const _=lu(j.session_date),P=new Date(`${j.session_date}T${j.start_time}`),T=Qx(P),A=Cn(_);return l.jsx(pe,{className:U("transition-colors",A&&"border-primary bg-primary/5",T&&!A&&"opacity-60"),children:l.jsxs(xe,{className:"p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-center min-w-[50px]",children:[l.jsx("p",{className:"text-2xl font-bold",children:me(_,"d")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:me(_,"MMM")})]}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium",children:[me(_,"EEEE"),A&&l.jsx(ue,{variant:"default",className:"ml-2",children:"Today"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.start_time," - ",j.end_time,"  ",j.location||r.location]}),j.topics&&j.topics.length>0&&l.jsx("div",{className:"flex gap-1 mt-1",children:j.topics.map((I,L)=>l.jsx(ue,{variant:"outline",className:"text-xs",children:I},L))})]})]}),l.jsx(ue,{variant:j.attendance==="attended"?"default":j.attendance==="missed"?"destructive":"outline",children:j.attendance})]})},j.id)})})})}),l.jsx(et,{value:"notes",className:"space-y-4",children:l.jsx(Pn,{className:"h-[calc(100vh-400px)]",children:i.length>0?l.jsx("div",{className:"space-y-2",children:i.map(j=>l.jsx(pe,{children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zt,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium",children:j.title||`Note from ${me(new Date(j.created_at),"MMM d")}`}),l.jsx(ue,{variant:"outline",children:j.type})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:j.content||j.transcription||"No content"})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:me(new Date(j.created_at),"MMM d, h:mm a")})]})})},j.id))}):l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(zt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No notes yet for this class"}),l.jsxs(K,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>y(!0),children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Add Note"]})]})})}),l.jsxs(et,{value:"deadlines",className:"space-y-4",children:[l.jsx("div",{className:"flex justify-end",children:l.jsxs(bn,{open:h,onOpenChange:f,children:[l.jsx(o_,{asChild:!0,children:l.jsxs(K,{size:"sm",children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Add Deadline"]})}),l.jsxs(nn,{children:[l.jsx(kn,{children:l.jsx(Sn,{children:"Add Deadline"})}),l.jsxs("div",{className:"space-y-4 pt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Title *"}),l.jsx(Ce,{value:x.title,onChange:j=>w({...x,title:j.target.value}),placeholder:"e.g., Midterm Exam"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Type"}),l.jsxs(_s,{value:x.deadline_type,onValueChange:j=>w({...x,deadline_type:j}),children:[l.jsx(ss,{children:l.jsx(Ts,{})}),l.jsxs(is,{children:[l.jsx(Fe,{value:"assignment",children:"Assignment"}),l.jsx(Fe,{value:"exam",children:"Exam"}),l.jsx(Fe,{value:"quiz",children:"Quiz"}),l.jsx(Fe,{value:"midterm",children:"Midterm"}),l.jsx(Fe,{value:"final",children:"Final"}),l.jsx(Fe,{value:"reading",children:"Reading"}),l.jsx(Fe,{value:"other",children:"Other"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Weight (%)"}),l.jsx(Ce,{type:"number",value:x.weight,onChange:j=>w({...x,weight:j.target.value}),placeholder:"e.g., 20"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Due Date *"}),l.jsx(Ce,{type:"datetime-local",value:x.due_date,onChange:j=>w({...x,due_date:j.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Description"}),l.jsx(uh,{value:x.description,onChange:j=>w({...x,description:j.target.value}),placeholder:"Additional details..."})]}),l.jsx(K,{onClick:E,className:"w-full",disabled:!x.title.trim()||!x.due_date,children:"Add Deadline"})]})]})]})}),l.jsx(Pn,{className:"h-[calc(100vh-450px)]",children:s.length>0?l.jsx("div",{className:"space-y-2",children:s.map(j=>{const _=new Date(j.due_date),P=Qx(_)&&j.status!=="completed";return l.jsx(pe,{className:U("transition-colors",P&&"border-destructive bg-destructive/5",j.status==="completed"&&"opacity-60"),children:l.jsxs(xe,{className:"p-4 flex items-center gap-4",children:[l.jsx(ng,{checked:j.status==="completed",onCheckedChange:T=>{d({id:j.id,status:T?"completed":"upcoming"})}}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:U("font-medium",j.status==="completed"&&"line-through"),children:j.title}),l.jsx(ue,{variant:"outline",children:j.deadline_type}),j.weight&&l.jsxs(ue,{variant:"secondary",children:[j.weight,"%"]}),P&&l.jsx(ue,{variant:"destructive",children:"Overdue"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",me(_,"MMM d, yyyy h:mm a")]}),j.description&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.description})]}),l.jsx(ue,{variant:"outline",className:"text-xs",children:j.source})]})},j.id)})}):l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Sr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No deadlines yet"})]})})]}),l.jsxs(et,{value:"todos",className:"space-y-4",children:[l.jsx("div",{className:"flex justify-end",children:l.jsxs(K,{size:"sm",onClick:()=>v(!0),children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Add To-Do"]})}),l.jsx(Pn,{className:"h-[calc(100vh-450px)]",children:o.length>0?l.jsx("div",{className:"space-y-2",children:o.map(j=>l.jsx(pe,{className:U(j.status==="completed"&&"opacity-60"),children:l.jsxs(xe,{className:"p-4 flex items-center gap-4",children:[l.jsx(ng,{checked:j.status==="completed",onCheckedChange:_=>{u({id:j.id,status:_?"completed":"todo"})}}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:U("font-medium",j.status==="completed"&&"line-through"),children:j.title}),l.jsx(ue,{variant:j.priority==="high"?"destructive":j.priority==="medium"?"warning":"outline",children:j.priority})]}),j.due_date&&l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",me(new Date(j.due_date),"MMM d, h:mm a")]}),j.description&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.description})]})]})},j.id))}):l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(El,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No to-dos yet"}),l.jsxs(K,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>v(!0),children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Add To-Do"]})]})})]})]})}),l.jsx(Hb,{open:p,onOpenChange:v,defaultClassId:t}),l.jsx(q0,{open:g,onOpenChange:y,classId:t})]})}function PI(){const{classId:t}=dE(),{classes:e,isLoading:r,deleteClass:n}=ha(),[s,o]=m.useState(!1),[i,a]=m.useState(!1),{data:c=[]}=wn({queryKey:["all-sessions"],queryFn:async()=>{const{data:{user:h}}=await q.auth.getUser();if(!h)return[];const{data:f}=await q.from("sessions").select("*").eq("user_id",h.id);return f||[]}}),{data:d=[]}=wn({queryKey:["all-deadlines"],queryFn:async()=>{const{data:{user:h}}=await q.auth.getUser();if(!h)return[];const{data:f}=await q.from("deadlines").select("*").eq("user_id",h.id);return f||[]}}),{data:u=[]}=wn({queryKey:["all-notes"],queryFn:async()=>{const{data:{user:h}}=await q.auth.getUser();if(!h)return[];const{data:f}=await q.from("notes").select("*").eq("user_id",h.id);return f||[]}});return t?l.jsx($te,{}):l.jsxs("div",{className:"min-h-screen p-4 sm:p-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-6 sm:mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(uo,{}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Classes"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your classes and access all related materials"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"flex-1 sm:flex-none",children:[l.jsx(EC,{className:"h-4 w-4 mr-2"}),"Import Syllabus"]}),l.jsxs(K,{variant:"glow",size:"sm",onClick:()=>o(!0),className:"flex-1 sm:flex-none",children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Add Class"]})]})]}),r?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(h=>l.jsx(pe,{className:"h-[280px] animate-pulse bg-secondary/50"},h))}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(h=>l.jsx(Ite,{classData:h,sessions:c.filter(f=>f.class_id===h.id),deadlines:d.filter(f=>f.class_id===h.id),notesCount:u.filter(f=>f.class_id===h.id).length,onDelete:()=>{confirm("Are you sure you want to delete this class?")&&n(h.id)}},h.id)),l.jsx(pe,{className:"border-dashed cursor-pointer hover:border-primary/50 hover:bg-secondary/30 transition-all duration-200",onClick:()=>o(!0),children:l.jsxs(xe,{className:"flex flex-col items-center justify-center h-full min-h-[280px] text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary flex items-center justify-center mb-3",children:l.jsx(Rt,{className:"h-6 w-6 text-muted-foreground"})}),l.jsx("h3",{className:"font-medium text-foreground mb-1",children:"Add a new class"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up your schedule and start taking notes"})]})})]}),l.jsx(hee,{open:s,onOpenChange:o}),l.jsx(yee,{open:i,onOpenChange:a})]})}function Fte(){const[t,e]=m.useState([]),[r,n]=m.useState(!0),{toast:s}=gs(),o=m.useCallback(async()=>{try{const{data:{user:c}}=await q.auth.getUser();if(!c){e([]),n(!1);return}const{data:d,error:u}=await q.from("extracted_todos").select("*").eq("user_id",c.id).order("created_at",{ascending:!1});if(u)throw u;e(d||[])}catch(c){console.error("Failed to fetch extracted todos:",c),s({title:"Failed to load AI to-dos",description:"Could not fetch extracted to-dos",variant:"destructive"})}finally{n(!1)}},[s]),i=m.useCallback(async(c,d)=>{try{const{error:u}=await q.from("extracted_todos").update({status:d}).eq("id",c);if(u)throw u;e(h=>h.map(f=>f.id===c?{...f,status:d}:f))}catch(u){console.error("Failed to update todo status:",u),s({title:"Update failed",description:"Could not update to-do status",variant:"destructive"})}},[s]),a=m.useCallback(async c=>{try{const{error:d}=await q.from("extracted_todos").delete().eq("id",c);if(d)throw d;e(u=>u.filter(h=>h.id!==c))}catch(d){console.error("Failed to delete todo:",d),s({title:"Delete failed",description:"Could not delete to-do",variant:"destructive"})}},[s]);return m.useEffect(()=>{o();const c=q.channel("extracted_todos_changes").on("postgres_changes",{event:"*",schema:"public",table:"extracted_todos"},()=>{o()}).subscribe();return()=>{q.removeChannel(c)}},[o]),{todos:t,isLoading:r,updateTodoStatus:i,deleteTodo:a,refetch:o}}function qb({todo:t,onStatusChange:e,onDelete:r}){const s=(c=>{if(!c)return null;const d=new Date,h=new Date(c).getTime()-d.getTime();return Math.ceil(h/864e5)})(t.due_date),o=s!==null&&s<0,i=s!==null&&s>=0&&s<=2,a=c=>{switch(c){case"high":return"destructive";case"medium":return"warning";case"low":return"secondary"}};return l.jsx(pe,{variant:"interactive",className:"group",children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:()=>e(t.id,t.status==="completed"?"todo":"completed"),className:"mt-0.5 shrink-0",children:t.status==="completed"?l.jsx($o,{className:"h-5 w-5 text-success"}):l.jsx(Gs,{className:"h-5 w-5 text-muted-foreground hover:text-primary transition-colors"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("h4",{className:U("font-medium text-foreground",t.status==="completed"&&"line-through text-muted-foreground"),children:t.title}),l.jsx(K,{variant:"ghost",size:"icon-sm",className:"opacity-0 group-hover:opacity-100 transition-opacity text-muted-foreground hover:text-destructive",onClick:()=>r(t.id),children:l.jsx(Hy,{className:"h-4 w-4"})})]}),t.description&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:t.description}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 flex-wrap",children:[l.jsxs(ue,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:[l.jsx(Nr,{className:"h-3 w-3 mr-1"}),"AI Extracted"]}),l.jsx(ue,{variant:a(t.priority),children:t.priority}),t.due_date&&l.jsxs("div",{className:U("flex items-center gap-1 text-xs",o?"text-destructive":i?"text-warning":"text-muted-foreground"),children:[o?l.jsx(Vd,{className:"h-3 w-3"}):l.jsx(tr,{className:"h-3 w-3"}),l.jsx("span",{children:o?`${Math.abs(s)} days overdue`:s===0?"Due today":s===1?"Due tomorrow":`Due in ${s} days`})]})]})]})]})})})}const bi={high:0,medium:1,low:2};function AI({id:t,type:e,status:r,children:n}){const{attributes:s,listeners:o,setNodeRef:i,transform:a,isDragging:c}=XO({id:`${e}-${t}`,data:{type:e,id:t,currentStatus:r}}),d=a?{transform:`translate(${a.x}px, ${a.y}px)`,opacity:c?.5:1,zIndex:c?50:void 0}:void 0;return l.jsx("div",{ref:i,style:d,...s,...o,className:"relative cursor-grab active:cursor-grabbing",children:n})}function Kb({columnId:t,title:e,items:r,classTodoItems:n,icon:s,iconColor:o,renderAssignment:i,renderClassTodo:a}){const{isOver:c,setNodeRef:d}=ZO({id:t});return l.jsxs("div",{ref:d,className:U("flex-1 min-w-0 sm:min-w-[300px] rounded-xl p-3 transition-colors",c&&"bg-primary/5 ring-2 ring-primary/20"),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:U("p-1.5 rounded-lg",o),children:l.jsx(s,{className:"h-4 w-4"})}),l.jsx("h3",{className:"font-semibold text-foreground",children:e}),l.jsx(ue,{variant:"secondary",className:"ml-auto",children:r.length+n.length})]}),l.jsxs("div",{className:"space-y-3",children:[n.map(u=>a(u)),r.map(u=>i(u)),r.length===0&&n.length===0&&l.jsx(pe,{className:U("border-dashed",c&&"border-primary/40"),children:l.jsx(xe,{className:"p-6 text-center",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:c?"Drop here":"No items"})})})]})]})}function zte(){const t=Zs(),e=Ll(),{assignments:r,classes:n,updateAssignment:s}=Ot(),o=SO(ib(Dm,{activationConstraint:{distance:8}})),[i,a]=m.useState(null);ha();const[c,d]=m.useState(!1),u=du(),{todos:h,isLoading:f,updateTodoStatus:p,deleteTodo:v}=Fte(),{data:g=[],isLoading:y}=wn({queryKey:["all-class-todos"],queryFn:async()=>{const{data:{user:M}}=await q.auth.getUser();if(!M)return[];const{data:B}=await q.from("class_todos").select("*, classes(name, code, color)").eq("user_id",M.id).order("due_date",{ascending:!0});return B||[]}}),x=[...r.filter(M=>M.status==="todo")].sort((M,B)=>{const z=Date.now(),te=new Date(M.dueDate).getTime(),ee=new Date(B.dueDate).getTime(),Z=te<z,ve=ee<z;if(Z!==ve)return Z?-1:1;const ce=bi[M.priority]??2,Le=bi[B.priority]??2;return ce!==Le?ce-Le:te-ee}),w=[...r.filter(M=>M.status==="in-progress")].sort((M,B)=>{const z=Date.now(),te=new Date(M.dueDate).getTime(),ee=new Date(B.dueDate).getTime(),Z=te<z,ve=ee<z;if(Z!==ve)return Z?-1:1;const ce=bi[M.priority]??2,Le=bi[B.priority]??2;return ce!==Le?ce-Le:te-ee}),b=r.filter(M=>M.status==="completed"),k=(M,B)=>[...M].sort((z,te)=>{const ee=Date.now(),Z=z[B]?new Date(z[B]).getTime():1/0,ve=te[B]?new Date(te[B]).getTime():1/0,ce=Z<ee,Le=ve<ee,We=bi[z.priority]??2,It=bi[te.priority]??2;return ce!==Le?ce?-1:1:We!==It?We-It:Z-ve}),S=k(g.filter(M=>M.status==="todo"),"due_date"),N=k(g.filter(M=>M.status==="in-progress"),"due_date"),C=g.filter(M=>M.status==="completed"),E=h.filter(M=>M.status==="todo"),j=h.filter(M=>M.status==="in-progress"),_=h.filter(M=>M.status==="completed"),P=M=>n.find(B=>B.id===M),T=(M,B)=>{s(M,{status:B})},A=async(M,B)=>{await q.from("class_todos").update({status:B}).eq("id",M),e.invalidateQueries({queryKey:["all-class-todos"]})},I=M=>{a(M.active.id)},L=M=>{a(null);const{active:B,over:z}=M;if(!z)return;const te=z.id,ee=B.data.current;!ee||ee.currentStatus===te||(ee.type==="assignment"?T(ee.id,te):A(ee.id,te))},F=M=>{switch(M){case"high":return"destructive";case"medium":return"warning";case"low":return"secondary";default:return"secondary"}},V=M=>{const B=new Date,te=(typeof M=="string"?new Date(M):M).getTime()-B.getTime();return Math.ceil(te/(1e3*60*60*24))},O=m.useMemo(()=>{const M=[];return[...x,...w].forEach(B=>{M.push({type:"assignment",data:B})}),[...S,...N].forEach(B=>{M.push({type:"classTodo",data:B})}),M.sort((B,z)=>{const te=bi[B.data.priority]??2,ee=bi[z.data.priority]??2;if(te!==ee)return te-ee;const Z=B.type==="assignment"?new Date(B.data.dueDate):B.data.due_date?new Date(B.data.due_date):new Date("2099-01-01"),ve=z.type==="assignment"?new Date(z.data.dueDate):z.data.due_date?new Date(z.data.due_date):new Date("2099-01-01");return Z.getTime()-ve.getTime()})},[x,w,S,N]),D=m.useMemo(()=>{const M=[];return b.forEach(B=>M.push({type:"assignment",data:B})),C.forEach(B=>M.push({type:"classTodo",data:B})),M},[b,C]),H=({item:M})=>{const B=M.type==="assignment",z=M.data.title,te=M.data.priority,ee=M.data.status==="completed",Z=B?P(M.data.classId):M.data.classes,ve=B?M.data.dueDate:M.data.due_date,ce=ve?V(ve):null,Le=ce!==null&&ce<0,We=ce!==null&&ce>=0&&ce<=2,It=()=>{B?T(M.data.id,ee?"todo":"completed"):A(M.data.id,ee?"todo":"completed")},Dt=B?M.data.classId:M.data.class_id,Dn=cs=>{Dt&&t(`/classes/${Dt}`)};return l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-card border border-border transition-transform",children:[l.jsx("button",{onClick:cs=>{cs.stopPropagation(),It()},className:"mt-0.5 shrink-0",children:ee?l.jsx($o,{className:"h-5 w-5 text-success"}):l.jsx(Gs,{className:"h-5 w-5 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:Dn,children:[l.jsx("p",{className:U("text-sm font-medium text-foreground",ee&&"line-through text-muted-foreground"),children:z}),l.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[Z&&l.jsx("span",{className:"text-[11px] font-medium px-1.5 py-0.5 rounded",style:{backgroundColor:`${Z.color}20`,color:Z.color},children:Z.code||Z.name}),!ee&&ce!==null&&l.jsxs("span",{className:U("text-[11px] flex items-center gap-1",Le?"text-destructive":We?"text-warning":"text-muted-foreground"),children:[Le?l.jsx(Vd,{className:"h-3 w-3"}):l.jsx(tr,{className:"h-3 w-3"}),Le?`${Math.abs(ce)}d overdue`:ce===0?"Today":ce===1?"Tomorrow":`${ce}d`]})]})]}),l.jsxs("div",{className:"flex items-center gap-1 shrink-0 mt-0.5",children:[!ee&&l.jsx(ue,{variant:F(te),className:"text-[10px] px-1.5 py-0 h-5",children:te}),Dt&&l.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]})]})};if(u)return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b border-border bg-background/80 backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uo,{}),l.jsx("h1",{className:"text-lg font-bold text-foreground",children:"To-Do"})]}),l.jsxs(K,{variant:"glow",size:"sm",className:"h-8",onClick:()=>d(!0),children:[l.jsx(Rt,{className:"h-4 w-4"}),"Add"]})]}),l.jsxs(no,{defaultValue:"active",className:"flex-1 flex flex-col",children:[l.jsx("div",{className:"px-4 pt-3",children:l.jsxs(ks,{className:"w-full",children:[l.jsxs(Ze,{value:"active",className:"flex-1",children:["To Do",O.length>0&&l.jsx(ue,{variant:"secondary",className:"ml-1.5 text-[10px] h-4 min-w-4 px-1",children:O.length})]}),l.jsxs(Ze,{value:"history",className:"flex-1",children:[l.jsx(xC,{className:"h-3.5 w-3.5 mr-1"}),"History",D.length>0&&l.jsx(ue,{variant:"secondary",className:"ml-1.5 text-[10px] h-4 min-w-4 px-1",children:D.length})]})]})}),l.jsx(et,{value:"active",className:"flex-1 overflow-auto px-4 py-3 mt-0",children:y?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Bt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):O.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[l.jsx($o,{className:"h-12 w-12 text-success/40 mb-3"}),l.jsx("p",{className:"text-sm font-medium text-foreground",children:"All caught up!"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No pending tasks"})]}):l.jsx("div",{className:"space-y-2",children:O.map((M,B)=>l.jsx(H,{item:M},`${M.type}-${M.data.id}`))})}),l.jsx(et,{value:"history",className:"flex-1 overflow-auto px-4 py-3 mt-0",children:D.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[l.jsx(xC,{className:"h-12 w-12 text-muted-foreground/30 mb-3"}),l.jsx("p",{className:"text-sm font-medium text-foreground",children:"No completed tasks yet"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tasks you complete will show up here"})]}):l.jsx("div",{className:"space-y-2",children:D.map(M=>l.jsx(H,{item:M},`${M.type}-${M.data.id}`))})})]}),l.jsx(Hb,{open:c,onOpenChange:d})]});const ne=({assignment:M})=>{const B=P(M.classId),z=V(M.dueDate),te=z<0,ee=z>=0&&z<=2;return l.jsx(AI,{id:M.id,type:"assignment",status:M.status,children:l.jsx(pe,{variant:"interactive",className:"group cursor-pointer",onClick:()=>M.classId&&t(`/classes/${M.classId}`),children:l.jsx(xe,{className:"p-4 pl-8",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:Z=>{Z.stopPropagation(),T(M.id,M.status==="completed"?"todo":"completed")},className:"mt-0.5 shrink-0",children:M.status==="completed"?l.jsx($o,{className:"h-5 w-5 text-success"}):l.jsx(Gs,{className:"h-5 w-5 text-muted-foreground hover:text-primary transition-colors"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("h4",{className:U("font-medium text-foreground",M.status==="completed"&&"line-through text-muted-foreground"),children:M.title}),l.jsx(wt,{className:"h-4 w-4 text-muted-foreground shrink-0 mt-0.5"})]}),M.description&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:M.description}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 flex-wrap",children:[l.jsx(ue,{variant:"class",style:{backgroundColor:`${B==null?void 0:B.color}20`,borderColor:`${B==null?void 0:B.color}50`,color:B==null?void 0:B.color},children:B==null?void 0:B.code}),l.jsx(ue,{variant:F(M.priority),children:M.priority}),l.jsxs("div",{className:U("flex items-center gap-1 text-xs",te?"text-destructive":ee?"text-warning":"text-muted-foreground"),children:[te?l.jsx(Vd,{className:"h-3 w-3"}):l.jsx(tr,{className:"h-3 w-3"}),l.jsx("span",{children:te?`${Math.abs(z)} days overdue`:z===0?"Due today":z===1?"Due tomorrow":`Due in ${z} days`})]})]})]})]})})})})},$=({todo:M})=>{const B=M.classes,z=M.due_date?V(M.due_date):null,te=z!==null&&z<0,ee=z!==null&&z>=0&&z<=2;return l.jsx(AI,{id:M.id,type:"classTodo",status:M.status,children:l.jsx(pe,{variant:"interactive",className:"group cursor-pointer",onClick:()=>M.class_id&&t(`/classes/${M.class_id}`),children:l.jsx(xe,{className:"p-4 pl-8",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:Z=>{Z.stopPropagation(),A(M.id,M.status==="completed"?"todo":"completed")},className:"mt-0.5 shrink-0",children:M.status==="completed"?l.jsx($o,{className:"h-5 w-5 text-success"}):l.jsx(Gs,{className:"h-5 w-5 text-muted-foreground hover:text-primary transition-colors"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("h4",{className:U("font-medium text-foreground",M.status==="completed"&&"line-through text-muted-foreground"),children:M.title}),l.jsx(wt,{className:"h-4 w-4 text-muted-foreground shrink-0 mt-0.5"})]}),M.description&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:M.description}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 flex-wrap",children:[B&&l.jsxs(ue,{variant:"class",style:{backgroundColor:`${B.color}20`,borderColor:`${B.color}50`,color:B.color},children:[l.jsx(vt,{className:"h-3 w-3 mr-1"}),B.code||B.name]}),l.jsx(ue,{variant:F(M.priority),children:M.priority}),z!==null&&l.jsxs("div",{className:U("flex items-center gap-1 text-xs",te?"text-destructive":ee?"text-warning":"text-muted-foreground"),children:[te?l.jsx(Vd,{className:"h-3 w-3"}):l.jsx(tr,{className:"h-3 w-3"}),l.jsx("span",{children:te?`${Math.abs(z)} days overdue`:z===0?"Due today":z===1?"Due tomorrow":`Due in ${z} days`})]})]})]})]})})})})},G=M=>l.jsx(ne,{assignment:M},M.id),J=M=>l.jsx($,{todo:M},M.id);return l.jsxs("div",{className:"min-h-screen p-4 sm:p-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-6 sm:mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(uo,{}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"To-Do & Assignments"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track your assignments and tasks across all classes"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[l.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:[l.jsx(vC,{className:"h-4 w-4 mr-2"}),"Filter"]}),l.jsxs(K,{variant:"glow",size:"sm",onClick:()=>d(!0),className:"flex-1 sm:flex-none",children:[l.jsx(Rt,{className:"h-4 w-4"}),"Add Task"]})]})]}),l.jsxs(no,{defaultValue:"all",className:"w-full",children:[l.jsxs(ks,{className:"mb-6",children:[l.jsxs(Ze,{value:"all",children:["All Tasks",(g.length>0||r.length>0)&&l.jsx(ue,{variant:"secondary",className:"ml-1 text-xs",children:g.length+r.length})]}),l.jsxs(Ze,{value:"ai-extracted",className:"gap-2",children:[l.jsx(Nr,{className:"h-3.5 w-3.5"}),"AI Extracted",h.length>0&&l.jsx(ue,{variant:"secondary",className:"ml-1 text-xs",children:h.length})]})]}),l.jsx(et,{value:"all",children:y?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Bt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.jsx(JO,{sensors:o,onDragStart:I,onDragEnd:L,children:l.jsxs("div",{className:"flex gap-6 overflow-x-auto pb-4",children:[l.jsx(Kb,{columnId:"todo",title:"To Do",items:x,classTodoItems:S,icon:Gs,iconColor:"bg-secondary text-secondary-foreground",renderAssignment:G,renderClassTodo:J}),l.jsx(Kb,{columnId:"in-progress",title:"In Progress",items:w,classTodoItems:N,icon:tr,iconColor:"bg-warning/20 text-warning",renderAssignment:G,renderClassTodo:J}),l.jsx(Kb,{columnId:"completed",title:"Completed",items:b,classTodoItems:C,icon:$o,iconColor:"bg-success/20 text-success",renderAssignment:G,renderClassTodo:J})]})})}),l.jsx(et,{value:"ai-extracted",children:f?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Bt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):h.length===0?l.jsx(pe,{className:"border-dashed",children:l.jsxs(xe,{className:"p-12 text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:l.jsx(Nr,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No AI-extracted to-dos yet"}),l.jsx("p",{className:"text-sm text-muted-foreground max-w-md mx-auto",children:"Record notes during your lectures and our AI will automatically extract to-dos, assignments, and action items for you."})]})}):l.jsxs("div",{className:"flex gap-6 overflow-x-auto pb-4",children:[l.jsxs("div",{className:"flex-1 min-w-[300px]",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:"p-1.5 rounded-lg bg-secondary text-secondary-foreground",children:l.jsx(Gs,{className:"h-4 w-4"})}),l.jsx("h3",{className:"font-semibold text-foreground",children:"To Do"}),l.jsx(ue,{variant:"secondary",className:"ml-auto",children:E.length})]}),l.jsxs("div",{className:"space-y-3",children:[E.map(M=>l.jsx(qb,{todo:M,onStatusChange:p,onDelete:v},M.id)),E.length===0&&l.jsx(pe,{className:"border-dashed",children:l.jsx(xe,{className:"p-6 text-center",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"No items"})})})]})]}),l.jsxs("div",{className:"flex-1 min-w-[300px]",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:"p-1.5 rounded-lg bg-warning/20 text-warning",children:l.jsx(tr,{className:"h-4 w-4"})}),l.jsx("h3",{className:"font-semibold text-foreground",children:"In Progress"}),l.jsx(ue,{variant:"secondary",className:"ml-auto",children:j.length})]}),l.jsxs("div",{className:"space-y-3",children:[j.map(M=>l.jsx(qb,{todo:M,onStatusChange:p,onDelete:v},M.id)),j.length===0&&l.jsx(pe,{className:"border-dashed",children:l.jsx(xe,{className:"p-6 text-center",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"No items"})})})]})]}),l.jsxs("div",{className:"flex-1 min-w-[300px]",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:"p-1.5 rounded-lg bg-success/20 text-success",children:l.jsx($o,{className:"h-4 w-4"})}),l.jsx("h3",{className:"font-semibold text-foreground",children:"Completed"}),l.jsx(ue,{variant:"secondary",className:"ml-auto",children:_.length})]}),l.jsxs("div",{className:"space-y-3",children:[_.map(M=>l.jsx(qb,{todo:M,onStatusChange:p,onDelete:v},M.id)),_.length===0&&l.jsx(pe,{className:"border-dashed",children:l.jsx(xe,{className:"p-6 text-center",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"No items"})})})]})]})]})})]}),l.jsx(Hb,{open:c,onOpenChange:d})]})}function Bte(){const{classes:t,events:e,notes:r,assignments:n}=Ot(),[s,o]=m.useState(null),i=s?t.find(h=>h.id===s):null,a=s?r.filter(h=>h.classId===s):[],c=s?e.filter(h=>h.classId===s):[],d=s?e.find(h=>h.classId===s&&h.type==="exam"):null,u=h=>r.filter(f=>f.classId===h).length;return l.jsxs("div",{className:"min-h-screen",children:[l.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-sm px-4 sm:px-6 py-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(uo,{}),l.jsx("div",{className:"p-2 rounded-xl gradient-primary",children:l.jsx(Uy,{className:"h-6 w-6 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Study Mode"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate notes by class for focused exam prep"})]})]}),l.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:l.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[l.jsx(Ud,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ce,{placeholder:"Search notes...",className:"pl-9 w-full sm:w-64"})]})})]})}),l.jsxs("div",{className:"flex flex-col md:flex-row",children:[l.jsxs("aside",{className:"w-full md:w-72 border-b md:border-b-0 md:border-r border-border p-4 md:min-h-[calc(100vh-73px)]",children:[l.jsx("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-4",children:"Select a Class"}),l.jsx("div",{className:"flex md:flex-col gap-2 overflow-x-auto md:overflow-x-visible pb-2 md:pb-0",children:t.map(h=>{const f=u(h.id),p=s===h.id;return l.jsx("button",{onClick:()=>o(h.id),className:U("w-full text-left p-3 rounded-lg transition-all duration-200 shrink-0","border","md:w-full w-auto",p?"border-primary/50 bg-primary/5 shadow-sm":"border-transparent hover:bg-secondary hover:border-border"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${h.color}20`},children:l.jsx(vt,{className:"h-5 w-5",style:{color:h.color}})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-foreground truncate",children:h.code}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:h.name})]}),l.jsx(ue,{variant:"secondary",className:"shrink-0",children:f})]})},h.id)})})]}),l.jsx("main",{className:"flex-1 p-6",children:i?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(ue,{variant:"class",className:"text-sm px-3 py-1",style:{backgroundColor:`${i.color}20`,borderColor:`${i.color}50`,color:i.color},children:i.code}),i.instructor&&l.jsx("span",{className:"text-sm text-muted-foreground",children:i.instructor})]}),l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:i.name})]}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs(K,{variant:"outline",size:"sm",children:[l.jsx(vC,{className:"h-4 w-4 mr-2"}),"Filter Notes"]}),l.jsxs(K,{variant:"glow",size:"sm",children:[l.jsx(Nr,{className:"h-4 w-4"}),"Generate Study Guide"]})]})]}),d&&l.jsx(pe,{className:"border-warning/50 bg-warning/5",children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 rounded-lg bg-warning/20",children:l.jsx(bL,{className:"h-6 w-6 text-warning"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-foreground",children:"Upcoming Exam"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.title,"  ",me(new Date(d.date),"EEEE, MMMM d")]})]}),l.jsxs(K,{children:[l.jsx(Wy,{className:"h-4 w-4 mr-2"}),"Start Review"]})]})})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(pe,{children:l.jsxs(xe,{className:"p-4 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(zt,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Notes"})]})]})}),l.jsx(pe,{children:l.jsxs(xe,{className:"p-4 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:l.jsx(Sr,{className:"h-5 w-5 text-success"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Lectures"})]})]})}),l.jsx(pe,{children:l.jsxs(xe,{className:"p-4 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:l.jsx(tr,{className:"h-5 w-5 text-warning"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(a.reduce((h,f)=>{var p;return h+(((p=f.transcription)==null?void 0:p.length)||f.content.length)},0)/1e3),"k"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Words"})]})]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"All Notes"}),a.length===0?l.jsx(pe,{className:"border-dashed",children:l.jsx(xe,{className:"p-8 text-center",children:l.jsx("p",{className:"text-muted-foreground",children:"No notes for this class yet"})})}):l.jsx("div",{className:"space-y-3",children:a.map(h=>{const f=e.find(p=>p.id===h.eventId);return l.jsx(pe,{variant:"interactive",children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-2 rounded-lg bg-secondary shrink-0",children:l.jsx(zt,{className:"h-5 w-5 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-medium text-foreground",children:(f==null?void 0:f.title)||"Untitled Note"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:me(new Date(h.createdAt),"MMM d, yyyy")})]}),l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:h.transcription||h.content}),h.topics.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:h.topics.map(p=>l.jsx(ue,{variant:"secondary",className:"text-xs",children:p},p))})]}),l.jsx(wt,{className:"h-5 w-5 text-muted-foreground shrink-0"})]})})},h.id)})})]})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-secondary flex items-center justify-center mb-4",children:l.jsx(vt,{className:"h-10 w-10 text-muted-foreground"})}),l.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Select a class to study"}),l.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:"Choose a class from the sidebar to see all your notes, generate summaries, and prepare for exams"})]})})]})]})}function Ute(){const[t,e]=m.useState([]),[r,n]=m.useState(!0),s=m.useCallback(async()=>{try{const{data:{user:v}}=await q.auth.getUser();if(!v){e([]),n(!1);return}const{data:g,error:y}=await q.from("study_groups").select("*").eq("owner_id",v.id);if(y)throw y;const{data:x,error:w}=await q.from("study_group_members").select("group_id").eq("user_id",v.id);if(w)throw w;const b=(x==null?void 0:x.map(E=>E.group_id))||[];let k=[];if(b.length>0){const{data:E,error:j}=await q.from("study_groups").select("*").in("id",b);if(j)throw j;k=E||[]}const S=[...g||[],...k],N=Array.from(new Map(S.map(E=>[E.id,E])).values()),C=await Promise.all(N.map(async E=>{const{count:j}=await q.from("study_group_members").select("*",{count:"exact",head:!0}).eq("group_id",E.id);return{...E,member_count:(j||0)+1}}));e(C)}catch(v){console.error("Error fetching study groups:",v),Se.error("Failed to load study groups")}finally{n(!1)}},[]);return m.useEffect(()=>{s()},[s]),{groups:t,loading:r,refetch:s,createGroup:async v=>{try{const{data:{user:g}}=await q.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:y,error:x}=await q.from("study_groups").insert({name:v.name,description:v.description||null,class_id:v.class_id||null,school_name:v.school_name||null,owner_id:g.id}).select().single();if(x)throw x;return Se.success("Study group created!"),await s(),y}catch(g){return console.error("Error creating group:",g),Se.error("Failed to create study group"),null}},joinGroupByCode:async v=>{try{const{data:{user:g}}=await q.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:y,error:x}=await q.from("study_groups").select("id, name, owner_id").eq("invite_code",v.toLowerCase().trim()).single();if(x||!y)return Se.error("Invalid invite code"),null;if(y.owner_id===g.id)return Se.error("You are the owner of this group"),null;const{data:w}=await q.from("study_group_members").select("id").eq("group_id",y.id).eq("user_id",g.id).single();if(w)return Se.error("You are already a member of this group"),null;const{error:b}=await q.from("study_group_members").insert({group_id:y.id,user_id:g.id});if(b)throw b;return Se.success(`Joined "${y.name}"!`),await s(),y}catch(g){return console.error("Error joining group:",g),Se.error("Failed to join group"),null}},inviteByEmail:async(v,g)=>{try{const{data:{user:y}}=await q.auth.getUser();if(!y)throw new Error("Not authenticated");const{error:x}=await q.from("study_group_invites").insert({group_id:v,email:g.toLowerCase().trim(),invited_by:y.id});if(x){if(x.code==="23505")return Se.error("This email has already been invited"),!1;throw x}return Se.success("Invitation sent!"),!0}catch(y){return console.error("Error inviting:",y),Se.error("Failed to send invitation"),!1}},getGroupMembers:async v=>{try{const{data:g,error:y}=await q.from("study_group_members").select("*").eq("group_id",v);if(y)throw y;const x=(g==null?void 0:g.map(k=>k.user_id))||[];if(x.length===0)return[];const{data:w}=await q.from("profiles").select("user_id, display_name, email, avatar_url").in("user_id",x),b=new Map(w==null?void 0:w.map(k=>[k.user_id,k]));return(g||[]).map(k=>({...k,profile:b.get(k.user_id)||void 0}))}catch(g){return console.error("Error fetching members:",g),[]}},getSharedNotes:async v=>{try{const{data:g,error:y}=await q.from("shared_notes").select(`
          *,
          notes:note_id (id, title, content, created_at)
        `).eq("group_id",v).order("shared_at",{ascending:!1});if(y)throw y;const x=[...new Set((g==null?void 0:g.map(k=>k.shared_by))||[])],{data:w}=await q.from("profiles").select("user_id, display_name, email").in("user_id",x),b=new Map(w==null?void 0:w.map(k=>[k.user_id,k]));return(g||[]).map(k=>({...k,note:k.notes,sharer:b.get(k.shared_by)||void 0}))}catch(g){return console.error("Error fetching shared notes:",g),[]}},shareNote:async(v,g)=>{try{const{data:{user:y}}=await q.auth.getUser();if(!y)throw new Error("Not authenticated");const{error:x}=await q.from("shared_notes").insert({note_id:v,group_id:g,shared_by:y.id});if(x){if(x.code==="23505")return Se.error("This note is already shared with the group"),!1;throw x}return Se.success("Note shared with group!"),!0}catch(y){return console.error("Error sharing note:",y),Se.error("Failed to share note"),!1}},getAttendanceLeaderboard:async v=>{try{const{data:g}=await q.from("study_groups").select("class_id, owner_id").eq("id",v).single();if(!g)return[];const{data:y}=await q.from("study_group_members").select("user_id").eq("group_id",v),x=[g.owner_id,...(y==null?void 0:y.map(b=>b.user_id))||[]],w=[];for(const b of x){let k=0;if(g.class_id){const{count:N}=await q.from("sessions").select("*",{count:"exact",head:!0}).eq("user_id",b).eq("class_id",g.class_id).eq("attendance","present");k=N||0}const{data:S}=await q.from("profiles").select("display_name, email, avatar_url").eq("user_id",b).single();w.push({user_id:b,display_name:(S==null?void 0:S.display_name)||null,email:(S==null?void 0:S.email)||"Unknown",avatar_url:(S==null?void 0:S.avatar_url)||null,attendance_count:k})}return w.sort((b,k)=>k.attendance_count-b.attendance_count)}catch(g){return console.error("Error fetching leaderboard:",g),[]}},findGroupsBySchool:async v=>{try{const{data:g,error:y}=await q.from("study_groups").select("*").ilike("school_name",`%${v}%`);if(y)throw y;return g||[]}catch(g){return console.error("Error finding groups:",g),[]}},leaveGroup:async v=>{try{const{data:{user:g}}=await q.auth.getUser();if(!g)throw new Error("Not authenticated");const{error:y}=await q.from("study_group_members").delete().eq("group_id",v).eq("user_id",g.id);if(y)throw y;return Se.success("Left the group"),await s(),!0}catch(g){return console.error("Error leaving group:",g),Se.error("Failed to leave group"),!1}}}}function Vte(){const[t,e]=m.useState(!1),[r,n]=m.useState([]),[s,o]=m.useState(!1);return{generating:t,studyGuides:r,loading:s,generateStudyGuide:async d=>{e(!0);try{const{data:{session:u}}=await q.auth.getSession();if(!u)return Se.error("Please sign in to generate a study guide"),null;const h=await fetch("https://jqoaxvwjqgjxmenvuwql.supabase.co/functions/v1/generate-study-guide",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(d)});if(!h.ok){const p=await h.json();if(h.status===429)return Se.error("Rate limit exceeded. Please try again in a moment."),null;if(h.status===402)return Se.error("AI credits exhausted. Please add credits to continue."),null;throw new Error(p.error||"Failed to generate study guide")}const f=await h.json();if(f.error)throw new Error(f.error);return Se.success("Study guide generated!"),f}catch(u){return console.error("Error generating study guide:",u),Se.error(u instanceof Error?u.message:"Failed to generate study guide"),null}finally{e(!1)}},fetchStudyGuides:async d=>{o(!0);try{const{data:{user:u}}=await q.auth.getUser();if(!u){n([]);return}let h=q.from("study_guides").select("*").eq("user_id",u.id).order("generated_at",{ascending:!1});d&&(h=h.eq("class_id",d));const{data:f,error:p}=await h;if(p)throw p;const v=(f||[]).map(g=>({...g,key_concepts:g.key_concepts||[],practice_questions:g.practice_questions||[],flashcards:g.flashcards||[]}));n(v)}catch(u){console.error("Error fetching study guides:",u),Se.error("Failed to load study guides")}finally{o(!1)}},deleteStudyGuide:async d=>{try{const{error:u}=await q.from("study_guides").delete().eq("id",d);if(u)throw u;return n(h=>h.filter(f=>f.id!==d)),Se.success("Study guide deleted"),!0}catch(u){return console.error("Error deleting study guide:",u),Se.error("Failed to delete study guide"),!1}}}}function Wte({open:t,onOpenChange:e,onCreateGroup:r}){const[n,s]=m.useState(""),[o,i]=m.useState(""),[a,c]=m.useState(""),[d,u]=m.useState(""),[h,f]=m.useState([]),[p,v]=m.useState(!1),[g,y]=m.useState(!1);W.useEffect(()=>{t&&x()},[t]);const x=async()=>{v(!0);try{const{data:{user:b}}=await q.auth.getUser();if(!b)return;const{data:k}=await q.from("classes").select("id, name").eq("user_id",b.id).order("name");f(k||[])}catch(b){console.error("Error fetching classes:",b)}finally{v(!1)}},w=async b=>{if(b.preventDefault(),!!n.trim()){y(!0);try{await r({name:n.trim(),description:o.trim()||void 0,class_id:a||void 0,school_name:d.trim()||void 0}),s(""),i(""),c(""),u(""),e(!1)}finally{y(!1)}}};return l.jsx(bn,{open:t,onOpenChange:e,children:l.jsx(nn,{className:"sm:max-w-md",children:l.jsxs("form",{onSubmit:w,children:[l.jsxs(kn,{children:[l.jsxs(Sn,{className:"flex items-center gap-2",children:[l.jsx($r,{className:"h-5 w-5 text-primary"}),"Create Study Group"]}),l.jsx(Hl,{children:"Create a group to share notes and compete with classmates"})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"name",children:"Group Name *"}),l.jsx(Ce,{id:"name",value:n,onChange:b=>s(b.target.value),placeholder:"e.g., Bio 101 Study Squad",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"description",children:"Description"}),l.jsx(uh,{id:"description",value:o,onChange:b=>i(b.target.value),placeholder:"What's this group about?",rows:2})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"class",children:"Link to Class"}),l.jsxs(_s,{value:a,onValueChange:c,children:[l.jsx(ss,{children:l.jsx(Ts,{placeholder:"Select a class (optional)"})}),l.jsxs(is,{children:[l.jsx(Fe,{value:"none",children:"No class"}),h.map(b=>l.jsx(Fe,{value:b.id,children:b.name},b.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"school",children:"School Name"}),l.jsx(Ce,{id:"school",value:d,onChange:b=>u(b.target.value),placeholder:"e.g., State University"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Helps classmates find your group"})]})]}),l.jsxs(a_,{children:[l.jsx(K,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),l.jsxs(K,{type:"submit",disabled:g||!n.trim(),children:[g?l.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}):l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Create Group"]})]})]})})})}function Hte({open:t,onOpenChange:e,onJoinByCode:r,onFindBySchool:n}){const[s,o]=m.useState(""),[i,a]=m.useState(""),[c,d]=m.useState(!1),[u,h]=m.useState(!1),[f,p]=m.useState([]),v=async y=>{if(y.preventDefault(),!!s.trim()){d(!0);try{await r(s.trim())&&(o(""),e(!1))}finally{d(!1)}}},g=async()=>{if(i.trim()){h(!0);try{const y=await n(i.trim());p(y)}finally{h(!1)}}};return l.jsx(bn,{open:t,onOpenChange:e,children:l.jsxs(nn,{className:"sm:max-w-lg",children:[l.jsxs(kn,{children:[l.jsxs(Sn,{className:"flex items-center gap-2",children:[l.jsx($r,{className:"h-5 w-5 text-primary"}),"Join Study Group"]}),l.jsx(Hl,{children:"Join with an invite code or find groups at your school"})]}),l.jsxs(no,{defaultValue:"code",className:"mt-2",children:[l.jsxs(ks,{className:"grid w-full grid-cols-2",children:[l.jsxs(Ze,{value:"code",className:"gap-2",children:[l.jsx(Bd,{className:"h-4 w-4"}),"Invite Code"]}),l.jsxs(Ze,{value:"school",className:"gap-2",children:[l.jsx(Ud,{className:"h-4 w-4"}),"Find by School"]})]}),l.jsx(et,{value:"code",className:"mt-4",children:l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"invite-code",children:"Invite Code"}),l.jsx(Ce,{id:"invite-code",value:s,onChange:y=>o(y.target.value),placeholder:"Enter 8-character code",className:"font-mono text-lg tracking-wider",maxLength:8}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Ask your group member for the invite code"})]}),l.jsxs(K,{type:"submit",className:"w-full",disabled:c||s.length<1,children:[c?l.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}):l.jsx(Bd,{className:"h-4 w-4 mr-2"}),"Join Group"]})]})}),l.jsxs(et,{value:"school",className:"mt-4 space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ce,{value:i,onChange:y=>a(y.target.value),placeholder:"Search by school name...",onKeyDown:y=>y.key==="Enter"&&g()}),l.jsx(K,{onClick:g,disabled:u,children:u?l.jsx(Bt,{className:"h-4 w-4 animate-spin"}):l.jsx(Ud,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:f.length===0?l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Search for groups at your school"}):f.map(y=>l.jsxs(pe,{variant:"interactive",children:[l.jsxs(Nt,{className:"p-4 pb-2",children:[l.jsx(Ct,{className:"text-base",children:y.name}),l.jsxs(ho,{className:"text-xs",children:[y.school_name,"  ",y.member_count||1," member(s)"]})]}),y.description&&l.jsx(xe,{className:"p-4 pt-0",children:l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:y.description})})]},y.id))})]})]})]})})}function qte({group:t,isOwner:e,onClick:r}){const n=s=>{s.stopPropagation(),navigator.clipboard.writeText(t.invite_code),Se.success("Invite code copied!")};return l.jsxs(pe,{variant:"interactive",onClick:r,children:[l.jsx(Nt,{className:"pb-2",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx($r,{className:"h-4 w-4 text-primary"})}),l.jsxs("div",{children:[l.jsxs(Ct,{className:"text-base flex items-center gap-2",children:[t.name,e&&l.jsx(jl,{className:"h-3.5 w-3.5 text-warning"})]}),t.school_name&&l.jsx(ho,{className:"text-xs",children:t.school_name})]})]}),l.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsxs(xe,{className:"pt-2",children:[t.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:t.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ue,{variant:"secondary",className:"text-xs",children:[t.member_count||1," member",(t.member_count||1)>1?"s":""]})}),l.jsxs(K,{size:"sm",variant:"ghost",className:"h-7 text-xs gap-1",onClick:n,children:[l.jsx(By,{className:"h-3 w-3"}),t.invite_code]})]})]})]})}function Kte({open:t,onOpenChange:e,group:r,currentUserId:n,onGetMembers:s,onGetSharedNotes:o,onGetLeaderboard:i,onInviteByEmail:a,onLeaveGroup:c}){const[d,u]=m.useState([]),[h,f]=m.useState([]),[p,v]=m.useState([]),[g,y]=m.useState(!0),[x,w]=m.useState(""),[b,k]=m.useState(!1),[S,N]=m.useState(!1),C=(r==null?void 0:r.owner_id)===n;m.useEffect(()=>{t&&r&&E()},[t,r]);const E=async()=>{if(r){y(!0);try{const[T,A,I]=await Promise.all([s(r.id),o(r.id),i(r.id)]);u(T),f(A),v(I)}finally{y(!1)}}},j=()=>{r&&(navigator.clipboard.writeText(r.invite_code),Se.success("Invite code copied!"))},_=async()=>{if(!(!r||!x.trim())){k(!0);try{await a(r.id,x)&&w("")}finally{k(!1)}}},P=async()=>{if(!(!r||C)){N(!0);try{await c(r.id)&&e(!1)}finally{N(!1)}}};return r?l.jsx(Bp,{open:t,onOpenChange:e,children:l.jsxs(bu,{className:"w-full sm:max-w-lg",children:[l.jsx(ku,{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx($r,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx(Up,{children:r.name}),r.school_name&&l.jsx("p",{className:"text-sm text-muted-foreground",children:r.school_name})]})]})}),l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsxs(pe,{children:[l.jsx(Nt,{className:"p-4 pb-2",children:l.jsx(Ct,{className:"text-sm",children:"Invite Friends"})}),l.jsxs(xe,{className:"p-4 pt-2 space-y-3",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 justify-between",onClick:j,children:[l.jsx("span",{className:"font-mono tracking-wider",children:r.invite_code}),l.jsx(By,{className:"h-4 w-4"})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ce,{type:"email",placeholder:"friend@email.com",value:x,onChange:T=>w(T.target.value),onKeyDown:T=>T.key==="Enter"&&_()}),l.jsx(K,{size:"icon",onClick:_,disabled:b,children:b?l.jsx(Bt,{className:"h-4 w-4 animate-spin"}):l.jsx(mL,{className:"h-4 w-4"})})]})]})]}),l.jsxs(no,{defaultValue:"members",className:"flex-1",children:[l.jsxs(ks,{className:"w-full grid grid-cols-3",children:[l.jsxs(Ze,{value:"members",className:"gap-1.5",children:[l.jsx($r,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Members"})]}),l.jsxs(Ze,{value:"notes",className:"gap-1.5",children:[l.jsx(zt,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Notes"})]}),l.jsxs(Ze,{value:"leaderboard",className:"gap-1.5",children:[l.jsx(Ky,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Leaderboard"})]})]}),l.jsx(et,{value:"members",className:"mt-4",children:l.jsx(Pn,{className:"h-[350px]",children:g?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Bt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[l.jsx(ah,{className:"h-10 w-10",children:l.jsx(lh,{children:l.jsx(jl,{className:"h-4 w-4 text-amber-500"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm",children:"Owner"}),l.jsxs(ue,{variant:"secondary",className:"text-xs",children:[l.jsx(jl,{className:"h-3 w-3 mr-1"}),"Group Creator"]})]})]}),d.map(T=>{var A,I,L,F,V;return l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-muted/50",children:[l.jsxs(ah,{className:"h-10 w-10",children:[l.jsx(wb,{src:((A=T.profile)==null?void 0:A.avatar_url)||void 0}),l.jsx(lh,{children:(((I=T.profile)==null?void 0:I.display_name)||((L=T.profile)==null?void 0:L.email)||"U")[0].toUpperCase()})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:((F=T.profile)==null?void 0:F.display_name)||((V=T.profile)==null?void 0:V.email)||"Unknown"}),l.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["Joined ",new Date(T.joined_at).toLocaleDateString()]})]})]},T.id)})]})})}),l.jsx(et,{value:"notes",className:"mt-4",children:l.jsx(Pn,{className:"h-[350px]",children:g?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Bt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):h.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(zt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No shared notes yet"}),l.jsx("p",{className:"text-xs mt-1",children:"Share notes from your classes"})]}):l.jsx("div",{className:"space-y-2",children:h.map(T=>{var A,I,L;return l.jsx(pe,{children:l.jsxs(xe,{className:"p-3",children:[l.jsx("p",{className:"font-medium text-sm",children:((A=T.note)==null?void 0:A.title)||"Untitled Note"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Shared by ",((I=T.sharer)==null?void 0:I.display_name)||((L=T.sharer)==null?void 0:L.email)||"Unknown"," "," ",new Date(T.shared_at).toLocaleDateString()]})]})},T.id)})})})}),l.jsx(et,{value:"leaderboard",className:"mt-4",children:l.jsx(Pn,{className:"h-[350px]",children:g?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Bt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):p.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Ky,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No attendance data yet"}),l.jsx("p",{className:"text-xs mt-1",children:"Mark your class attendance to compete!"})]}):l.jsx("div",{className:"space-y-2",children:p.map((T,A)=>l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${A===0?"bg-primary/10 border border-primary/20":A===1?"bg-muted border border-muted-foreground/20":A===2?"bg-secondary border border-secondary-foreground/20":"hover:bg-muted/50"}`,children:[l.jsx("div",{className:"w-6 text-center font-bold text-lg",children:A===0?"":A===1?"":A===2?"":A+1}),l.jsxs(ah,{className:"h-10 w-10",children:[l.jsx(wb,{src:T.avatar_url||void 0}),l.jsx(lh,{children:(T.display_name||T.email)[0].toUpperCase()})]}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("p",{className:"font-medium text-sm truncate",children:T.display_name||T.email})}),l.jsxs(ue,{variant:"outline",className:"font-mono",children:[T.attendance_count," classes"]})]},T.user_id))})})})]}),!C&&l.jsxs(K,{variant:"outline",className:"w-full text-destructive hover:text-destructive",onClick:P,disabled:S,children:[S?l.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}):l.jsx(aL,{className:"h-4 w-4 mr-2"}),"Leave Group"]})]})]})}):null}function Gte({open:t,onOpenChange:e,guide:r}){const[n,s]=m.useState(0),[o,i]=m.useState(!1),[a,c]=m.useState(new Set),[d,u]=m.useState(0),[h,f]=m.useState(!1),[p,v]=m.useState(new Map);if(!r)return null;const g=r.flashcards||[],y=r.practice_questions||[],x=r.key_concepts||[],w=()=>{s(0),i(!1),c(new Set)},b=j=>{j&&c(_=>new Set([..._,n])),i(!1),n<g.length-1&&s(n+1)},k=()=>{i(!1),n>0&&s(n-1)},S=g[n],N=y[d],C=g.length>0?(n+1)/g.length*100:0,E=y.length>0?(d+1)/y.length*100:0;return l.jsx(Bp,{open:t,onOpenChange:e,children:l.jsxs(bu,{className:"w-full sm:max-w-2xl",children:[l.jsx(ku,{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(vt,{className:"h-5 w-5 text-primary"})}),l.jsx(Up,{children:r.title})]})}),l.jsxs(no,{defaultValue:"summary",className:"mt-4",children:[l.jsxs(ks,{className:"w-full grid grid-cols-4",children:[l.jsxs(Ze,{value:"summary",className:"gap-1.5",children:[l.jsx(vt,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Summary"})]}),l.jsxs(Ze,{value:"concepts",className:"gap-1.5",children:[l.jsx(mC,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Concepts"})]}),l.jsxs(Ze,{value:"questions",className:"gap-1.5",children:[l.jsx(H3,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Quiz"})]}),l.jsxs(Ze,{value:"flashcards",className:"gap-1.5",children:[l.jsx(oL,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Cards"})]})]}),l.jsx(et,{value:"summary",className:"mt-4",children:l.jsx(Pn,{className:"h-[500px]",children:l.jsxs(pe,{children:[l.jsx(Nt,{children:l.jsx(Ct,{className:"text-lg",children:"Key Summary"})}),l.jsx(xe,{children:l.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:(r.summary||"").split(`
`).map((j,_)=>l.jsx("p",{className:"mb-3 text-muted-foreground",children:j},_))})})]})})}),l.jsx(et,{value:"concepts",className:"mt-4",children:l.jsx(Pn,{className:"h-[500px]",children:l.jsx("div",{className:"space-y-3",children:x.map((j,_)=>l.jsxs(pe,{children:[l.jsx(Nt,{className:"pb-2",children:l.jsxs(Ct,{className:"text-base flex items-center gap-2",children:[l.jsx(ue,{variant:"outline",className:"text-xs",children:_+1}),j.term]})}),l.jsx(xe,{children:l.jsx("p",{className:"text-sm text-muted-foreground",children:j.definition})})]},_))})})}),l.jsx(et,{value:"questions",className:"mt-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsxs("span",{children:["Question ",d+1," of ",y.length]}),l.jsxs("span",{children:[p.size," answered"]})]}),l.jsx(ch,{value:E,className:"h-2"}),N&&l.jsxs(pe,{className:"min-h-[300px]",children:[l.jsxs(Nt,{children:[l.jsx(ue,{variant:"secondary",className:"w-fit text-xs mb-2",children:N.type==="multiple_choice"?"Multiple Choice":"Short Answer"}),l.jsx(Ct,{className:"text-base font-normal leading-relaxed",children:N.question})]}),l.jsxs(xe,{className:"space-y-3",children:[N.type==="multiple_choice"&&N.options&&l.jsx("div",{className:"space-y-2",children:N.options.map((j,_)=>l.jsxs("div",{className:`p-3 rounded-lg border transition-colors ${h&&j===N.answer?"bg-green-500/10 border-green-500/50":"hover:bg-muted/50"}`,children:[l.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+_),"."]}),j]},_))}),h&&l.jsxs("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20 mt-4",children:[l.jsx("p",{className:"text-sm font-medium mb-1",children:"Answer:"}),l.jsx("p",{className:"text-sm",children:N.answer})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{u(Math.max(0,d-1)),f(!1)},disabled:d===0,children:[l.jsx(Cl,{className:"h-4 w-4 mr-1"}),"Previous"]}),l.jsxs(K,{variant:"secondary",size:"sm",onClick:()=>f(!h),children:[h?l.jsx(J3,{className:"h-4 w-4 mr-1"}):l.jsx(Q3,{className:"h-4 w-4 mr-1"}),h?"Hide":"Show"," Answer"]}),l.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{u(Math.min(y.length-1,d+1)),f(!1)},disabled:d===y.length-1,children:["Next",l.jsx(wt,{className:"h-4 w-4 ml-1"})]})]})]})}),l.jsx(et,{value:"flashcards",className:"mt-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsxs("span",{children:["Card ",n+1," of ",g.length]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-green-600",children:[a.size," known"]}),l.jsxs(K,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:w,children:[l.jsx(NC,{className:"h-3 w-3 mr-1"}),"Reset"]})]})]}),l.jsx(ch,{value:C,className:"h-2"}),S&&l.jsx(pe,{className:"min-h-[250px] flex items-center justify-center cursor-pointer transition-all hover:shadow-md",onClick:()=>i(!o),children:l.jsxs(xe,{className:"p-8 text-center",children:[l.jsx(ue,{variant:"outline",className:"mb-4",children:o?"Answer":"Question"}),l.jsx("p",{className:"text-lg",children:o?S.back:S.front}),!o&&l.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Click to reveal answer"})]})}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(K,{variant:"outline",size:"icon",onClick:k,disabled:n===0,children:l.jsx(Cl,{className:"h-4 w-4"})}),l.jsxs(K,{variant:"outline",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>b(!1),disabled:n===g.length-1,children:[l.jsx(Wd,{className:"h-4 w-4 mr-1"}),"Still Learning"]}),l.jsxs(K,{variant:"outline",className:"text-primary hover:text-primary hover:bg-primary/10",onClick:()=>b(!0),disabled:n===g.length-1,children:[l.jsx(Xi,{className:"h-4 w-4 mr-1"}),"Got It"]}),l.jsx(K,{variant:"outline",size:"icon",onClick:()=>{i(!1),s(Math.min(g.length-1,n+1))},disabled:n===g.length-1,children:l.jsx(wt,{className:"h-4 w-4"})})]})]})})]})]})})}function Yte(){const{groups:t,loading:e,createGroup:r,joinGroupByCode:n,inviteByEmail:s,getGroupMembers:o,getSharedNotes:i,getAttendanceLeaderboard:a,findGroupsBySchool:c,leaveGroup:d}=Ute(),{studyGuides:u,loading:h,generating:f,generateStudyGuide:p,fetchStudyGuides:v}=Vte(),{classes:g}=ha(),[y,x]=m.useState(!1),[w,b]=m.useState(!1),[k,S]=m.useState(null),[N,C]=m.useState(!1),[E,j]=m.useState(null),[_,P]=m.useState(!1),[T,A]=m.useState(""),I=g.map(O=>({id:O.id,name:O.name}));m.useEffect(()=>{v()},[]);const L=async()=>{if(!T){Se.error("Please select a class");return}const O=await p({classId:T});O&&(j(O),P(!0),v())},F=O=>{S(O),C(!0)},V=O=>{j(O),P(!0)};return l.jsxs("div",{className:"container mx-auto py-4 sm:py-6 md:py-8 px-4 max-w-6xl",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold flex items-center gap-2 sm:gap-3",children:[l.jsx(uo,{}),l.jsx($r,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary shrink-0"}),"Study Hub"]}),l.jsx("p",{className:"text-muted-foreground mt-1 text-sm sm:text-base",children:"Collaborate with classmates and generate AI study guides"})]}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap sm:flex-nowrap",children:[l.jsxs(K,{variant:"outline",onClick:()=>b(!0),className:"flex-1 sm:flex-none min-h-[44px] touch-manipulation",children:[l.jsx(Bd,{className:"h-4 w-4 mr-2 shrink-0"}),"Join Group"]}),l.jsxs(K,{onClick:()=>x(!0),className:"flex-1 sm:flex-none min-h-[44px] touch-manipulation",children:[l.jsx(Rt,{className:"h-4 w-4 mr-2 shrink-0"}),"New Group"]})]})]}),l.jsxs(no,{defaultValue:"groups",className:"space-y-6",children:[l.jsxs(ks,{children:[l.jsxs(Ze,{value:"groups",className:"gap-2",children:[l.jsx($r,{className:"h-4 w-4"}),"Study Groups"]}),l.jsxs(Ze,{value:"guides",className:"gap-2",children:[l.jsx(vt,{className:"h-4 w-4"}),"Study Guides"]})]}),l.jsx(et,{value:"groups",children:e?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Bt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?l.jsx(pe,{className:"border-dashed",children:l.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx($r,{className:"h-12 w-12 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-1",children:"No study groups yet"}),l.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create a group to share notes and compete with classmates"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(K,{variant:"outline",onClick:()=>b(!0),children:[l.jsx(Bd,{className:"h-4 w-4 mr-2"}),"Join Group"]}),l.jsxs(K,{onClick:()=>x(!0),children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Create Group"]})]})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(O=>l.jsx(qte,{group:O,isOwner:!1,onClick:()=>F(O)},O.id))})}),l.jsxs(et,{value:"guides",className:"space-y-6",children:[l.jsxs(pe,{children:[l.jsxs(Nt,{children:[l.jsxs(Ct,{className:"flex items-center gap-2",children:[l.jsx(Nr,{className:"h-5 w-5 text-primary"}),"Generate Study Guide"]}),l.jsx(ho,{children:"AI will condense your notes into summaries, flashcards, and practice questions"})]}),l.jsxs(xe,{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs(_s,{value:T||"__placeholder__",onValueChange:O=>A(O==="__placeholder__"?"":O),children:[l.jsx(ss,{className:"flex-1",children:l.jsx(Ts,{placeholder:"Select a class"})}),l.jsxs(is,{children:[l.jsx(Fe,{value:"__placeholder__",children:I.length===0?"No classes available":"Select a class"}),I.map(O=>l.jsx(Fe,{value:O.id,children:O.name},O.id))]})]}),l.jsxs(K,{onClick:L,disabled:f||!T||T==="__placeholder__",children:[f?l.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}):l.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Generate"]})]})]}),h?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Bt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):u.length===0?l.jsx(pe,{className:"border-dashed",children:l.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(vt,{className:"h-12 w-12 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-1",children:"No study guides yet"}),l.jsx("p",{className:"text-muted-foreground text-center",children:"Generate your first study guide from your class notes"})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(O=>{var D,H,ne;return l.jsxs(pe,{variant:"interactive",onClick:()=>V(O),children:[l.jsxs(Nt,{className:"pb-2",children:[l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(vt,{className:"h-4 w-4 text-primary"})}),l.jsx(Ct,{className:"text-base",children:O.title})]})}),l.jsxs(ho,{className:"text-xs",children:["Generated ",new Date(O.generated_at).toLocaleDateString()]})]}),l.jsx(xe,{className:"pt-2",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(ue,{variant:"secondary",className:"text-xs",children:[((D=O.key_concepts)==null?void 0:D.length)||0," concepts"]}),l.jsxs(ue,{variant:"secondary",className:"text-xs",children:[((H=O.practice_questions)==null?void 0:H.length)||0," questions"]}),l.jsxs(ue,{variant:"secondary",className:"text-xs",children:[((ne=O.flashcards)==null?void 0:ne.length)||0," flashcards"]})]})})]},O.id)})})]})]}),l.jsx(Wte,{open:y,onOpenChange:x,onCreateGroup:r}),l.jsx(Hte,{open:w,onOpenChange:b,onJoinByCode:n,onFindBySchool:c}),l.jsx(Kte,{open:N,onOpenChange:C,group:k,currentUserId:null,onGetMembers:o,onGetSharedNotes:i,onGetLeaderboard:a,onInviteByEmail:s,onLeaveGroup:d}),l.jsx(Gte,{open:_,onOpenChange:P,guide:E})]})}function Jte(){const{classes:t}=Ot(),e=__,r=o=>t.find(i=>i.id===o),n=Nn(new Date,{weekStartsOn:1}),s=Pe(n,7);return l.jsxs("div",{className:"min-h-screen p-4 sm:p-6 max-w-5xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-6 sm:mb-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(uo,{}),l.jsx("div",{className:"p-2 rounded-xl gradient-primary",children:l.jsx(Nr,{className:"h-6 w-6 text-primary-foreground"})}),l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Weekly Recap"})]}),l.jsx("p",{className:"text-muted-foreground",children:"AI-powered summaries of what you learned each week"})]}),l.jsxs(K,{variant:"outline",children:[l.jsx(SC,{className:"h-4 w-4 mr-2"}),"Generate New"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[l.jsx(pe,{children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(zt,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-foreground",children:"12"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes this week"})]})]})})}),l.jsx(pe,{children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:l.jsx(qy,{className:"h-5 w-5 text-success"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-foreground",children:"8"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Lectures attended"})]})]})})}),l.jsx(pe,{children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:l.jsx(mC,{className:"h-5 w-5 text-warning"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-foreground",children:"24"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Topics covered"})]})]})})})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsxs(ue,{variant:"default",className:"px-3 py-1",children:[me(s,"MMM d")," - ",me(Pe(n,1),"MMM d, yyyy")]}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Last week"})]}),l.jsx("div",{className:"space-y-6",children:e.map(o=>{const i=r(o.classId);return l.jsxs(pe,{className:"overflow-hidden",children:[l.jsx(Nt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${i==null?void 0:i.color}20`},children:l.jsx(vt,{className:"h-5 w-5",style:{color:i==null?void 0:i.color}})}),l.jsxs("div",{children:[l.jsxs(Ct,{className:"flex items-center gap-2",children:[i==null?void 0:i.name,l.jsx(ue,{variant:"class",style:{backgroundColor:`${i==null?void 0:i.color}20`,borderColor:`${i==null?void 0:i.color}50`,color:i==null?void 0:i.color},children:i==null?void 0:i.code})]}),l.jsxs(ho,{className:"flex items-center gap-1 mt-1",children:[l.jsx(Sr,{className:"h-3 w-3"}),"Generated ",me(o.generatedAt,"MMM d, h:mm a")]})]})]}),l.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:l.jsx(rn,{to:`/classes/${o.classId}`,children:l.jsx(wt,{className:"h-4 w-4"})})})]})}),l.jsxs(xe,{children:[l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:o.keyTopics.map(a=>l.jsx(ue,{variant:"secondary",children:a},a))}),l.jsx("div",{className:"prose prose-sm prose-invert max-w-none",children:l.jsx("div",{className:"whitespace-pre-wrap text-sm text-foreground/90 leading-relaxed",children:o.summary})}),l.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[l.jsx(zt,{className:"h-3 w-3"}),"Generated from ",o.sourceNoteIds.length," note",o.sourceNoteIds.length!==1&&"s"]})})]})]},o.id)})}),e.length===0&&l.jsx(pe,{className:"border-dashed",children:l.jsxs(xe,{className:"p-12 text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-secondary flex items-center justify-center mb-4",children:l.jsx(Nr,{className:"h-8 w-8 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No recaps yet"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Take some notes during your lectures and we'll generate your first weekly recap"}),l.jsx(K,{variant:"outline",children:"Go to Calendar"})]})})]})}var Gb="Radio",[Qte,II]=Ft(Gb),[Xte,Zte]=Qte(Gb),DI=m.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:a="on",onCheck:c,form:d,...u}=t,[h,f]=m.useState(null),p=we(e,y=>f(y)),v=m.useRef(!1),g=h?d||!!h.closest("form"):!0;return l.jsxs(Xte,{scope:r,checked:s,disabled:i,children:[l.jsx(se.button,{type:"button",role:"radio","aria-checked":s,"data-state":zI(s),"data-disabled":i?"":void 0,disabled:i,value:a,...u,ref:p,onClick:Q(t.onClick,y=>{s||c==null||c(),g&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})}),g&&l.jsx(FI,{control:h,bubbles:!v.current,name:n,value:a,checked:s,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});DI.displayName=Gb;var LI="RadioIndicator",$I=m.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,o=Zte(LI,r);return l.jsx(er,{present:n||o.checked,children:l.jsx(se.span,{"data-state":zI(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})})});$I.displayName=LI;var ere="RadioBubbleInput",FI=m.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...s},o)=>{const i=m.useRef(null),a=we(i,o),c=tu(r),d=Jd(e);return m.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const v=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(v)}},[c,r,n]),l.jsx(se.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});FI.displayName=ere;function zI(t){return t?"checked":"unchecked"}var tre=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cg="RadioGroup",[rre]=Ft(cg,[sc,II]),BI=sc(),UI=II(),[nre,sre]=rre(cg),VI=m.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:a=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...f}=t,p=BI(r),v=fa(d),[g,y]=Wn({prop:o,defaultProp:s??null,onChange:h,caller:cg});return l.jsx(nre,{scope:r,name:n,required:i,disabled:a,value:g,onValueChange:y,children:l.jsx(Ew,{asChild:!0,...p,orientation:c,dir:v,loop:u,children:l.jsx(se.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":a?"":void 0,dir:v,...f,ref:e})})})});VI.displayName=cg;var WI="RadioGroupItem",HI=m.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,o=sre(WI,r),i=o.disabled||n,a=BI(r),c=UI(r),d=m.useRef(null),u=we(e,d),h=o.value===s.value,f=m.useRef(!1);return m.useEffect(()=>{const p=g=>{tre.includes(g.key)&&(f.current=!0)},v=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",v)}},[]),l.jsx(_w,{asChild:!0,...a,focusable:!i,active:h,children:l.jsx(DI,{disabled:i,required:o.required,checked:h,...c,...s,name:o.name,ref:u,onCheck:()=>o.onValueChange(s.value),onKeyDown:Q(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Q(s.onFocus,()=>{var p;f.current&&((p=d.current)==null||p.click())})})})});HI.displayName=WI;var ore="RadioGroupIndicator",qI=m.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=UI(r);return l.jsx($I,{...s,...n,ref:e})});qI.displayName=ore;var KI=VI,GI=HI,ire=qI;const YI=m.forwardRef(({className:t,...e},r)=>l.jsx(KI,{className:U("grid gap-2",t),...e,ref:r}));YI.displayName=KI.displayName;const JI=m.forwardRef(({className:t,...e},r)=>l.jsx(GI,{ref:r,className:U("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(ire,{className:"flex items-center justify-center",children:l.jsx(Gs,{className:"h-2.5 w-2.5 fill-current text-current"})})}));JI.displayName=GI.displayName;function are(){const[t,e]=m.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("forward-theme");return n||"light"}return"light"});return m.useEffect(()=>{const n=document.documentElement;t==="dark"?(n.classList.add("dark"),n.classList.remove("light")):(n.classList.add("light"),n.classList.remove("dark")),localStorage.setItem("forward-theme",t)},[t]),{theme:t,setTheme:e,toggleTheme:()=>{e(n=>n==="dark"?"light":"dark")}}}const QI=[{value:"/",label:"Calendar"},{value:"/dashboard",label:"Dashboard"},{value:"/classes",label:"Classes"},{value:"/todo",label:"To-Do"},{value:"/study-groups",label:"Study Hub"},{value:"/settings",label:"Settings"}],XI="forward-home-page";function lre(){const[t,e]=m.useState("/");return m.useEffect(()=>{const n=localStorage.getItem(XI);n&&QI.some(s=>s.value===n)&&e(n)},[]),{homePage:t,setHomePage:n=>{e(n),localStorage.setItem(XI,n)},homePageOptions:QI}}const Aa={free:100*1024*1024,plus:5*1024*1024*1024,premium:50*1024*1024*1024},ZI={plus:{monthly:4.99,yearly:49.99},premium:{monthly:9.99,yearly:99.99}};function Yb(t){if(t===0)return"0 B";const e=1024,r=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,n)).toFixed(2))+" "+r[n]}function Jb(){const[t,e]=m.useState({usedBytes:0,limitBytes:Aa.free,tier:"free",usedPercentage:0,usedFormatted:"0 B",limitFormatted:Yb(Aa.free)}),[r,n]=m.useState(!1),s=m.useCallback(async()=>{e({usedBytes:0,limitBytes:Aa.free,tier:"free",usedPercentage:0,usedFormatted:"0 B",limitFormatted:Yb(Aa.free)}),n(!1)},[]);return m.useEffect(()=>{s()},[s]),{storageInfo:t,loading:r,refetch:s,getTierInfo:i=>({name:i.charAt(0).toUpperCase()+i.slice(1),limit:Aa[i],limitFormatted:Yb(Aa[i]),price:i==="free"?null:ZI[i]}),tierLimits:Aa,tierPrices:ZI}}function cre({onUpgrade:t}){const{storageInfo:e,loading:r}=Jb();if(r)return l.jsxs(pe,{children:[l.jsx(Nt,{children:l.jsxs(Ct,{className:"flex items-center gap-2",children:[l.jsx(yC,{className:"h-5 w-5 text-primary"}),"Storage"]})}),l.jsx(xe,{children:l.jsxs("div",{className:"animate-pulse space-y-3",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),l.jsx("div",{className:"h-3 bg-muted rounded-full"}),l.jsx("div",{className:"h-4 bg-muted rounded w-1/3"})]})})]});if(!e)return null;const n=e.usedPercentage>=80,s=e.usedPercentage>=95;return l.jsxs(pe,{children:[l.jsxs(Nt,{children:[l.jsxs(Ct,{className:"flex items-center gap-2",children:[l.jsx(yC,{className:"h-5 w-5 text-primary"}),"Storage"]}),l.jsx(ho,{children:"Manage your file storage across notes, recordings, and syllabi"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:[e.usedFormatted," of ",e.limitFormatted," used"]}),l.jsxs("span",{className:U("font-medium",s&&"text-destructive",n&&!s&&"text-warning"),children:[e.usedPercentage.toFixed(1),"%"]})]}),l.jsx(ch,{value:e.usedPercentage,className:U("h-3",s&&"[&>div]:bg-destructive",n&&!s&&"[&>div]:bg-warning")})]}),n&&l.jsx("div",{className:U("text-sm p-3 rounded-lg",s?"bg-destructive/10 text-destructive":"bg-warning/10 text-warning"),children:s?"You've almost reached your storage limit. Upgrade to continue uploading.":"You're running low on storage. Consider upgrading for more space."}),e.tier==="free"&&l.jsxs(K,{onClick:t,variant:"outline",className:"w-full border-primary/30 hover:bg-primary/5",children:[l.jsx(qy,{className:"h-4 w-4 mr-2"}),"Need more storage? Upgrade your plan"]})]})]})}const dre={free:["100 MB storage","Unlimited notes","Basic study guides","Join study groups"],plus:["5 GB storage","Priority AI processing","Advanced study guides","Create study groups","Audio transcription"],premium:["50 GB storage","Unlimited AI features","Export all data","Priority support","Early access to features","Custom themes"]};function ure({isOpen:t,onClose:e}){const{storageInfo:r,getTierInfo:n}=Jb();if(!t)return null;const s=(r==null?void 0:r.tier)||"free",o=a=>{Se.info("Payment integration coming soon! You'll be able to upgrade here.",{description:`Selected: ${a.charAt(0).toUpperCase()+a.slice(1)} plan`,duration:4e3})},i=[{tier:"free",icon:l.jsx(CL,{className:"h-5 w-5"}),color:"text-muted-foreground"},{tier:"plus",icon:l.jsx(Nr,{className:"h-5 w-5"}),color:"text-blue-500"},{tier:"premium",icon:l.jsx(jl,{className:"h-5 w-5"}),color:"text-amber-500"}];return l.jsxs(pe,{className:"border-primary/20",children:[l.jsx(Nt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(Ct,{className:"flex items-center gap-2",children:[l.jsx(jl,{className:"h-5 w-5 text-primary"}),"Upgrade Your Plan"]}),l.jsx(ho,{children:"Get more storage and premium features"})]}),l.jsx(K,{variant:"ghost",size:"sm",onClick:e,children:"Close"})]})}),l.jsxs(xe,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(({tier:a,icon:c,color:d})=>{const u=n(a),h=a===s,f=a!=="free"&&!h;return l.jsxs("div",{className:U("relative p-4 rounded-xl border transition-all",h?"border-primary bg-primary/5":"border-border hover:border-primary/30 hover:bg-secondary/50"),children:[h&&l.jsx(ue,{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-primary",children:"Current"}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:U("inline-flex p-2 rounded-full bg-secondary mb-2",d),children:c}),l.jsx("h3",{className:"font-semibold text-lg",children:u.name}),u.price?l.jsxs("div",{className:"mt-1",children:[l.jsxs("span",{className:"text-2xl font-bold",children:["$",u.price.monthly]}),l.jsx("span",{className:"text-muted-foreground text-sm",children:"/mo"})]}):l.jsx("div",{className:"text-2xl font-bold text-muted-foreground mt-1",children:"Free"})]}),l.jsx("div",{className:"space-y-2 mb-4",children:dre[a].map((p,v)=>l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Xi,{className:"h-4 w-4 text-primary shrink-0"}),l.jsx("span",{children:p})]},v))}),f&&l.jsxs(K,{className:"w-full",variant:a==="premium"?"glow":"default",onClick:()=>o(a),children:["Upgrade to ",u.name]}),h&&a!=="premium"&&l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Your current plan"})]},a)})}),l.jsx("p",{className:"text-center text-xs text-muted-foreground mt-4",children:"Payment processing will be available soon. Prices may vary based on region."})]})]})}function hre(){const{theme:t,toggleTheme:e}=are(),{focusModeEnabled:r,toggleFocusMode:n}=T_(),{homePage:s,setHomePage:o,homePageOptions:i}=lre(),{storageInfo:a}=Jb(),[c,d]=m.useState(!1);return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 p-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(uo,{}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Settings"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and preferences"})]})]}),a&&l.jsxs(ue,{variant:"outline",className:"gap-1",children:[l.jsx(jl,{className:"h-3 w-3"}),a.tier.charAt(0).toUpperCase()+a.tier.slice(1)]})]}),l.jsx(cre,{onUpgrade:()=>d(!0)}),l.jsx(ure,{isOpen:c,onClose:()=>d(!1)}),l.jsxs(pe,{children:[l.jsxs(Nt,{children:[l.jsxs(Ct,{className:"flex items-center gap-2",children:[t==="dark"?l.jsx(bC,{className:"h-5 w-5 text-primary"}):l.jsx(wL,{className:"h-5 w-5 text-primary"}),"Appearance"]}),l.jsx(ho,{children:"Customize how Focus looks"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(de,{children:"Dark Mode"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t==="dark"?"Currently using dark theme":"Currently using light theme"})]}),l.jsx(Go,{checked:t==="dark",onCheckedChange:e,"aria-label":"Toggle dark mode"})]}),l.jsx(wc,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(de,{children:"Focus Mode"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Suppress in-app notifications while studying"})]}),l.jsx(Go,{checked:r,onCheckedChange:n,"aria-label":"Toggle focus mode"})]}),l.jsx(wc,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nL,{className:"h-4 w-4 text-primary"}),l.jsx(de,{children:"Default Home Page"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose what you see first when you open the app"}),l.jsx(YI,{value:s,onValueChange:u=>o(u),className:"grid grid-cols-2 gap-2",children:i.map(u=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(JI,{value:u.value,id:`home-${u.value}`}),l.jsx(de,{htmlFor:`home-${u.value}`,className:"cursor-pointer",children:u.label})]},u.value))})]})]})]})]})}function fre({name:t,image:e,bullets:r,bio:n,role:s}){const[o,i]=m.useState(!1),[a,c]=m.useState(!1);return l.jsx("div",{className:"h-[280px] sm:h-[320px] cursor-pointer [perspective:1000px] touch-manipulation min-h-[280px]",onClick:()=>i(!o),role:"button",tabIndex:0,onKeyDown:d=>(d.key==="Enter"||d.key===" ")&&i(u=>!u),"aria-label":`${t} - ${o?"Tap to flip back":"Tap to learn more"}`,children:l.jsxs("div",{className:"relative h-full w-full transition-transform duration-500",style:{transformStyle:"preserve-3d",transform:o?"rotateY(180deg)":"rotateY(0deg)"},children:[l.jsxs("div",{className:"absolute inset-0 rounded-2xl border border-border overflow-hidden shadow-lg",style:{backfaceVisibility:"hidden"},children:[l.jsx("div",{className:"w-full h-full bg-muted/50 flex items-center justify-center",children:a?l.jsx(NL,{className:"h-24 w-24 text-primary/50"}):l.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover",onError:()=>c(!0)})}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent",children:[l.jsx("p",{className:"text-white font-semibold text-lg",children:t}),s&&l.jsx("p",{className:"text-white/80 text-sm",children:s}),l.jsx("p",{className:"text-white/60 text-xs mt-1",children:"Tap to learn more"})]})]}),l.jsxs("div",{className:"absolute inset-0 rounded-2xl border border-border bg-card p-4 sm:p-6 overflow-y-auto shadow-lg overscroll-contain",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[l.jsx("h3",{className:"font-semibold text-lg text-foreground mb-2",children:t}),s&&l.jsx("p",{className:"text-primary text-sm mb-4",children:s}),l.jsx("ul",{className:"text-muted-foreground text-sm leading-relaxed list-disc list-inside space-y-1 mb-4",children:r.split(`
`).map((d,u)=>l.jsx("li",{children:d.replace(/^[\-]\s*/,"")},u))}),l.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:n}),l.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Tap to flip back"})]})]})})}const pre=[{name:"Fredre'Oni (Oni) Terrado",image:"/focusstartup.github.io/oni.jpeg",role:"CEO",bullets:` UNC Chapel Hill
 Psychology, Info Science & Entrepreneurship
 Morehead-Cain Scholar
 Carolina Union Activities Board President
 Frohlich Lab research
 Shuford Ambassador`,bio:"Growing up as a military child, Oni learned that home is built through connections and community. She's led revitalization projects, supported refugees in Thailand, and contributes to Alzheimer's research. Her work sits at the intersection of entrepreneurship and psychologyhelping people find belonging and mental well-being."},{name:"Etornam Agbemabiese",image:"/focusstartup.github.io/etornam.jpeg",role:"COO",bullets:` UNC Chapel Hill
 Business Admin & Computer Science
 MLT Scholar, VCIC Fellow
 Incoming DaVita Redwoods Analyst
 STAR Consultant`,bio:"Etornam loves dissecting complex problems and turning data into action. A founding team member of Zellit and VCIC Fellow, he's focused on consulting and venture capitalespecially in emerging markets where investing demands strong judgment and contextual intelligence."},{name:"Grace Odondi",image:"/focusstartup.github.io/grace.jpeg",role:"CTO",bullets:` UNC Chapel Hill
 CS & Math
 Full Stack SWE @ Fidelity
 VP Black in Technology
 UNC CS Teaching Assistant
 ColorStack`,bio:"Grace is committed to making technical education more accessible. As VP of Black in Technology and a CS Teaching Assistant, she helps students build skills and confidence. She brings diverse perspectives to everything she doesfrom the classroom to the choir."}],mre=[{icon:Sr,title:"Smart Calendar Hub",description:"Sync Google, Outlook & Apple calendars in one unified view."},{icon:vt,title:"Class-Linked Notes",description:"Every note auto-links to its class session. Never lose context."},{icon:Nr,title:"AI Weekly Recaps",description:"Get intelligent summaries of your week to prep for exams."},{icon:El,title:"Smart To-Dos",description:"Tasks extracted from notes and syllabi, organized by priority."},{icon:$r,title:"Study Groups",description:"Collaborate with classmates and share notes effortlessly."},{icon:Uy,title:"Study Mode",description:"AI-generated flashcards and study guides from your notes."}];function eD(){const t=Zs(),e=()=>{t("/calendar")};return l.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",children:[l.jsx("div",{className:"fixed inset-0 bg-[linear-gradient(to_right,hsl(var(--border)/0.03)_1px,transparent_1px),linear-gradient(to_bottom,hsl(var(--border)/0.03)_1px,transparent_1px)] bg-[size:4rem_4rem] pointer-events-none"}),l.jsx("header",{className:"fixed top-0 inset-x-0 z-50 glass safe-top",children:l.jsx("div",{className:"max-w-6xl mx-auto flex items-center justify-between px-4 sm:px-6 h-14 sm:h-16 md:h-[4.5rem]",children:l.jsxs(rn,{to:"/landing",className:"flex items-center gap-2 sm:gap-3 hover:opacity-90 transition-opacity min-h-[44px] py-2",children:[l.jsx("div",{className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl gradient-primary flex items-center justify-center shadow-lg shadow-primary/20 shrink-0",children:l.jsx("span",{className:"text-base sm:text-lg font-bold text-primary-foreground",children:"F"})}),l.jsx("span",{className:"text-lg sm:text-xl font-semibold text-foreground tracking-tight",children:"Focus"})]})})}),l.jsxs("section",{className:"relative pt-24 sm:pt-28 md:pt-36 pb-16 sm:pb-20 md:pb-28 px-4 sm:px-6",children:[l.jsx("div",{className:"absolute top-24 left-1/2 -translate-x-1/2 w-[300px] sm:w-[500px] md:w-[700px] h-[250px] sm:h-[400px] md:h-[500px] rounded-full bg-primary/15 blur-[80px] sm:blur-[100px] pointer-events-none"}),l.jsx("div",{className:"absolute -top-20 -right-20 w-80 h-80 rounded-full bg-primary/5 blur-[80px] pointer-events-none"}),l.jsx("div",{className:"absolute top-1/2 -left-20 w-60 h-60 rounded-full bg-primary/5 blur-[60px] pointer-events-none"}),l.jsxs("div",{className:"relative max-w-4xl mx-auto text-center space-y-6 sm:space-y-8 md:space-y-10",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-xs sm:text-sm font-medium animate-fade-in shadow-sm",children:[l.jsx(Nr,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),"Built for students who move fast"]}),l.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-bold tracking-tight text-foreground animate-slide-up leading-[1.15] px-1",children:["Your academic life,"," ",l.jsx("span",{className:"text-gradient",children:"organized."})]}),l.jsx("p",{className:"text-base sm:text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto animate-slide-up leading-relaxed px-4",style:{animationDelay:"0.1s"},children:"Calendar, notes, tasks, and study tools  all linked together. Stop juggling apps and start focusing on what matters."}),l.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 animate-slide-up pt-2",style:{animationDelay:"0.2s"},children:l.jsxs(K,{variant:"glow",size:"xl",onClick:e,className:"group btn-glow rounded-xl px-6 sm:px-8 h-12 sm:h-14 text-sm sm:text-base font-semibold w-full sm:w-auto min-h-[48px] touch-manipulation",children:[l.jsx(Wy,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Try the Demo",l.jsx(pC,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})}),l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground animate-fade-in px-4",style:{animationDelay:"0.3s"},children:"No credit card required  Explore everything before signing up"})]})]}),l.jsx("section",{className:"relative py-16 sm:py-24 md:py-32 px-4 sm:px-6",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12 sm:mb-16 md:mb-20",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-3 sm:mb-5 tracking-tight px-2",children:["Everything you need to ",l.jsx("span",{className:"text-gradient",children:"ace your semester"})]}),l.jsx("p",{className:"text-muted-foreground text-base sm:text-lg max-w-xl mx-auto leading-relaxed px-4",children:"One app that connects your calendar, notes, and study tools  so nothing falls through the cracks."})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:mre.map((r,n)=>l.jsxs("div",{className:"group relative p-5 sm:p-6 md:p-8 rounded-xl sm:rounded-2xl border border-border bg-card/80 backdrop-blur-sm hover:border-primary/25 hover:bg-card transition-all duration-300 hover:shadow-xl hover:shadow-primary/5 hover:-translate-y-0.5 animate-slide-up active:scale-[0.99]",style:{animationDelay:`${n*.06}s`},children:[l.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-primary/10 flex items-center justify-center mb-4 sm:mb-5 group-hover:bg-primary/15 transition-colors group-hover:scale-105",children:l.jsx(r.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}),l.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-foreground mb-2 sm:mb-3",children:r.title}),l.jsx("p",{className:"text-muted-foreground text-sm sm:text-[15px] leading-relaxed",children:r.description})]},r.title))})]})}),l.jsx("section",{className:"relative py-16 sm:py-24 md:py-32 px-4 sm:px-6",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-3 sm:mb-5 tracking-tight px-2",children:["Meet the ",l.jsx("span",{className:"text-gradient",children:"founders"})]}),l.jsx("p",{className:"text-muted-foreground text-sm sm:text-base md:text-lg max-w-xl mx-auto leading-relaxed px-4",children:"Tap a card to flip and learn more about each team member."})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 max-w-2xl sm:max-w-none mx-auto sm:mx-0",children:pre.map(r=>l.jsx(fre,{name:r.name,image:r.image,role:r.role,bullets:r.bullets,bio:r.bio},r.name))})]})}),l.jsx("section",{className:"py-16 sm:py-24 md:py-32 px-4 sm:px-6",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-6 sm:space-y-8",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-foreground tracking-tight px-2",children:["Ready to get ",l.jsx("span",{className:"text-gradient",children:"ahead"}),"?"]}),l.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-md mx-auto px-4",children:"Join students who are organizing smarter, not harder."}),l.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4",children:l.jsxs(K,{variant:"outline",size:"lg",onClick:e,className:"rounded-xl border-2 px-6 sm:px-8 h-12 font-medium hover:bg-primary/5 hover:border-primary/30 w-full sm:w-auto min-h-[48px] touch-manipulation",children:[l.jsx(Wy,{className:"h-4 w-4"}),"Explore Demo"]})})]})}),l.jsx("footer",{className:"border-t border-border py-8 sm:py-10 px-4 sm:px-6 bg-card/30 safe-bottom",children:l.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-muted-foreground text-center sm:text-left",children:[l.jsxs("div",{className:"flex items-center gap-3 justify-center sm:justify-start",children:[l.jsx("div",{className:"h-6 w-6 sm:h-7 sm:w-7 rounded-lg gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"F"})}),l.jsx("span",{className:"font-medium text-foreground/80",children:"Focus"})]}),l.jsxs("span",{children:[" ",new Date().getFullYear()," Focus. All rights reserved."]})]})})]})}const gre=()=>{const t=na();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};class tD extends m.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught:",e,r)}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback:l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"2rem",textAlign:"center",fontFamily:"system-ui, sans-serif",backgroundColor:"#f8fafc",color:"#1e293b"},children:[l.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),l.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:600,marginBottom:"0.5rem"},children:"Something went wrong"}),l.jsx("p",{style:{color:"#64748b",marginBottom:"1.5rem",maxWidth:"28rem"},children:this.state.error.message}),l.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),style:{padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",backgroundColor:"white",cursor:"pointer",fontSize:"0.875rem"},children:"Try again"})]}):this.props.children}}const vre=new Fz;function yre(){return m.useEffect(()=>{const e=localStorage.getItem("forward-theme")||"light";document.documentElement.classList.add(e),e==="dark"?document.documentElement.classList.remove("light"):document.documentElement.classList.remove("dark")},[]),null}const xre=()=>l.jsx(tD,{children:l.jsx(Wz,{client:vre,children:l.jsxs(kz,{children:[l.jsx(yre,{}),l.jsx(i$,{}),l.jsx($$,{}),l.jsx(e6,{children:l.jsxs(KB,{children:[l.jsx(zr,{path:"/",element:l.jsx(eD,{})}),l.jsx(zr,{path:"/landing",element:l.jsx(eD,{})}),l.jsxs(zr,{element:l.jsx(JJ,{}),children:[l.jsx(zr,{path:"/calendar",element:l.jsx(uee,{})}),l.jsx(zr,{path:"/dashboard",element:l.jsx(fZ,{})}),l.jsx(zr,{path:"/classes",element:l.jsx(PI,{})}),l.jsx(zr,{path:"/classes/:classId",element:l.jsx(PI,{})}),l.jsx(zr,{path:"/todo",element:l.jsx(zte,{})}),l.jsx(zr,{path:"/study",element:l.jsx(Bte,{})}),l.jsx(zr,{path:"/study-groups",element:l.jsx(tD,{children:l.jsx(Yte,{})})}),l.jsx(zr,{path:"/recap",element:l.jsx(Jte,{})}),l.jsx(zr,{path:"/settings",element:l.jsx(hre,{})})]}),l.jsx(zr,{path:"*",element:l.jsx(gre,{})})]})})]})})}),rD=document.getElementById("root");try{ON(rD).render(l.jsx(xre,{}))}catch(t){const e=t instanceof Error?t.message:String(t);rD.innerHTML=`
    <div style="padding:2rem;text-align:center;font-family:system-ui;max-width:32rem;margin:0 auto">
      <h2 style="color:#dc2626">Failed to load</h2>
      <p style="color:#64748b;font-size:0.875rem">${e}</p>
      <button onclick="location.reload()" style="margin-top:1rem;padding:0.5rem 1rem;cursor:pointer">Retry</button>
    </div>
  `,console.error("App failed to mount:",t)}})();
